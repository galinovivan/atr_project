!function(t){t(document).ready(function(){t("#centerSlider").slick({centerPadding:"0px",centerMode:!0,slidesToShow:5,prevArrow:'<div class="arrow left"><i class="social_arrow social_arrow-arrow_left"></i></div>',nextArrow:'<div class="arrow right"><i class="social_arrow social_arrow-arrow_right"></i></div>'})})}(jQuery),function(t){t(document).ready(function(){t("#contactForm").submit(function(e){e.preventDefault();var n=t(this).serialize(),o=n.action;t.ajax({type:"POST",url:window.wp_data.ajax_url+"?"+o,data:n,success:function(){t("#contactModal").modal("show")}})})})}(jQuery),function(t){t(document).ready(function(){var e=t("#wpuf-user_login"),n=t("#wpuf-user_pass"),o=t("#pass2");e.attr("placeholder","Email"),n.attr("placeholder","Пароль"),o.attr("placeholder","Повторите пароль");t("#wpuf-___________________pdf-pickfiles").text("Загрузить работу в pdf");t("#wpuf-featured_image-pickfiles").text("Загрузить превью в jpg")});var e=t(".wpuf_category_select_353_352 select");e=e.children(":first"),e.text("Категория")}(jQuery),function(t){t(document).ready(function(){new e(t("#dateLineContainer")).init()});var e=function(e){this.container=e,this.line=e.find(".date_line"),this.dateStart=Date.parse(e.attr("data-datestart")),this.dateEnd=Date.parse(e.attr("data-dateend")),this.currentDate=Date.now(),this.mobileParentHeight=276,this.mobileLine=t(".date_line_mobile"),this.mobileWidth="767"};e.prototype.init=function(){return this.isMobile()?(this.setMobileHeight(),!0):(this.setWidth(),!0)},e.prototype.getDateDelta=function(){var t=this.dateStart,e=this.dateEnd,n=this.currentDate,o=e-t,i=n-t,a=100*i/o;return console.log(a),a},e.prototype.isMobile=function(){return t(window).width()<this.mobileWidth},e.prototype.setWidth=function(){var t=this.calculateWidth();this.line.css("width",t)},e.prototype.calculateWidth=function(){return this.getDateDelta()+"%"},e.prototype.setMobileHeight=function(){var t=this.calculateMobileHeight();console.log(t),this.mobileLine.css("height",t)},e.prototype.calculateMobileHeight=function(){var t=this.getDateDelta(),e=this.mobileParentHeight;return Math.floor(e*(t/100))+"px"}}(jQuery),function(t){t(document).ready(function(){var e=t(".helper"),n=e.find(".helper_close");t("#helperToggle").on("click",function(t){e.slideToggle("fast"),t.preventDefault()}),n.on("click",function(t){e.slideToggle("fast"),t.preventDefault()})})}(jQuery),function(t){t(document).ready(function(){function e(){var e=t(".counter .count-box"),o=n(e.text());e.text(o)}function n(t){return parseInt(t)}e(),t("wp_ulike_btn").on("click",function(){e()})})}(jQuery),function(t){t(document).ready(function(){function e(e){var o=e.attr("href"),i=t(o),a=n(i);t("body").animate({scrollTop:a},800),t("#mainNav").slideToggle()}function n(t){var e=t.offset().top-325;return console.log(e),e}!function(){var n=t(".scroll_link");n.on("click",function(t){t.preventDefault(),e(n)})}()})}(jQuery),function(t){function e(t,e){return"error"==e?'<div class="alert alert-error"><p class="black">'+t+"</p></div>":'<div class="alert alert-success"><p class="black">'+t+"</p></div>"}var n=!1;t(document).ready(function(){function o(t,e,o){if(n)return e.find("response").html("<p>Необходимо дождаться ответа предыдущего запроса</p>"),!1;e.find('input[type="submit"]').attr("disabled","disabled").val("Подождите"),e.find(".response").html(""),n=!0}function i(o,i,a,r){if(console.log(arguments),o.success){var c=t("#stepSuccess");if(null!=(c=t(c.val())))t("#registrationModal").modal("hide"),c.modal("show");else{var s=e(o.data.message,"success");r.find('input[type="submit"]').prop("disabled",!1).val("Готово")}}else{var s=e(o.data.message,"error");r.find('input[type="submit"]').prop("disabled",!1).val("Отправить")}r.find(".response").html(s),o.data.redirect&&(window.location.href=o.data.redirect),n=!1}var a=t(".userform"),r={dataType:"json",beforeSubmit:o,success:i,error:function(t){console.log(arguments)},url:ajax_var.url};a.ajaxForm(r),t(".logout").click(function(e){if(e.preventDefault(),n)return!1;var o=t(this);t.ajax({type:"POST",url:"admin-ajax.php",dataType:"json",data:"action=logout_me&nonce="+t(this).data("nonce"),beforeSend:function(t){o.text("Подождите"),n=!0},success:function(t){t.success?(o.text("Выходим"),window.location.reload(!0)):alert(t.data.message)},error:function(t,e,n){console.log(arguments)},complete:function(t){n=!1}})})})}(jQuery),function(t){t(document).ready(function(){var e={successSendProject:t("#successSendProject")};t(".wpuf-form-add").submit(function(t){e.successSendProject.modal("show")})})}(jQuery),function(t){function e(t,e){e.on("click",function(){t.slideToggle()}),t.find(".nav_close").on("click",function(e){t.slideToggle(),e.preventDefault()})}t(document).ready(function(){e(t("#mainNav"),t("#navToggle"))})}(jQuery),function(t){function e(){var e=t("#pagePreloader");e.find(".spinner").fadeOut(),e.delay(350).fadeOut("slow")}t(window).on("load",function(){e()})}(jQuery),function(t){t(document).ready(function(){e.init()});var e={};e.nominationKey="nomination",e.dataAttr="data-filter",e.buttonsNominationClass="nomination_filter_button",e.galleryItemClass="filterable",e.init=function(){this.initButton(t("."+this.buttonsNominationClass))},e.initButton=function(e){var n=this;e.click(function(e){e.preventDefault(),filter=t(this).attr(n.dataAttr),elementList=t("."+n.galleryItemClass),n.filterContent(filter,elementList,n.nominationKey)})},e.filterContent=function(e,n,o){e=e.toLowerCase(),n.each(function(n,i){t(this).show(),elemAttr=t(this).attr("data-"+o),elemAttr=elemAttr.toLowerCase(),elemAttr!=e&&t(this).hide()}),console.log("filter is done: "+e)},e.removeFilter=function(e){e.each(function(e,n){t(this).show()})}}(jQuery),function(t){t(document).ready(function(){function e(){n.scrollTop()>400?o.show("fast"):o.hide("fast")}var n=t("body"),o=t(".top_link");o.on("click",function(t){t.preventDefault(),n.animate({scrollTop:0},800)}),window.onscroll=function(){e()}})}(jQuery),function(t){t(document).ready(function(){t('[data-toggle="tooltip"]').tooltip()})}(jQuery),function(t){t(document).ready(function(){t("#updateUserInfo").submit(function(e){e.preventDefault();var n=t("#userId").val(),o=t("#userUrl").val(),i=t("#formAction").val(),a={action:i,user_id:n,user_url:o};t.post(ajax_var,a,function(e){var n=t("#userMessages");n.text(e),n.slideToggle()})})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcm91c2VsLmpzIiwiY29udGFjdC1mb3JtLmpzIiwiY3VzdG9tX2Zvcm0uanMiLCJkYXRlX2xpbmVfY2FsY3VsYXRlLmpzIiwiaGVscGVyLmpzIiwibGlrZS5qcyIsImxpbmstc2Nyb2xsLmpzIiwibG9naW4uanMiLCJtb2RhbHMuanMiLCJuYXYuanMiLCJwcmVsb2FkZXIuanMiLCJwcm9qZWN0X2ZpbHRlci5qcyIsInNjcm9sbC5qcyIsInRvb2x0aXAuanMiLCJ1cGRhdGVfdXNlci5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInNsaWNrIiwiY2VudGVyUGFkZGluZyIsImNlbnRlck1vZGUiLCJzbGlkZXNUb1Nob3ciLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJqUXVlcnkiLCJzdWJtaXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9ybURhdGEiLCJ0aGlzIiwic2VyaWFsaXplIiwiYWN0aW9uIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJ3aW5kb3ciLCJ3cF9kYXRhIiwiYWpheF91cmwiLCJkYXRhIiwic3VjY2VzcyIsIm1vZGFsIiwiJGxvZ2luRmllbGQiLCIkcGFzc3dvcmRGaWVsZCIsIiRyZXBlYXRQYXNzd29yZEZpZWxkIiwiYXR0ciIsInRleHQiLCIkY2F0ZWdvcnlMaXN0IiwiY2hpbGRyZW4iLCJEYXRlTGluZSIsImluaXQiLCIkZWxlbWVudENvbnRhaW5lciIsImNvbnRhaW5lciIsImxpbmUiLCJmaW5kIiwiZGF0ZVN0YXJ0IiwiRGF0ZSIsInBhcnNlIiwiZGF0ZUVuZCIsImN1cnJlbnREYXRlIiwibm93IiwibW9iaWxlUGFyZW50SGVpZ2h0IiwibW9iaWxlTGluZSIsIm1vYmlsZVdpZHRoIiwicHJvdG90eXBlIiwiaXNNb2JpbGUiLCJzZXRNb2JpbGVIZWlnaHQiLCJzZXRXaWR0aCIsImdldERhdGVEZWx0YSIsInN0YXJ0IiwiZW5kIiwiY3VycmVudCIsInN0YXJ0RGVsdGEiLCJjdXJyZW50RGVsdGEiLCJkZWx0YSIsImNvbnNvbGUiLCJsb2ciLCJ3aWR0aCIsImNhbGN1bGF0ZVdpZHRoIiwiY3NzIiwiaGVpZ2h0IiwiY2FsY3VsYXRlTW9iaWxlSGVpZ2h0IiwicGFyZW50SGVpZ2h0IiwiTWF0aCIsImZsb29yIiwiJGhlbHBlciIsIiRjbG9zZVRvZ2dsZSIsIm9uIiwic2xpZGVUb2dnbGUiLCJmaWx0ZXJMaWtlQ291bnRlclRleHQiLCIkY291bnRlckJveCIsImN1cnJlbnROdW1iZXIiLCJmaWx0ZXJTdHJpbmdUb0ludGVnZXIiLCJzdHJpbmciLCJwYXJzZUludCIsIm1ha2VTY3JvbGxMaW5rIiwiJGxpbmsiLCJocmVmIiwiJGVsVGFyZ2V0Iiwic2Nyb2xsIiwiZ2V0U2Nyb2xsIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIiRlbCIsIiRzY3JvbGwiLCJvZmZzZXQiLCJ0b3AiLCIkc2Nyb2xsTGluayIsImJ1aWxkTWVzc2FnZSIsIm1lc3NhZ2UiLCJhamF4R28iLCJyZXFHbyIsImZvcm0iLCJvcHRpb25zIiwiaHRtbCIsInZhbCIsInJlcUNvbWUiLCJzdGF0dXNUZXh0IiwieGhyIiwiYXJndW1lbnRzIiwibmV4dFN0ZXBNb2RhbCIsInJlc3BvbnNlIiwicHJvcCIsInJlZGlyZWN0IiwibG9jYXRpb24iLCJ1c2VyRm9ybSIsImFyZ3MiLCJkYXRhVHlwZSIsImJlZm9yZVN1Ym1pdCIsImVycm9yIiwiYWpheF92YXIiLCJhamF4Rm9ybSIsImNsaWNrIiwibGluayIsImJlZm9yZVNlbmQiLCJyZWxvYWQiLCJhbGVydCIsImFqYXhPcHRpb25zIiwidGhyb3duRXJyb3IiLCJjb21wbGV0ZSIsIk1vZGFscyIsInN1Y2Nlc3NTZW5kUHJvamVjdCIsImluaXROYXYiLCIkbmF2IiwiJHRvZ2dsZUJ0biIsImluaXRQcmVsb2FkZXIiLCIkcHJlbG9hZGVyIiwiZmFkZU91dCIsImRlbGF5IiwiRmlsdGVyIiwibm9taW5hdGlvbktleSIsImRhdGFBdHRyIiwiYnV0dG9uc05vbWluYXRpb25DbGFzcyIsImdhbGxlcnlJdGVtQ2xhc3MiLCJpbml0QnV0dG9uIiwiYnV0dG9ucyIsInNlbGYiLCJmaWx0ZXIiLCJlbGVtZW50TGlzdCIsImZpbHRlckNvbnRlbnQiLCJleHAiLCJhdHRyVmFsIiwidG9Mb3dlckNhc2UiLCJlYWNoIiwia2V5IiwidmFsdWUiLCJzaG93IiwiZWxlbUF0dHIiLCJoaWRlIiwicmVtb3ZlRmlsdGVyIiwiaW5pdFRvcExpbmsiLCIkYm9keSIsIiR0b3BMaW5rIiwib25zY3JvbGwiLCJ0b29sdGlwIiwidXNlcklkIiwidXNlclVybCIsImZvcm1BY3Rpb24iLCJ1c2VyX2lkIiwidXNlcl91cmwiLCJwb3N0IiwiJHVzZXJNZXNzYWdlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxHQUVBQSxFQUFBQyxVQUFBQyxNQUFBLFdBQ0FGLEVBQUEsaUJBRUFHLE9BQ0FDLGNBQUEsTUFDQUMsWUFBQSxFQUNBQyxhQUFBLEVBQ0FDLFVBQUEscUZBQ0FDLFVBQUEsNEZBSUFDLFFDWEEsU0FBQVQsR0FFQUEsRUFBQUMsVUFBQUMsTUFBQSxXQUVBRixFQUFBLGdCQUFBVSxPQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLGdCQUNBLElBQUFDLEdBQUFiLEVBQUFjLE1BQUFDLFlBQ0FDLEVBQUFILEVBQUEsTUFFQWIsR0FBQWlCLE1BQ0FDLEtBQUEsT0FDQUMsSUFBQUMsT0FBQUMsUUFBQUMsU0FBQSxJQUFBTixFQUNBTyxLQUFBVixFQUNBVyxRQUFBLFdBQ0F4QixFQUFBLGlCQUNBeUIsTUFBQSxnQkFRQWhCLFFDdkJBLFNBQUFULEdBRUFBLEVBQUFDLFVBQUFDLE1BQUEsV0FFQSxHQUlBd0IsR0FBQTFCLEVBQUEsb0JBQ0EyQixFQUFBM0IsRUFBQSxtQkFDQTRCLEVBQUE1QixFQUFBLFNBR0EwQixHQUFBRyxLQUFBLGNBVEEsU0FVQUYsRUFBQUUsS0FBQSxjQVRBLFVBVUFELEVBQUFDLEtBQUEsY0FUQSxtQkFzQkE3QixHQUFBLDBDQUdBOEIsS0FGQSx5QkFJQTlCLEdBQUEsa0NBR0E4QixLQUZBLDJCQUtBLElBQUFDLEdBQUEvQixFQUFBLHVD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QUNBK0ksRUFBQXRFLFNBQUFDLFVBQUEsR0FBQSxPQUtBbEUsT0FBQXlJLFNBQUEsV0FDQUgsUUFvQkFqSixRQy9CQSxTQUFBVCxHQUVBQSxFQUFBQyxVQUFBQyxNQUFBLFdBQ0FGLEVBQUEsMkJBQUE4SixhQUdBckosUUNQQSxTQUFBVCxHQUVBQSxFQUFBQyxVQUFBQyxNQUFBLFdBRUFGLEVBQUEsbUJBRUFVLE9BQUEsU0FBQUMsR0FDQUEsRUFBQUMsZ0JBRUEsSUFBQW1KLEdBQUEvSixFQUFBLFdBQUFtRyxNQUNBNkQsRUFBQWhLLEVBQUEsWUFBQW1HLE1BQ0E4RCxFQUFBakssRUFBQSxlQUFBbUcsTUFFQXRGLEdBQ0FHLE9BQUFpSixFQUNBQyxRQUFBSCxFQUNBSSxTQUFBSCxFQUdBaEssR0FBQW9LLEtBQUFsRCxTQUFBckcsRUFBQSxTQUFBNEYsR0FDQSxHQUFBNEQsR0FBQXJLLEVBQUEsZ0JBRUFxSyxHQUFBdkksS0FBQTJFLEdBQ0E0RCxFQUFBN0YscUJBbUJBL0QiLCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiggJCApIHtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgICAgIHZhciBzbGlkZXIgPSAkKCcjY2VudGVyU2xpZGVyJyk7XHJcblxyXG4gICAgICAgIHNsaWRlci5zbGljayh7XHJcbiAgICAgICAgICAgY2VudGVyUGFkZGluZzogJzBweCcsXHJcbiAgICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogNSxcclxuICAgICAgICAgICAgcHJldkFycm93OiAnPGRpdiBjbGFzcz1cImFycm93IGxlZnRcIj48aSBjbGFzcz1cInNvY2lhbF9hcnJvdyBzb2NpYWxfYXJyb3ctYXJyb3dfbGVmdFwiPjwvaT48L2Rpdj4nLFxyXG4gICAgICAgICAgICBuZXh0QXJyb3c6ICc8ZGl2IGNsYXNzPVwiYXJyb3cgcmlnaHRcIj48aSBjbGFzcz1cInNvY2lhbF9hcnJvdyBzb2NpYWxfYXJyb3ctYXJyb3dfcmlnaHRcIj48L2k+PC9kaXY+JyxcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxufSkoalF1ZXJ5KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMDcuMDQuMjAxNy5cclxuICovXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgJCgnI2NvbnRhY3RGb3JtJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gJCh0aGlzKS5zZXJpYWxpemUoKTtcclxuICAgICAgICAgICB2YXIgYWN0aW9uID0gZm9ybURhdGFbJ2FjdGlvbiddO1xyXG5cclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiB3aW5kb3cud3BfZGF0YS5hamF4X3VybCArICc/JyArIGFjdGlvbixcclxuICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRjb250YWN0TW9kYWwgPSAkKCcjY29udGFjdE1vZGFsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGNvbnRhY3RNb2RhbC5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcbn0pKGpRdWVyeSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAwNS4wNC4yMDE3LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgbG9naW5MYWJlbCA9ICdFbWFpbCcsXHJcbiAgICAgICAgICAgIHBhc3NMYWJlbCA9ICfQn9Cw0YDQvtC70YwnLFxyXG4gICAgICAgICAgICByZXBlYXRQYXNzTGFiZWwgPSAn0J/QvtCy0YLQvtGA0LjRgtC1INC/0LDRgNC+0LvRjCc7XHJcblxyXG4gICAgICAgdmFyICRsb2dpbkZpZWxkID0gJCgnI3dwdWYtdXNlcl9sb2dpbicpLFxyXG4gICAgICAgICAgICRwYXNzd29yZEZpZWxkID0gJCgnI3dwdWYtdXNlcl9wYXNzJyksXHJcbiAgICAgICAgICAgJHJlcGVhdFBhc3N3b3JkRmllbGQgPSAkKCcjcGFzczInKTtcclxuXHJcblxyXG4gICAgICAgICRsb2dpbkZpZWxkLmF0dHIoJ3BsYWNlaG9sZGVyJywgbG9naW5MYWJlbCk7XHJcbiAgICAgICAgJHBhc3N3b3JkRmllbGQuYXR0cigncGxhY2Vob2xkZXInLCBwYXNzTGFiZWwpO1xyXG4gICAgICAgICRyZXBlYXRQYXNzd29yZEZpZWxkLmF0dHIoJ3BsYWNlaG9sZGVyJywgcmVwZWF0UGFzc0xhYmVsKTtcclxuXHJcbiAgICAgICAgLy8gdmFyICRyZWdGb3JtID0gJCgnLnJlZ19mb3JtJykuZmluZCgnZm9ybScpLFxyXG4gICAgICAgIC8vICAgICAkaW5mb01vZGFsID0gJCgnI2luZm9SZWdpc3RyYXRpb24nKSxcclxuICAgICAgICAvLyAgICAgJHJlZ2lzdHJhdGlvbk1vZGFsID0gJCgnI3JlZ2lzdHJhdGlvbk1vZGFsJyk7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyAkcmVnRm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgICRyZWdpc3RyYXRpb25Nb2RhbC5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIC8vICAgICAkaW5mb01vZGFsLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgdmFyICRwZGZGaWVsZCA9ICQoJyN3cHVmLV9fX19fX19fX19fX19fX19fX19wZGYtcGlja2ZpbGVzJyksXHJcbiAgICAgICAgICAgIHBkZkZpZWxkTGFiZWwgPSAn0JfQsNCz0YDRg9C30LjRgtGMINGA0LDQsdC+0YLRgyDQsiBwZGYnO1xyXG5cclxuICAgICAgICAkcGRmRmllbGQudGV4dChwZGZGaWVsZExhYmVsKTtcclxuXHJcbiAgICAgICAgdmFyICR0aHVtYkZpZWxkID0gJCgnI3dwdWYtZmVhdHVyZWRfaW1hZ2UtcGlja2ZpbGVzJyksXHJcbiAgICAgICAgICAgIHRodW1iRmllbGRMYWJlbCA9ICfQl9Cw0LPRgNGD0LfQuNGC0Ywg0L/RgNC10LLRjNGOINCyIGpwZyc7XHJcblxyXG4gICAgICAgICR0aHVtYkZpZWxkLnRleHQodGh1bWJGaWVsZExhYmVsKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciAkY2F0ZWdvcnlMaXN0ID0gJCgnLndwdWZfY2F0ZWdvcnlfc2VsZWN0XzM1M18zNTIgc2VsZWN0JyksXHJcbiAgICAgICAgY2F0ZWdvcnlMYWJlbCA9ICfQmtCw0YLQtdCz0L7RgNC40Y8nO1xyXG5cclxuICAgICRjYXRlZ29yeUxpc3QgPSAkY2F0ZWdvcnlMaXN0LmNoaWxkcmVuKCc6Zmlyc3QnKTtcclxuICAgICRjYXRlZ29yeUxpc3QudGV4dChjYXRlZ29yeUxhYmVsKTtcclxuXHJcblxyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDEyLjA1LjIwMTcuXHJcbiAqL1xyXG4oZnVuY3Rpb24oJCkge1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcblxyXG5cclxuICAgICAgICB2YXIgZGF0ZUxpbmUgPSBuZXcgRGF0ZUxpbmUoJCgnI2RhdGVMaW5lQ29udGFpbmVyJykpO1xyXG4gICAgICAgIGRhdGVMaW5lLmluaXQoKTtcclxuXHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtqcXVlcnl9ICRlbGVtZW50Q29udGFpbmVyXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gIHZhciBEYXRlTGluZSA9IGZ1bmN0aW9uKCRlbGVtZW50Q29udGFpbmVyKSB7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyID0gJGVsZW1lbnRDb250YWluZXI7XHJcbiAgICAgIHRoaXMubGluZSA9ICRlbGVtZW50Q29udGFpbmVyLmZpbmQoJy5kYXRlX2xpbmUnKTtcclxuICAgICAgdGhpcy5kYXRlU3RhcnQgPSAgRGF0ZS5wYXJzZSgkZWxlbWVudENvbnRhaW5lci5hdHRyKCdkYXRhLWRhdGVzdGFydCcpKTtcclxuICAgICAgdGhpcy5kYXRlRW5kID0gRGF0ZS5wYXJzZSgkZWxlbWVudENvbnRhaW5lci5hdHRyKCdkYXRhLWRhdGVlbmQnKSk7XHJcbiAgICAgIHRoaXMuY3VycmVudERhdGUgPSBEYXRlLm5vdygpO1xyXG4gICAgICB0aGlzLm1vYmlsZVBhcmVudEhlaWdodCA9IDI3NjtcclxuICAgICAgdGhpcy5tb2JpbGVMaW5lID0gJCgnLmRhdGVfbGluZV9tb2JpbGUnKTtcclxuICAgICAgdGhpcy5tb2JpbGVXaWR0aCA9ICc3NjcnO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBEYXRlTGluZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc01vYmlsZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0V2lkdGgoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0TW9iaWxlSGVpZ2h0KCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgRGF0ZUxpbmUucHJvdG90eXBlLmdldERhdGVEZWx0YSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuZGF0ZVN0YXJ0O1xyXG4gICAgICAgIHZhciBlbmQgPSB0aGlzLmRhdGVFbmQ7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmN1cnJlbnREYXRlO1xyXG5cclxuICAgICAgICB2YXIgc3RhcnREZWx0YSA9IGVuZCAtIHN0YXJ0O1xyXG4gICAgICAgIHZhciBjdXJyZW50RGVsdGEgPSBjdXJyZW50IC0gc3RhcnQ7XHJcbiAgICAgICAgdmFyIGRlbHRhID0gKGN1cnJlbnREZWx0YSAqIDEwMCkgLyBzdGFydERlbHRhO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhkZWx0YSk7XHJcblxyXG4gICAgICAgIHJldHVybiBkZWx0YTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIERhdGVMaW5lLnByb3RvdHlwZS5pc01vYmlsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAkKHdpbmRvdykud2lkdGgoKSA8IHRoaXMubW9iaWxlV2lkdGg7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgRGF0ZUxpbmUucHJvdG90eXBlLnNldFdpZHRoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICB2YXIgd2lkdGggPSB0aGlzLmNhbGN1bGF0ZVdpZHRoKCk7XHJcblxyXG4gICAgICAgIHRoaXMubGluZS5jc3MoJ3dpZHRoJywgd2lkdGgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBEYXRlTGluZS5wcm90b3R5cGUuY2FsY3VsYXRlV2lkdGggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZGVsdGEgPSB0aGlzLmdldERhdGVEZWx0YSgpO1xyXG4gICAgICAgcmV0dXJuIGRlbHRhICsgJyUnO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBEYXRlTGluZS5wcm90b3R5cGUuc2V0TW9iaWxlSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuY2FsY3VsYXRlTW9iaWxlSGVpZ2h0KCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLm1vYmlsZUxpbmUuY3NzKCdoZWlnaHQnLCBoZWlnaHQpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgRGF0ZUxpbmUucHJvdG90eXBlLmNhbGN1bGF0ZU1vYmlsZUhlaWdodCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBkZWx0YSA9IHRoaXMuZ2V0RGF0ZURlbHRhKCk7XHJcbiAgICAgICAgdmFyIHBhcmVudEhlaWdodCA9IHRoaXMubW9iaWxlUGFyZW50SGVpZ2h0O1xyXG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLmZsb29yKHBhcmVudEhlaWdodCAqIChkZWx0YSAvIDEwMCkpO1xyXG5cclxuICAgICAgICByZXR1cm4gaGVpZ2h0ICsgJ3B4JztcclxuICAgIH07XHJcblxyXG5cclxuXHJcbn0pKGpRdWVyeSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDI0LjAzLjIwMTcuXHJcbiAqL1xyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgdmFyICRoZWxwZXIgPSAkKCcuaGVscGVyJyk7XHJcbiAgICAgIHZhciAkY2xvc2VUb2dnbGUgPSAkaGVscGVyLmZpbmQoJy5oZWxwZXJfY2xvc2UnKTtcclxuICAgICAgdmFyICRoZWxwZXJUb2dnbGUgPSAkKCcjaGVscGVyVG9nZ2xlJyk7XHJcblxyXG4gICAgICAkaGVscGVyVG9nZ2xlLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICRoZWxwZXIuc2xpZGVUb2dnbGUoJ2Zhc3QnKTtcclxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICAgJGNsb3NlVG9nZ2xlLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgJGhlbHBlci5zbGlkZVRvZ2dsZSgnZmFzdCcpO1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMTcuMDUuMjAxNy5cclxuICovXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgZmlsdGVyTGlrZUNvdW50ZXJUZXh0KCk7XHJcblxyXG4gICAgICAgIHZhciAkbGlrZUJ0biA9ICQoJ3dwX3VsaWtlX2J0bicpO1xyXG5cclxuICAgICAgICAkbGlrZUJ0bi5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBmaWx0ZXJMaWtlQ291bnRlclRleHQoKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZpbHRlckxpa2VDb3VudGVyVGV4dCgpIHtcclxuICAgICAgICAgICAgdmFyICRjb3VudGVyQm94ID0gJCgnLmNvdW50ZXIgLmNvdW50LWJveCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnROdW1iZXIgPSBmaWx0ZXJTdHJpbmdUb0ludGVnZXIoJGNvdW50ZXJCb3gudGV4dCgpKTtcclxuXHJcbiAgICAgICAgICAgICRjb3VudGVyQm94LnRleHQoY3VycmVudE51bWJlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0gc3RyaW5nXHJcbiAgICAgICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBmaWx0ZXJTdHJpbmdUb0ludGVnZXIoc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChzdHJpbmcpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDA3LjA0LjIwMTcuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCAkICkge1xyXG4gICAgXHJcbiAgICBcclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICBpbml0U2Nyb2xsTGluaygpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRTY3JvbGxMaW5rKCkge1xyXG4gICAgICAgICAgICB2YXIgJHNjcm9sbExpbmsgPSAkKCcuc2Nyb2xsX2xpbmsnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRzY3JvbGxMaW5rLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbWFrZVNjcm9sbExpbmsoJHNjcm9sbExpbmspO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0ge2pRdWVyeX0gJGxpbmtcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBtYWtlU2Nyb2xsTGluaygkbGluaykge1xyXG4gICAgICAgICAgICB2YXIgaHJlZiA9ICRsaW5rLmF0dHIoJ2hyZWYnKTtcclxuICAgICAgICAgICAgdmFyICRlbFRhcmdldCA9ICQoaHJlZik7XHJcbiAgICAgICAgICAgIHZhciBzY3JvbGwgPSBnZXRTY3JvbGwoJGVsVGFyZ2V0KTtcclxuICAgICAgICAgICAgdmFyICRib2R5ID0gJCgnYm9keScpO1xyXG4gICAgICAgICAgICAkYm9keS5hbmltYXRlKHtzY3JvbGxUb3A6IHNjcm9sbH0sIDgwMCk7XHJcbiAgICAgICAgICAgICQoJyNtYWluTmF2Jykuc2xpZGVUb2dnbGUoKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcGFyYW0ge2pRdWVyeX0gJGVsXHJcbiAgICAgICAgICogQHJldHVybnMge0ludGVnZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0U2Nyb2xsKCRlbCkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB2YXIgJHNjcm9sbCA9ICRlbC5vZmZzZXQoKS50b3AgLSAzMjU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY3JvbGwpO1xyXG4gICAgICAgICAgICByZXR1cm4gJHNjcm9sbDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG59KShqUXVlcnkpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMjguMDMuMjAxNy5cclxuICovXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcbiAgICB2YXIgYWpheEdvID0gZmFsc2U7XHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHZhciB1c2VyRm9ybSA9ICQoJy51c2VyZm9ybScpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByZXFHbyhkYXRhLCBmb3JtLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGlmIChhamF4R28pIHtcclxuICAgICAgICAgICAgICAgIGZvcm0uZmluZCgncmVzcG9uc2UnKS5odG1sKCc8cD7QndC10L7QsdGF0L7QtNC40LzQviDQtNC+0LbQtNCw0YLRjNGB0Y8g0L7RgtCy0LXRgtCwINC/0YDQtdC00YvQtNGD0YnQtdCz0L4g0LfQsNC/0YDQvtGB0LA8L3A+Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwic3VibWl0XCJdJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKS52YWwoJ9Cf0L7QtNC+0LbQtNC40YLQtScpO1xyXG4gICAgICAgICAgICBmb3JtLmZpbmQoJy5yZXNwb25zZScpLmh0bWwoJycpO1xyXG4gICAgICAgICAgICBhamF4R28gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiByZXFDb21lKGRhdGEsIHN0YXR1c1RleHQsIHhociwgZm9ybSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG5leHRTdGVwTW9kYWwgPSAkKCcjc3RlcFN1Y2Nlc3MnKTtcclxuICAgICAgICAgICAgICAgIG5leHRTdGVwTW9kYWwgPSAkKG5leHRTdGVwTW9kYWwudmFsKCkpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dFN0ZXBNb2RhbCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3JlZ2lzdHJhdGlvbk1vZGFsJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0U3RlcE1vZGFsLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IGJ1aWxkTWVzc2FnZShkYXRhLmRhdGEubWVzc2FnZSwgJ3N1Y2Nlc3MnKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0nKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS52YWwoJ9CT0L7RgtC+0LLQvicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gYnVpbGRNZXNzYWdlKGRhdGEuZGF0YS5tZXNzYWdlLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpLnZhbCgn0J7RgtC/0YDQsNCy0LjRgtGMJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9ybS5maW5kKCcucmVzcG9uc2UnKS5odG1sKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5yZWRpcmVjdCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkYXRhLmRhdGEucmVkaXJlY3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYWpheEdvID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgYXJncyA9IHtcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgYmVmb3JlU3VibWl0OiByZXFHbyxcclxuICAgICAgICAgICAgc3VjY2VzczogcmVxQ29tZSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVybDogYWpheF92YXIudXJsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB1c2VyRm9ybS5hamF4Rm9ybShhcmdzKTtcclxuXHJcbiAgICAgICAgJCgnLmxvZ291dCcpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAoYWpheEdvKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBsaW5rID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgIHVybDogJ2FkbWluLWFqYXgucGhwJyxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiAnYWN0aW9uPWxvZ291dF9tZSZub25jZT0nICsgJCh0aGlzKS5kYXRhKCdub25jZScpLFxyXG4gICAgICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsudGV4dCgn0J/QvtC00L7QttC00LjRgtC1Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYWpheEdvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rLnRleHQoJ9CS0YvRhdC+0LTQuNC8Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBhamF4T3B0aW9ucywgdGhyb3duRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWpheEdvID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGJ1aWxkTWVzc2FnZShtZXNzYWdlLCB0eXBlKSB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gJ2Vycm9yJykge1xyXG5cclxuICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWVycm9yXCI+PHAgY2xhc3M9XCJibGFja1wiPicgKyBtZXNzYWdlICsgJzwvcD48L2Rpdj4nO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPjxwIGNsYXNzPVwiYmxhY2tcIj4nICsgbWVzc2FnZSArICc8L3A+PC9kaXY+JztcclxuICAgIH1cclxuXHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMjkuMDMuMjAxNy5cclxuICovXHJcbihmdW5jdGlvbiggJCApIHtcclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgTW9kYWxzID0ge1xyXG4gICAgICAgICAgICAnc3VjY2Vzc1NlbmRQcm9qZWN0JzogJCgnI3N1Y2Nlc3NTZW5kUHJvamVjdCcpXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgdmFyICRjcmVhdGVQcm9qZWN0Rm9ybSA9ICQoJy53cHVmLWZvcm0tYWRkJyk7XHJcblxyXG4gICAgICAgICRjcmVhdGVQcm9qZWN0Rm9ybS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgTW9kYWxzLnN1Y2Nlc3NTZW5kUHJvamVjdC5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDI0LjAzLjIwMTcuXHJcbiAqL1xyXG5cclxuXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICBpbml0TmF2KCQoJyNtYWluTmF2JyksICQoJyNuYXZUb2dnbGUnKSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gJG5hdlxyXG4gICAgICogQHBhcmFtICR0b2dnbGVCdG5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gaW5pdE5hdigkbmF2LCAkdG9nZ2xlQnRuKSB7XHJcblxyXG4gICAgICAkdG9nZ2xlQnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICRuYXYuc2xpZGVUb2dnbGUoKTtcclxuXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgJGNsb3NlQnRuID0gJG5hdi5maW5kKCcubmF2X2Nsb3NlJyk7XHJcblxyXG4gICAgICAgJGNsb3NlQnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gICAgICAgICAgICRuYXYuc2xpZGVUb2dnbGUoKTtcclxuICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSAkbmF2XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHNsaWRlTmF2KCRuYXYpIHtcclxuICAgICAgICAkbmF2LnNsaWRlVG9nZ2xlKCk7XHJcbiAgICB9XHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMDQuMDQuMjAxNy5cclxuICovXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcblxyXG4gICAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaW5pdFByZWxvYWRlcigpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGluaXRQcmVsb2FkZXIoKSB7XHJcbiAgICAgICAgdmFyICRwcmVsb2FkZXIgPSAkKCcjcGFnZVByZWxvYWRlcicpLFxyXG4gICAgICAgICAgICAkc3Bpbm5lciA9ICRwcmVsb2FkZXIuZmluZCgnLnNwaW5uZXInKTtcclxuXHJcbiAgICAgICAgJHNwaW5uZXIuZmFkZU91dCgpO1xyXG4gICAgICAgICRwcmVsb2FkZXIuZGVsYXkoMzUwKS5mYWRlT3V0KCdzbG93Jyk7XHJcbiAgICB9XHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMDIuMDUuMjAxNy5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIEZpbHRlci5pbml0KCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgdmFyIEZpbHRlciA9IHt9O1xyXG5cclxuICAgIEZpbHRlci5ub21pbmF0aW9uS2V5ID0gJ25vbWluYXRpb24nO1xyXG4gICAgRmlsdGVyLmRhdGFBdHRyID0gJ2RhdGEtZmlsdGVyJztcclxuICAgIEZpbHRlci5idXR0b25zTm9taW5hdGlvbkNsYXNzID0gJ25vbWluYXRpb25fZmlsdGVyX2J1dHRvbic7XHJcbiAgICBGaWx0ZXIuZ2FsbGVyeUl0ZW1DbGFzcyA9ICdmaWx0ZXJhYmxlJztcclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIEZpbHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdEJ1dHRvbigkKCcuJyArIHRoaXMuYnV0dG9uc05vbWluYXRpb25DbGFzcykpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gYnV0dG9uc1xyXG4gICAgICovXHJcbiAgICBGaWx0ZXIuaW5pdEJ1dHRvbiA9IGZ1bmN0aW9uKGJ1dHRvbnMpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICBidXR0b25zLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgIGZpbHRlciA9ICQodGhpcykuYXR0cihzZWxmLmRhdGFBdHRyKTtcclxuXHJcbiAgICAgICAgICBlbGVtZW50TGlzdCA9ICQoJy4nICsgc2VsZi5nYWxsZXJ5SXRlbUNsYXNzKTtcclxuICAgICAgICAgIHNlbGYuZmlsdGVyQ29udGVudChmaWx0ZXIsIGVsZW1lbnRMaXN0LCBzZWxmLm5vbWluYXRpb25LZXkpO1xyXG5cclxuICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gZXhwXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudExpc3RcclxuICAgICAqIEBwYXJhbSBhdHRyVmFsXHJcbiAgICAgKi9cclxuICAgIEZpbHRlci5maWx0ZXJDb250ZW50ID0gZnVuY3Rpb24oZXhwLCBlbGVtZW50TGlzdCwgYXR0clZhbCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBleHAgPSBleHAudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgZWxlbWVudExpc3QuZWFjaChmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICQodGhpcykuc2hvdygpO1xyXG4gICAgICAgICAgICBlbGVtQXR0ciA9ICQodGhpcykuYXR0cignZGF0YS0nICsgYXR0clZhbCk7XHJcbiAgICAgICAgICAgIGVsZW1BdHRyID0gZWxlbUF0dHIudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgaWYgKGVsZW1BdHRyICE9IGV4cCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2ZpbHRlciBpcyBkb25lOiAnICsgZXhwKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGVsZW1lbnRMaXN0XHJcbiAgICAgKi9cclxuICAgIEZpbHRlci5yZW1vdmVGaWx0ZXIgPSBmdW5jdGlvbihlbGVtZW50TGlzdCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGVsZW1lbnRMaXN0LmVhY2goZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICAkKHRoaXMpLnNob3coKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICB2YXIgJGJvZHkgPSAkKCdib2R5Jyk7XHJcbiAgICAgICB2YXIgJHRvcExpbmsgPSAkKCcudG9wX2xpbmsnKTtcclxuXHJcbiAgICAgICAkdG9wTGluay5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cclxuICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICRib2R5LmFuaW1hdGUoe3Njcm9sbFRvcDogMH0sIDgwMCk7XHJcblxyXG4gICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGluaXRUb3BMaW5rKCk7XHJcbiAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAvKipcclxuICAgICAgICAqIFxyXG4gICAgICAgICovXHJcbiAgICAgICBmdW5jdGlvbiBpbml0VG9wTGluaygpIHtcclxuICAgICAgICAgICBpZiAoJGJvZHkuc2Nyb2xsVG9wKCkgPiA0MDApIHtcclxuICAgICAgICAgICAgICAgJHRvcExpbmsuc2hvdygnZmFzdCcpO1xyXG4gICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICR0b3BMaW5rLmhpZGUoJ2Zhc3QnKTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICB9XHJcblxyXG5cclxuICAgfSk7XHJcblxyXG5cclxuXHJcbn0pKGpRdWVyeSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDMwLjAzLjIwMTcuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKCk7XHJcbiAgICB9KTtcclxuXHJcbn0pKGpRdWVyeSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAxNi4wNS4yMDE3LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgJGZvcm0gPSAkKCcjdXBkYXRlVXNlckluZm8nKTtcclxuXHJcbiAgICAgICAgJGZvcm0uc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdXNlcklkID0gJCgnI3VzZXJJZCcpLnZhbCgpO1xyXG4gICAgICAgICAgICB2YXIgdXNlclVybCA9ICQoJyN1c2VyVXJsJykudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciBmb3JtQWN0aW9uID0gJCgnI2Zvcm1BY3Rpb24nKS52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogZm9ybUFjdGlvbixcclxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcclxuICAgICAgICAgICAgICAgIHVzZXJfdXJsOiB1c2VyVXJsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkLnBvc3QoYWpheF92YXIsIGZvcm1EYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyICR1c2VyTWVzc2FnZSA9ICQoJyN1c2VyTWVzc2FnZXMnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkdXNlck1lc3NhZ2UudGV4dChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAkdXNlck1lc3NhZ2Uuc2xpZGVUb2dnbGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG59KShqUXVlcnkpOyJdfQ==
