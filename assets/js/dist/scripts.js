!function(t){t(document).ready(function(){t("#centerSlider").slick({centerPadding:"0px",centerMode:!0,slidesToShow:5,prevArrow:'<div class="arrow left"><i class="social_arrow social_arrow-arrow_left"></i></div>',nextArrow:'<div class="arrow right"><i class="social_arrow social_arrow-arrow_right"></i></div>'})})}(jQuery),function(t){t(document).ready(function(){t("#contactForm").submit(function(e){e.preventDefault();var n=t(this).serialize();n.action;t.ajax({type:"POST",url:window.wp_data.ajax_url,data:n,success:function(){t("#contactModal").modal("show")}})})})}(jQuery),function(t){t(document).ready(function(){var e=document.documentElement.lang;if("ru-RU"==e)var n="E-mail",o="Пароль",i="Повторите пароль";else if("en-US"==e){var n="E-mail",o="Password",i="Repeat password";t("#pass1").attr("placeholder",o),t("#last_name").attr("placeholder","Name")}var a=t("#wpuf-user_login"),r=t("#wpuf-user_pass"),c=t("#pass2");if(a.attr("placeholder",n),r.attr("placeholder",o),c.attr("placeholder",i),"ru-RU"==e)var s="Загрузить превью в jpg",u="Загрузить работу в pdf";else if("en-US"==e)var s="Download preview in jpg",u="Download the work in pdf";var l=t("#wpuf-___________________pdf-pickfiles");t("#post-68 > div > form > ul > li.wpuf-submit").prepend("<span>Нажимая на кнопку отправить, я подтверждаю свою дееспособность и даю согласие на обработку персональных данных.</span>"),l.text(u),t("#wpuf-featured_image-pickfiles").text(s)});var e=t(".wpuf_category_select_353_352 select"),n=document.documentElement.lang;if("ru-RU"==n)var o="Категория";else if("en-US"==n)var o="Category";e=e.children(":first"),e.text(o)}(jQuery),function(t){t(document).ready(function(){currentLang=document.documentElement.lang;var e={};e.finalist="Finalists 2016",e.students="Students",e.graduate="Graduates",e.single="Single",e.multiple="Group",e.interior="Interior of apartment",e.pavilon="Pavilion / arbor",e.busStation="Bus station",e.cityOnTheWater="Sity on the Water",e.nomination="Nomination",e.numbersOfPartners="Number of partners";var n={};if(n.name="Full name",n.city="City",n.phoneNumber="Phone Number",n.univer="University",n.spec="Specialty",n.teamLead="Mentor",n.projectName="Project Name",n.projectDesc="Project description",n.submit="Send proect","en-US"==currentLang){t(".wpuf_category_select_353_352 option:nth-of-type(2)").text(e.finalist),t(".wpuf_category_select_353_352 option:nth-of-type(3)").text(e.students),t(".wpuf_category_select_353_352 option:nth-of-type(4)").text(e.graduate),t("select.wpuf__352 option:first-of-type").text(e.numbersOfPartners),t("select.wpuf__352 option:nth-of-type(2)").text(e.single),t("select.wpuf__352 option:nth-of-type(3)").text(e.multiple),t("select.wpuf_nomination_352 option:first-of-type").text(e.nomination),t("select.wpuf_nomination_352 option:nth-of-type(2)").text(e.interior),t("select.wpuf_nomination_352 option:nth-of-type(3)").text(e.pavilon),t("select.wpuf_nomination_352 option:nth-of-type(4)").text(e.busStation),t("select.wpuf_nomination_352 option:nth-of-type(5)").text(e.cityOnTheWater);var o=t(".wpuf-form-add");o.find("#post_title").attr("placeholder",n.name),o.find("#city").attr("placeholder",n.city),o.find("#phone_number").attr("placeholder",n.phoneNumber),o.find("#univer").attr("placeholder",n.univer),o.find("#spec").attr("placeholder",n.spec),o.find("#team_lead").attr("placeholder",n.teamLead),o.find("#project_name").attr("placeholder",n.projectName),o.find("#project_desc").attr("placeholder",n.projectDesc),o.find('input[type="submit"]').val(n.submit),t("#registrationModal").find('input[type="submit"]').first().val("Join"),console.log(t("#registrationModal").find('input[type="submit"]').first().val())}})}(jQuery),function(t){t(document).ready(function(){new e(t("#dateLineContainer")).init()});var e=function(e){this.container=e,this.line=e.find(".date_line"),this.dateStart=Date.parse(e.attr("data-datestart")),this.dateEnd=Date.parse(e.attr("data-dateend")),this.currentDate=Date.now(),this.mobileParentHeight=276,this.mobileLine=t(".date_line_mobile"),this.mobileWidth="767"};e.prototype.init=function(){return this.isMobile()?(this.setMobileHeight(),!0):(this.setWidth(),!0)},e.prototype.getDateDelta=function(){var t=this.dateStart,e=this.dateEnd,n=this.currentDate,o=e-t,i=n-t,a=100*i/o;return console.log(a),a},e.prototype.isMobile=function(){return t(window).width()<this.mobileWidth},e.prototype.setWidth=function(){var t=this.calculateWidth();this.line.css("width",t)},e.prototype.calculateWidth=function(){return this.getDateDelta()+"%"},e.prototype.setMobileHeight=function(){var t=this.calculateMobileHeight();console.log(t),this.mobileLine.css("height",t)},e.prototype.calculateMobileHeight=function(){var t=this.getDateDelta(),e=this.mobileParentHeight;return Math.floor(e*(t/100))+"px"}}(jQuery),function(t){t(document).ready(function(){var e=t(".filter_field"),n=t(".gallery_list");e.click(function(e){e.preventDefault();var o=t(this).attr("data-filter"),i=t(this).attr("data-terms"),a={action:"myfilter",filter_nomination_query:o,terms:i};t.ajax({url:window.wp_data.ajax_url,data:a,type:"POST",beforeSend:function(t){n.find(".sort_preloader").show()},success:function(t){n.find(".sort_preloader").hide(),n.html(t)}})})})}(jQuery),function(t){t(document).ready(function(){var e=t("#topHelper"),n=e.find(".helper_close");t("#helperToggle").on("click",function(t){e.slideToggle("fast"),t.preventDefault()}),n.on("click",function(t){e.slideToggle("fast"),t.preventDefault()})})}(jQuery),function(t){t(document).ready(function(){function e(e){var o=e.attr("href"),i=t(o),a=n(i);t("body").animate({scrollTop:a},800),t("#mainNav").slideToggle()}function n(t){var e=t.offset().top-325;return console.log(e),e}!function(){var n=t(".scroll_link");n.on("click",function(t){t.preventDefault(),e(n)})}()})}(jQuery),function(t){function e(t,e){return"error"==e?'<div class="alert alert-error"><p class="black">'+t+"</p></div>":'<div class="alert alert-success"><p class="black">'+t+"</p></div>"}var n=!1;t(document).ready(function(){function o(t,e,o){if(n)return e.find("response").html("<p>Необходимо дождаться ответа предыдущего запроса</p>"),!1;e.find('input[type="submit"]').attr("disabled","disabled").val("Подождите"),e.find(".response").html(""),n=!0}function i(o,i,a,r){if(console.log(arguments),o.success){var c=t("#stepSuccess");if(null!=(c=t(c.val())))t("#registrationModal").modal("hide"),c.modal("show");else{var s=e(o.data.message,"success");r.find('input[type="submit"]').prop("disabled",!1).val("Готово")}}else{var s=e(o.data.message,"error");r.find('input[type="submit"]').prop("disabled",!1).val("Отправить")}r.find(".response").html(s),o.data.redirect&&(window.location.href=o.data.redirect),n=!1}var a=t(".userform"),r={dataType:"json",beforeSubmit:o,success:i,error:function(t){console.log(arguments)},url:ajax_var.url};a.ajaxForm(r),t(".logout").click(function(e){if(e.preventDefault(),n)return!1;var o=t(this);t.ajax({type:"POST",url:"admin-ajax.php",dataType:"json",data:"action=logout_me&nonce="+t(this).data("nonce"),beforeSend:function(t){o.text("Подождите"),n=!0},success:function(t){t.success?(o.text("Выходим"),window.location.reload(!0)):alert(t.data.message)},error:function(t,e,n){console.log(arguments)},complete:function(t){n=!1}})})})}(jQuery),function(t){t(document).ready(function(){t("#successSendProject");t(".wpuf-form-add").submit(function(t){var e=window.sessionStorage;e&&e.setItem("project-publish-status","create")}),console.log("status:"+window.sessionStorage.getItem("project-publish-status"))})}(jQuery),function(t){function e(t,e){e.on("click",function(){t.slideToggle()}),t.find(".nav_close").on("click",function(e){t.slideToggle(),e.preventDefault()})}t(document).ready(function(){e(t("#mainNav"),t("#navToggle"))})}(jQuery),function(t){function e(){var e=t("#pagePreloader");e.find(".spinner").fadeOut(),e.delay(350).fadeOut("slow")}t(window).on("load",function(){e()})}(jQuery),function(t){t(document).ready(function(){function e(){n.scrollTop()>400?o.show("fast"):o.hide("fast")}var n=t("body"),o=t(".top_link");o.on("click",function(t){t.preventDefault(),n.animate({scrollTop:0},800)}),window.onscroll=function(){e()}})}(jQuery),function(t){t(document).ready(function(){var e=t(".sort_field"),n=t(".gallery_list");e.click(function(e){e.preventDefault();var o=t(this).attr("data-sort"),i=t(this).attr("data-terms"),a={action:"myfilter",sort_type:o,terms:i};t.ajax({url:window.wp_data.ajax_url,data:a,type:"POST",beforeSend:function(t){n.find(".sort_preloader").show()},success:function(t){n.find(".sort_preloader").hide(),n.html(t)}})})})}(jQuery),function(t){t(document).ready(function(){var n=t("#subscribleHelper");if(document.cookie){e.getCookie("user_is_visited")||(e.setCookie("user_is_visited","true",{expires:604800}),n.show(),console.log(document.cookie)),console.log(document.cookie)}else n.show();t("#subscribleCloseButton").click(function(t){t.preventDefault(),n.slideToggle("fast")})});var e={setCookie:function(t,e,n){n=n||{};var o=n.expires;if("number"==typeof o&&o){var i=new Date;i.setDate(i.getTime()+1e3*o),o=n.expires=i}o&&o.toUTCString()&&(n.expires=o.toUTCString()),e=encodeURIComponent(e);var a=t+"="+e;for(var r in n){a+="; "+r;var c=n[r];!0!==c&&(a+="="+c)}document.cookie=a},getCookie:function(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0},deleteCookie:function(t){this.setCookie(t,"",{expires:-1})}}}(jQuery),function(t){t(document).ready(function(){t('[data-toggle="tooltip"]').tooltip()})}(jQuery),function(t){t(document).ready(function(){t("#updateUserInfo").submit(function(e){e.preventDefault();var n=t("#userId").val(),o=t("#userUrl").val(),i=t("#userName").val(),a=t("#formAction").val(),r=t("#currentLang").val(),c={action:a,user_id:n,user_url:o,user_name:i,current_lang:r};t.post(ajax_var,c,function(e){var n=t("#userMessages");n.text(e),n.slideToggle()})})})}(jQuery),function(t){t(document).ready(function(){function e(t){yaCounter44245474.reachGoal(t,function(){console.log("Send event data to "+t)})}t("#topActionForUnloggined").on("click",function(t){e("topHelperHereButton")}),t(".reg_form").find("form").submit(function(){e("registrationForm")}),t("#buttonLearnMore").click(function(){e("buttonLearnMore")}),t("#buttonRegistrationOnButtom").click(function(){e("bottomRegistration")}),t(".wpcf7-form").click(function(){e("bottomContactForm")}),t("#buttonHouse").click(function(){e("buttonHouse")}),t("#ButtonCityOntheWater").click(function(){e("cityOnTheWaterNomination")}),t("#buttonAppartaments").click(function(){e("buttonApartamentsNomination")}),t("#buttonBusStation").click(function(){e("buttonBusStationNomination")})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcm91c2VsLmpzIiwiY29udGFjdC1mb3JtLmpzIiwiY3VzdG9tX2Zvcm0uanMiLCJkYXRlX2xpbmVfY2FsY3VsYXRlLmpzIiwiZmlsdGVyLmpzIiwiaGVscGVyLmpzIiwibGluay1zY3JvbGwuanMiLCJsb2dpbi5qcyIsIm1vZGFscy5qcyIsIm5hdi5qcyIsInByZWxvYWRlci5qcyIsInNjcm9sbC5qcyIsInNvcnQtaGFuZGxlci5qcyIsInN1YnNjcmlwbGVfbW9kYWwuanMiLCJ0b29sdGlwLmpzIiwidXBkYXRlX3VzZXIuanMiLCJ5YW5kZXguanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJzbGljayIsImNlbnRlclBhZGRpbmciLCJjZW50ZXJNb2RlIiwic2xpZGVzVG9TaG93IiwicHJldkFycm93IiwibmV4dEFycm93IiwialF1ZXJ5Iiwic3VibWl0IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm1EYXRhIiwidGhpcyIsInNlcmlhbGl6ZSIsImFqYXgiLCJ0eXBlIiwidXJsIiwid2luZG93Iiwid3BfZGF0YSIsImFqYXhfdXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJtb2RhbCIsImxhbmciLCJkb2N1bWVudEVsZW1lbnQiLCJsb2dpbkxhYmVsIiwicGFzc0xhYmVsIiwicmVwZWF0UGFzc0xhYmVsIiwiYXR0ciIsIiRsb2dpbkZpZWxkIiwiJHBhc3N3b3JkRmllbGQiLCIkcmVwZWF0UGFzc3dvcmRGaWVsZCIsInRodW1iRmllbGRMYWJlbCIsInBkZkZpZWxkTGFiZWwiLCIkcGRmRmllbGQiLCJwcmVwZW5kIiwidGV4dCIsIiRjYXRlZ29yeUxpc3QiLCJjdXJyZW50TGFuZyIsImNhdGVnb3J5TGFiZWwiLCJjaGlsZHJlbiIsIlNlbGVjdCIsImZpbmFsaXN0Iiwic3R1ZGVudHMiLCJncmFkdWF0ZSIsInNpbmdsZSIsIm11bHRpcGxlIiwiaW50ZXJpb3IiLCJwYXZpbG9uIiwiYnVzU3RhdGlvbiIsImNpdHlPblRoZVdhdGVyIiwibm9taW5hdGlvbiIsIm51bWJlcnNPZlBhcnRuZXJzIiwidGV4dEZpZWxkIiwibmFtZSIsImNpdHkiLCJwaG9uZU51bWJlciIsInVuaXZlciIsInNwZWMiLCJ0ZWFtTGVhZCIsInByb2plY3ROYW1lIiwicHJvamVjdERlc2MiLCJ3cFVmRm9ybSIsImZpbmQiLCJ2YWwiLCJmaXJzdCIsImNvbnNvbGUiLCJsb2ciLCJEYXRlTGluZSIsImluaXQiLCIkZWxlbWVudENvbnRhaW5lciIsImNvbnRhaW5lciIsImxpbmUiLCJkYXRlU3RhcnQiLCJEYXRlIiwicGFyc2UiLCJkYXRlRW5kIiwiY3VycmVudERhdGUiLCJub3ciLCJtb2JpbGVQYXJlbnRIZWlnaHQiLCJtb2JpbGVMaW5lIiwibW9iaWxlV2lkdGgiLCJwcm90b3R5cGUiLCJpc01vYmlsZSIsInNldE1vYmlsZUhlaWdodCIsInNldFdpZHRoIiwiZ2V0RGF0ZURlbHRhIiwic3RhcnQiLCJlbmQiLCJjdXJyZW50Iiwic3RhcnREZWx0YSIsImN1cnJlbnREZWx0YSIsImRlbHRhIiwid2lkdGgiLCJjYWxjdWxhdGVXaWR0aCIsImNzcyIsImhlaWdodCIsImNhbGN1bGF0ZU1vYmlsZUhlaWdodCIsInBhcmVudEhlaWdodCIsIk1hdGgiLCJmbG9vciIsImZpbHRlckZpZWxkIiwiZ2FsbGVyeUxpc3QiLCJjbGljayIsImZpbHRlclF1ZXJ5IiwidGVybXMiLCJyZXNwb25zZURhdGEiLCJhY3Rpb24iLCJmaWx0ZXJfbm9taW5hdGlvbl9xdWVyeSIsImJlZm9yZVNlbmQiLCJ4aHIiLCJzaG93IiwiaGlkZSIsImh0bWwiLCIkaGVscGVyIiwiJGNsb3NlVG9nZ2xlIiwib24iLCJzbGlkZVRvZ2dsZSIsIm1ha2VTY3JvbGxMaW5rIiwiJGxpbmsiLCJocmVmIiwiJGVsVGFyZ2V0Iiwic2Nyb2xsIiwiZ2V0U2Nyb2xsIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIiRlbCIsIiRzY3JvbGwiLCJvZmZzZXQiLCJ0b3AiLCIkc2Nyb2xsTGluayIsImJ1aWxkTWVzc2FnZSIsIm1lc3NhZ2UiLCJhamF4R28iLCJyZXFHbyIsImZvcm0iLCJvcHRpb25zIiwicmVxQ29tZSIsInN0YXR1c1RleHQiLCJhcmd1bWVudHMiLCJuZXh0U3RlcE1vZGFsIiwicmVzcG9uc2UiLCJwcm9wIiwicmVkaXJlY3QiLCJsb2NhdGlvbiIsInVzZXJGb3JtIiwiYXJncyIsImRhdGFUeXBlIiwiYmVmb3JlU3VibWl0IiwiZXJyb3IiLCJhamF4X3ZhciIsImFqYXhGb3JtIiwibGluayIsInJlbG9hZCIsImFsZXJ0IiwiYWpheE9wdGlvbnMiLCJ0aHJvd25FcnJvciIsImNvbXBsZXRlIiwic2Vzc2lvblN0b3JhZ2UiLCJzZXRJdGVtIiwiZ2V0SXRlbSIsImluaXROYXYiLCIkbmF2IiwiJHRvZ2dsZUJ0biIsImluaXRQcmVsb2FkZXIiLCIkcHJlbG9hZGVyIiwiZmFkZU91dCIsImRlbGF5IiwiaW5pdFRvcExpbmsiLCIkYm9keSIsIiR0b3BMaW5rIiwib25zY3JvbGwiLCJzb3J0RmllbGQiLCJzb3J0VHlwZSIsInNvcnRfdHlwZSIsInN1YnNjcmlibGVIZWxwZXIiLCJjb29raWUiLCJDb29raWUiLCJnZXRDb29raWUiLCJzZXRDb29raWUiLCJleHBpcmVzIiwidmFsdWUiLCJkYXRlIiwic2V0RGF0ZSIsImdldFRpbWUiLCJ0b1VUQ1N0cmluZyIsImVuY29kZVVSSUNvbXBvbmVudCIsInVwZGF0ZWRDb29raWUiLCJwcm9wTmFtZSIsInByb3BWYWx1ZSIsIm1hdGNoZXMiLCJtYXRjaCIsIlJlZ0V4cCIsInJlcGxhY2UiLCJkZWNvZGVVUklDb21wb25lbnQiLCJ1bmRlZmluZWQiLCJkZWxldGVDb29raWUiLCJ0b29sdGlwIiwidXNlcklkIiwidXNlclVybCIsInVzZXJOYW1lIiwiZm9ybUFjdGlvbiIsInVzZXJfaWQiLCJ1c2VyX3VybCIsInVzZXJfbmFtZSIsImN1cnJlbnRfbGFuZyIsInBvc3QiLCIkdXNlck1lc3NhZ2UiLCJzZW5kRGF0YVRvWWFuZGV4TWV0cmljYSIsImV2ZW50SWQiLCJ5YUNvdW50ZXI0NDI0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LEVBQ0FDLFFBQUFKLEVBQ0FLLFNBQUFKLEVBQ0FLLFVBQUFKLEVBQ0FLLGFBQUF2SyxFQUdBeEMsR0FBQWdOLEtBQUF4RCxTQUFBM0ksRUFBQSxTQUFBa0ksR0FDQSxHQUFBa0UsR0FBQWpOLEVBQUEsZ0JBRUFpTixHQUFBM0ssS0FBQXlHLEdBQ0FrRSxFQUFBMUYscUJBbUJBOUcsUUM5Q0EsU0FBQVQsR0FFQUEsRUFBQUMsVUFBQUMsTUFBQSxXQXNEQSxRQUFBZ04sR0FBQUMsR0FDQUMsa0JBQUFDLFVBQUFGLEVBQUEsV0FDQS9JLFFBQUFDLElBQUEsc0JBQUE4SSxLQXREQW5OLEVBQUEsMkJBQ0FzSCxHQUFBLFFBQUEsU0FBQTNHLEdBQ0F1TSxFQUFBLHlCQUlBbE4sRUFBQSxhQUFBaUUsS0FBQSxRQUNBdkQsT0FBQSxXQUNBd00sRUFBQSxzQkFHQWxOLEVBQUEsb0JBQ0F5RyxNQUFBLFdBQ0F5RyxFQUFBLHFCQUdBbE4sRUFBQSwrQkFDQXlHLE1BQUEsV0FDQXlHLEVBQUEsd0JBR0FsTixFQUFBLGVBRUF5RyxNQUFBLFdBQ0F5RyxFQUFBLHVCQUlBbE4sRUFBQSxnQkFDQXlHLE1BQUEsV0FDQXlHLEVBQUEsaUJBR0FsTixFQUFBLHlCQUNBeUcsTUFBQSxXQUNBeUcsRUFBQSw4QkFHQWxOLEVBQUEsdUJBQ0F5RyxNQUFBLFdBQ0F5RyxFQUFBLGlDQUdBbE4sRUFBQSxxQkFDQXlHLE1BQUEsV0FDQXlHLEVBQUEsbUNBYUF6TSIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgdmFyIHNsaWRlciA9ICQoJyNjZW50ZXJTbGlkZXInKTtcclxuXHJcbiAgICAgICAgc2xpZGVyLnNsaWNrKHtcclxuICAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnMHB4JyxcclxuICAgICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiA1LFxyXG4gICAgICAgICAgICBwcmV2QXJyb3c6ICc8ZGl2IGNsYXNzPVwiYXJyb3cgbGVmdFwiPjxpIGNsYXNzPVwic29jaWFsX2Fycm93IHNvY2lhbF9hcnJvdy1hcnJvd19sZWZ0XCI+PC9pPjwvZGl2PicsXHJcbiAgICAgICAgICAgIG5leHRBcnJvdzogJzxkaXYgY2xhc3M9XCJhcnJvdyByaWdodFwiPjxpIGNsYXNzPVwic29jaWFsX2Fycm93IHNvY2lhbF9hcnJvdy1hcnJvd19yaWdodFwiPjwvaT48L2Rpdj4nLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG59KShqUXVlcnkpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMDcuMDQuMjAxNy5cbiAqL1xuKGZ1bmN0aW9uKCAkICkge1xuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgJCgnI2NvbnRhY3RGb3JtJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICB2YXIgZm9ybURhdGEgPSAkKHRoaXMpLnNlcmlhbGl6ZSgpO1xuICAgICAgICAgICB2YXIgYWN0aW9uID0gZm9ybURhdGFbJ2FjdGlvbiddO1xuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIHVybDogd2luZG93LndwX2RhdGEuYWpheF91cmwsXG4gICAgICAgICAgICAgICAgZGF0YTogZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkY29udGFjdE1vZGFsID0gJCgnI2NvbnRhY3RNb2RhbCcpO1xuICAgICAgICAgICAgICAgICAgICAkY29udGFjdE1vZGFsLm1vZGFsKCdzaG93Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxuXG59KShqUXVlcnkpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAwNS4wNC4yMDE3LlxuICovXG4oZnVuY3Rpb24oICQgKSB7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICB2YXIgbGFuZyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nO1xuXG4gICAgaWYgKGxhbmcgPT0gJ3J1LVJVJykge1xuICAgICAgICB2YXIgbG9naW5MYWJlbCA9ICdFLW1haWwnLFxuICAgICAgICAgICAgcGFzc0xhYmVsID0gJ9Cf0LDRgNC+0LvRjCcsXG4gICAgICAgICAgICByZXBlYXRQYXNzTGFiZWwgPSAn0J/QvtCy0YLQvtGA0LjRgtC1INC/0LDRgNC+0LvRjCc7XG4gICAgfSBlbHNlIGlmIChsYW5nID09ICdlbi1VUycpIHtcbiAgICAgICAgdmFyIGxvZ2luTGFiZWwgPSAnRS1tYWlsJyxcbiAgICAgICAgICAgIHBhc3NMYWJlbCA9ICdQYXNzd29yZCcsXG4gICAgICAgICAgICByZXBlYXRQYXNzTGFiZWwgPSAnUmVwZWF0IHBhc3N3b3JkJztcbiAgICAgICAgJCgnI3Bhc3MxJykuYXR0cigncGxhY2Vob2xkZXInLCBwYXNzTGFiZWwpO1xuICAgICAgICAkKCcjbGFzdF9uYW1lJykuYXR0cigncGxhY2Vob2xkZXInLCAnTmFtZScpO1xuICAgICAgICAvLyQoJy5hdXRoX2Zvcm0gLndwdWYtZm9ybSBsaSBpbnB1dFt0eXBlPXN1Ym1pdF0nKS52YWwoJ1JlZ2lzdHJhdGlvbicpO1xuXG4gICAgfVxuXG5cbiAgICAgICB2YXIgJGxvZ2luRmllbGQgPSAkKCcjd3B1Zi11c2VyX2xvZ2luJyksXG4gICAgICAgICAgICRwYXNzd29yZEZpZWxkID0gJCgnI3dwdWYtdXNlcl9wYXNzJyksXG4gICAgICAgICAgICRyZXBlYXRQYXNzd29yZEZpZWxkID0gJCgnI3Bhc3MyJyk7XG5cblxuICAgICAgICAkbG9naW5GaWVsZC5hdHRyKCdwbGFjZWhvbGRlcicsIGxvZ2luTGFiZWwpO1xuICAgICAgICAkcGFzc3dvcmRGaWVsZC5hdHRyKCdwbGFjZWhvbGRlcicsIHBhc3NMYWJlbCk7XG4gICAgICAgICRyZXBlYXRQYXNzd29yZEZpZWxkLmF0dHIoJ3BsYWNlaG9sZGVyJywgcmVwZWF0UGFzc0xhYmVsKTtcblxuICAgICAgICAvLyB2YXIgJHJlZ0Zvcm0gPSAkKCcucmVnX2Zvcm0nKS5maW5kKCdmb3JtJyksXG4gICAgICAgIC8vICAgICAkaW5mb01vZGFsID0gJCgnI2luZm9SZWdpc3RyYXRpb24nKSxcbiAgICAgICAgLy8gICAgICRyZWdpc3RyYXRpb25Nb2RhbCA9ICQoJyNyZWdpc3RyYXRpb25Nb2RhbCcpO1xuICAgICAgICAvL1xuICAgICAgICAvLyAkcmVnRm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vICAgICAkcmVnaXN0cmF0aW9uTW9kYWwubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgLy8gICAgICRpbmZvTW9kYWwubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgLy8gfSk7XG5cblxuICAgICAgICBpZiAobGFuZyA9PSAncnUtUlUnKSB7XG5cbiAgICAgICAgICAgIHZhciB0aHVtYkZpZWxkTGFiZWwgPSAn0JfQsNCz0YDRg9C30LjRgtGMINC/0YDQtdCy0YzRjiDQsiBqcGcnO1xuICAgICAgICAgICAgdmFyIHBkZkZpZWxkTGFiZWwgPSAn0JfQsNCz0YDRg9C30LjRgtGMINGA0LDQsdC+0YLRgyDQsiBwZGYnO1xuXG5cbiAgICAgICAgfSBlbHNlIGlmIChsYW5nID09ICdlbi1VUycpIHtcbiAgICAgICAgICAgIHZhciB0aHVtYkZpZWxkTGFiZWwgPSAnRG93bmxvYWQgcHJldmlldyBpbiBqcGcnO1xuICAgICAgICAgICAgdmFyIHBkZkZpZWxkTGFiZWwgPSAnRG93bmxvYWQgdGhlIHdvcmsgaW4gcGRmJztcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdmFyICRwZGZGaWVsZCA9ICQoJyN3cHVmLV9fX19fX19fX19fX19fX19fX19wZGYtcGlja2ZpbGVzJyk7XG4gICAgICAgIHZhciAkZmlsZUxpc3RDb21wb25lbnQgPSAkKCcjcG9zdC02OCA+IGRpdiA+IGZvcm0gPiB1bCA+IGxpLndwdWYtc3VibWl0Jyk7XG4gICAgICAgIHZhciBodG1sU3RyaW5nID0gJzxzcGFuPtCd0LDQttC40LzQsNGPINC90LAg0LrQvdC+0L/QutGDINC+0YLQv9GA0LDQstC40YLRjCwg0Y8g0L/QvtC00YLQstC10YDQttC00LDRjiDRgdCy0L7RjiDQtNC10LXRgdC/0L7RgdC+0LHQvdC+0YHRgtGMINC4INC00LDRjiDRgdC+0LPQu9Cw0YHQuNC1INC90LAg0L7QsdGA0LDQsdC+0YLQutGDINC/0LXRgNGB0L7QvdCw0LvRjNC90YvRhSDQtNCw0L3QvdGL0YUuPC9zcGFuPic7XG4gICAgICAgICRmaWxlTGlzdENvbXBvbmVudC5wcmVwZW5kKGh0bWxTdHJpbmcpO1xuICAgICAgICAkcGRmRmllbGQudGV4dChwZGZGaWVsZExhYmVsKTtcblxuICAgICAgICB2YXIgJHRodW1iRmllbGQgPSAkKCcjd3B1Zi1mZWF0dXJlZF9pbWFnZS1waWNrZmlsZXMnKTtcblxuXG4gICAgICAgICR0aHVtYkZpZWxkLnRleHQodGh1bWJGaWVsZExhYmVsKTtcbiAgICB9KTtcblxuICAgIHZhciAkY2F0ZWdvcnlMaXN0ID0gJCgnLndwdWZfY2F0ZWdvcnlfc2VsZWN0XzM1M18zNTIgc2VsZWN0Jyk7XG5cbiAgICB2YXIgY3VycmVudExhbmcgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZztcblxuICAgIGlmIChjdXJyZW50TGFuZyA9PSAncnUtUlUnKSB7XG4gICAgICAgIHZhciBjYXRlZ29yeUxhYmVsID0gJ9Ca0LDRgtC10LPQvtGA0LjRjyc7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50TGFuZyA9PSAnZW4tVVMnKSB7XG4gICAgICAgIHZhciBjYXRlZ29yeUxhYmVsID0gJ0NhdGVnb3J5JztcbiAgICB9XG5cbiAgICAkY2F0ZWdvcnlMaXN0ID0gJGNhdGVnb3J5TGlzdC5jaGlsZHJlbignOmZpcnN0Jyk7XG4gICAgJGNhdGVnb3J5TGlzdC50ZXh0KGNhdGVnb3J5TGFiZWwpO1xuXG5cblxuXG5cblxuXG5cbn0pKGpRdWVyeSk7XG4oZnVuY3Rpb24oJCkge1xuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGN1cnJlbnRMYW5nID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lmxhbmc7XG5cbiAgICAgICAgdmFyIFNlbGVjdCA9IHt9O1xuICAgICAgICBTZWxlY3QuZmluYWxpc3QgPSAnRmluYWxpc3RzIDIwMTYnO1xuICAgICAgICBTZWxlY3Quc3R1ZGVudHMgPSAnU3R1ZGVudHMnO1xuICAgICAgICBTZWxlY3QuZ3JhZHVhdGUgPSAnR3JhZHVhdGVzJztcbiAgICAgICAgU2VsZWN0LnNpbmdsZSA9ICdTaW5nbGUnO1xuICAgICAgICBTZWxlY3QubXVsdGlwbGUgPSAnR3JvdXAnO1xuICAgICAgICBTZWxlY3QuaW50ZXJpb3IgPSAnSW50ZXJpb3Igb2YgYXBhcnRtZW50JztcbiAgICAgICAgU2VsZWN0LnBhdmlsb24gPSAnUGF2aWxpb24gLyBhcmJvcic7XG4gICAgICAgIFNlbGVjdC5idXNTdGF0aW9uID0gJ0J1cyBzdGF0aW9uJztcbiAgICAgICAgU2VsZWN0LmNpdHlPblRoZVdhdGVyID0gJ1NpdHkgb24gdGhlIFdhdGVyJztcbiAgICAgICAgU2VsZWN0Lm5vbWluYXRpb24gPSAnTm9taW5hdGlvbic7XG4gICAgICAgIFNlbGVjdC5udW1iZXJzT2ZQYXJ0bmVycyA9ICdOdW1iZXIgb2YgcGFydG5lcnMnO1xuXG4gICAgICAgIHZhciB0ZXh0RmllbGQgPSB7fTtcbiAgICAgICAgdGV4dEZpZWxkLm5hbWUgPSAnRnVsbCBuYW1lJztcbiAgICAgICAgdGV4dEZpZWxkLmNpdHkgPSAnQ2l0eSc7XG4gICAgICAgIHRleHRGaWVsZC5waG9uZU51bWJlciA9ICdQaG9uZSBOdW1iZXInO1xuICAgICAgICB0ZXh0RmllbGQudW5pdmVyID0gJ1VuaXZlcnNpdHknO1xuICAgICAgICB0ZXh0RmllbGQuc3BlYyA9ICdTcGVjaWFsdHknO1xuICAgICAgICB0ZXh0RmllbGQudGVhbUxlYWQgPSAnTWVudG9yJztcbiAgICAgICAgdGV4dEZpZWxkLnByb2plY3ROYW1lID0gJ1Byb2plY3QgTmFtZSc7XG4gICAgICAgIHRleHRGaWVsZC5wcm9qZWN0RGVzYyA9ICdQcm9qZWN0IGRlc2NyaXB0aW9uJztcbiAgICAgICAgdGV4dEZpZWxkLnN1Ym1pdCA9ICdTZW5kIHByb2VjdCc7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRMYW5nID09ICdlbi1VUycpIHtcblxuICAgICAgICAgICAgJCgnLndwdWZfY2F0ZWdvcnlfc2VsZWN0XzM1M18zNTIgb3B0aW9uOm50aC1vZi10eXBlKDIpJykudGV4dChTZWxlY3QuZmluYWxpc3QpO1xuICAgICAgICAgICAgJCgnLndwdWZfY2F0ZWdvcnlfc2VsZWN0XzM1M18zNTIgb3B0aW9uOm50aC1vZi10eXBlKDMpJykudGV4dChTZWxlY3Quc3R1ZGVudHMpO1xuICAgICAgICAgICAgJCgnLndwdWZfY2F0ZWdvcnlfc2VsZWN0XzM1M18zNTIgb3B0aW9uOm50aC1vZi10eXBlKDQpJykudGV4dChTZWxlY3QuZ3JhZHVhdGUpO1xuXG4gICAgICAgICAgICAkKCdzZWxlY3Qud3B1Zl9fMzUyIG9wdGlvbjpmaXJzdC1vZi10eXBlJykudGV4dChTZWxlY3QubnVtYmVyc09mUGFydG5lcnMpO1xuICAgICAgICAgICAgJCgnc2VsZWN0LndwdWZfXzM1MiBvcHRpb246bnRoLW9mLXR5cGUoMiknKS50ZXh0KFNlbGVjdC5zaW5nbGUpO1xuICAgICAgICAgICAgJCgnc2VsZWN0LndwdWZfXzM1MiBvcHRpb246bnRoLW9mLXR5cGUoMyknKS50ZXh0KFNlbGVjdC5tdWx0aXBsZSk7XG5cbiAgICAgICAgICAgICQoJ3NlbGVjdC53cHVmX25vbWluYXRpb25fMzUyIG9wdGlvbjpmaXJzdC1vZi10eXBlJykudGV4dChTZWxlY3Qubm9taW5hdGlvbik7XG4gICAgICAgICAgICAkKCdzZWxlY3Qud3B1Zl9ub21pbmF0aW9uXzM1MiBvcHRpb246bnRoLW9mLXR5cGUoMiknKS50ZXh0KFNlbGVjdC5pbnRlcmlvcik7XG4gICAgICAgICAgICAkKCdzZWxlY3Qud3B1Zl9ub21pbmF0aW9uXzM1MiBvcHRpb246bnRoLW9mLXR5cGUoMyknKS50ZXh0KFNlbGVjdC5wYXZpbG9uKTtcbiAgICAgICAgICAgICQoJ3NlbGVjdC53cHVmX25vbWluYXRpb25fMzUyIG9wdGlvbjpudGgtb2YtdHlwZSg0KScpLnRleHQoU2VsZWN0LmJ1c1N0YXRpb24pO1xuICAgICAgICAgICAgJCgnc2VsZWN0LndwdWZfbm9taW5hdGlvbl8zNTIgb3B0aW9uOm50aC1vZi10eXBlKDUpJykudGV4dChTZWxlY3QuY2l0eU9uVGhlV2F0ZXIpO1xuXG4gICAgICAgICAgICB2YXIgd3BVZkZvcm0gPSAkKCcud3B1Zi1mb3JtLWFkZCcpO1xuXG4gICAgICAgICAgICB3cFVmRm9ybS5maW5kKCcjcG9zdF90aXRsZScpLmF0dHIoJ3BsYWNlaG9sZGVyJywgdGV4dEZpZWxkLm5hbWUpO1xuICAgICAgICAgICAgd3BVZkZvcm0uZmluZCgnI2NpdHknKS5hdHRyKCdwbGFjZWhvbGRlcicsIHRleHRGaWVsZC5jaXR5KTtcbiAgICAgICAgICAgIHdwVWZGb3JtLmZpbmQoJyNwaG9uZV9udW1iZXInKS5hdHRyKCdwbGFjZWhvbGRlcicsIHRleHRGaWVsZC5waG9uZU51bWJlcik7XG4gICAgICAgICAgICB3cFVmRm9ybS5maW5kKCcjdW5pdmVyJykuYXR0cigncGxhY2Vob2xkZXInLCB0ZXh0RmllbGQudW5pdmVyKTtcbiAgICAgICAgICAgIHdwVWZGb3JtLmZpbmQoJyNzcGVjJykuYXR0cigncGxhY2Vob2xkZXInLCB0ZXh0RmllbGQuc3BlYyk7XG4gICAgICAgICAgICB3cFVmRm9ybS5maW5kKCcjdGVhbV9sZWFkJykuYXR0cigncGxhY2Vob2xkZXInLCB0ZXh0RmllbGQudGVhbUxlYWQpO1xuICAgICAgICAgICAgd3BVZkZvcm0uZmluZCgnI3Byb2plY3RfbmFtZScpLmF0dHIoJ3BsYWNlaG9sZGVyJywgdGV4dEZpZWxkLnByb2plY3ROYW1lKTtcbiAgICAgICAgICAgIHdwVWZGb3JtLmZpbmQoJyNwcm9qZWN0X2Rlc2MnKS5hdHRyKCdwbGFjZWhvbGRlcicsIHRleHRGaWVsZC5wcm9qZWN0RGVzYyk7XG4gICAgICAgICAgICB3cFVmRm9ybS5maW5kKCdpbnB1dFt0eXBlPVwic3VibWl0XCJdJykudmFsKHRleHRGaWVsZC5zdWJtaXQpO1xuXG4gICAgICAgICAgICAkKCcjcmVnaXN0cmF0aW9uTW9kYWwnKS5maW5kKCdpbnB1dFt0eXBlPVwic3VibWl0XCJdJykuZmlyc3QoKS52YWwoJ0pvaW4nKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCQoJyNyZWdpc3RyYXRpb25Nb2RhbCcpLmZpbmQoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0nKS5maXJzdCgpLnZhbCgpKTtcblxuXG5cblxuXG5cblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuXG59KShqUXVlcnkpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAxMi4wNS4yMDE3LlxuICovXG4oZnVuY3Rpb24oJCkge1xuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblxuXG4gICAgICAgIHZhciBkYXRlTGluZSA9IG5ldyBEYXRlTGluZSgkKCcjZGF0ZUxpbmVDb250YWluZXInKSk7XG4gICAgICAgIGRhdGVMaW5lLmluaXQoKTtcblxuXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7anF1ZXJ5fSAkZWxlbWVudENvbnRhaW5lclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICB2YXIgRGF0ZUxpbmUgPSBmdW5jdGlvbigkZWxlbWVudENvbnRhaW5lcikge1xuICAgICAgdGhpcy5jb250YWluZXIgPSAkZWxlbWVudENvbnRhaW5lcjtcbiAgICAgIHRoaXMubGluZSA9ICRlbGVtZW50Q29udGFpbmVyLmZpbmQoJy5kYXRlX2xpbmUnKTtcbiAgICAgIHRoaXMuZGF0ZVN0YXJ0ID0gIERhdGUucGFyc2UoJGVsZW1lbnRDb250YWluZXIuYXR0cignZGF0YS1kYXRlc3RhcnQnKSk7XG4gICAgICB0aGlzLmRhdGVFbmQgPSBEYXRlLnBhcnNlKCRlbGVtZW50Q29udGFpbmVyLmF0dHIoJ2RhdGEtZGF0ZWVuZCcpKTtcbiAgICAgIHRoaXMuY3VycmVudERhdGUgPSBEYXRlLm5vdygpO1xuICAgICAgdGhpcy5tb2JpbGVQYXJlbnRIZWlnaHQgPSAyNzY7XG4gICAgICB0aGlzLm1vYmlsZUxpbmUgPSAkKCcuZGF0ZV9saW5lX21vYmlsZScpO1xuICAgICAgdGhpcy5tb2JpbGVXaWR0aCA9ICc3NjcnO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBEYXRlTGluZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRXaWR0aCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRNb2JpbGVIZWlnaHQoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgRGF0ZUxpbmUucHJvdG90eXBlLmdldERhdGVEZWx0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmRhdGVTdGFydDtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMuZGF0ZUVuZDtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmN1cnJlbnREYXRlO1xuICAgICAgICB2YXIgc3RhcnREZWx0YSA9IGVuZCAtIHN0YXJ0O1xuICAgICAgICB2YXIgY3VycmVudERlbHRhID0gY3VycmVudCAtIHN0YXJ0O1xuICAgICAgICB2YXIgZGVsdGEgPSAoY3VycmVudERlbHRhICogMTAwKSAvIHN0YXJ0RGVsdGE7XG5cbiAgICAgICAgY29uc29sZS5sb2coZGVsdGEpO1xuXG4gICAgICAgIHJldHVybiBkZWx0YTtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBEYXRlTGluZS5wcm90b3R5cGUuaXNNb2JpbGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQod2luZG93KS53aWR0aCgpIDwgdGhpcy5tb2JpbGVXaWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBEYXRlTGluZS5wcm90b3R5cGUuc2V0V2lkdGggPSBmdW5jdGlvbigpIHtcbiAgICAgICB2YXIgd2lkdGggPSB0aGlzLmNhbGN1bGF0ZVdpZHRoKCk7XG5cbiAgICAgICAgdGhpcy5saW5lLmNzcygnd2lkdGgnLCB3aWR0aCk7XG4gICAgfTtcblxuICAgIERhdGVMaW5lLnByb3RvdHlwZS5jYWxjdWxhdGVXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGVsdGEgPSB0aGlzLmdldERhdGVEZWx0YSgpO1xuICAgICAgIHJldHVybiBkZWx0YSArICclJztcbiAgICB9O1xuXG5cbiAgICBEYXRlTGluZS5wcm90b3R5cGUuc2V0TW9iaWxlSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmNhbGN1bGF0ZU1vYmlsZUhlaWdodCgpO1xuICAgICAgICBjb25zb2xlLmxvZyhoZWlnaHQpO1xuICAgICAgICB0aGlzLm1vYmlsZUxpbmUuY3NzKCdoZWlnaHQnLCBoZWlnaHQpO1xuICAgIH07XG5cbiAgICBEYXRlTGluZS5wcm90b3R5cGUuY2FsY3VsYXRlTW9iaWxlSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkZWx0YSA9IHRoaXMuZ2V0RGF0ZURlbHRhKCk7XG4gICAgICAgIHZhciBwYXJlbnRIZWlnaHQgPSB0aGlzLm1vYmlsZVBhcmVudEhlaWdodDtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguZmxvb3IocGFyZW50SGVpZ2h0ICogKGRlbHRhIC8gMTAwKSk7XG5cbiAgICAgICAgcmV0dXJuIGhlaWdodCArICdweCc7XG4gICAgfTtcblxuXG5cbn0pKGpRdWVyeSk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHJvb3Qgb24gMjkuMDUuMTcuXG4gKi9cblxuKGZ1bmN0aW9uKCQpIHtcblxuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIGZpbHRlckZpZWxkID0gJCgnLmZpbHRlcl9maWVsZCcpO1xuICAgICAgICB2YXIgZ2FsbGVyeUxpc3QgPSAkKCcuZ2FsbGVyeV9saXN0Jyk7XG4gICAgICAgIGZpbHRlckZpZWxkLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyIGZpbHRlclF1ZXJ5ID0gJCh0aGlzKS5hdHRyKCdkYXRhLWZpbHRlcicpO1xuICAgICAgICAgICAgdmFyIHRlcm1zID0gJCh0aGlzKS5hdHRyKCdkYXRhLXRlcm1zJyk7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2VEYXRhID0ge1xuICAgICAgICAgICAgICAgICdhY3Rpb24nOiAnbXlmaWx0ZXInLFxuICAgICAgICAgICAgICAgICdmaWx0ZXJfbm9taW5hdGlvbl9xdWVyeSc6IGZpbHRlclF1ZXJ5LFxuICAgICAgICAgICAgICAgICd0ZXJtcyc6IHRlcm1zXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6IHdpbmRvdy53cF9kYXRhLmFqYXhfdXJsLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24gKHhocikge1xuICAgICAgICAgICAgICAgICAgICBnYWxsZXJ5TGlzdC5maW5kKCcuc29ydF9wcmVsb2FkZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBnYWxsZXJ5TGlzdC5maW5kKCcuc29ydF9wcmVsb2FkZXInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGdhbGxlcnlMaXN0Lmh0bWwoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICB9KTtcblxuICAgIH0pXG5cblxufSkoalF1ZXJ5KTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMjQuMDMuMjAxNy5cbiAqL1xuKGZ1bmN0aW9uKCAkICkge1xuXG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgdmFyICRoZWxwZXIgPSAkKCcjdG9wSGVscGVyJyk7XG4gICAgICB2YXIgJGNsb3NlVG9nZ2xlID0gJGhlbHBlci5maW5kKCcuaGVscGVyX2Nsb3NlJyk7XG4gICAgICB2YXIgJGhlbHBlclRvZ2dsZSA9ICQoJyNoZWxwZXJUb2dnbGUnKTtcblxuICAgICAgJGhlbHBlclRvZ2dsZS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgJGhlbHBlci5zbGlkZVRvZ2dsZSgnZmFzdCcpO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIH0pO1xuXG4gICAgICAgICRjbG9zZVRvZ2dsZS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAkaGVscGVyLnNsaWRlVG9nZ2xlKCdmYXN0Jyk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KTtcblxuXG4gICAgfSk7XG5cblxufSkoalF1ZXJ5KTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMDcuMDQuMjAxNy5cbiAqL1xuXG4oZnVuY3Rpb24oICQgKSB7XG4gICAgXG4gICAgXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgICAgaW5pdFNjcm9sbExpbmsoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGluaXRTY3JvbGxMaW5rKCkge1xuICAgICAgICAgICAgdmFyICRzY3JvbGxMaW5rID0gJCgnLnNjcm9sbF9saW5rJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICRzY3JvbGxMaW5rLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIG1ha2VTY3JvbGxMaW5rKCRzY3JvbGxMaW5rKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2pRdWVyeX0gJGxpbmtcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG1ha2VTY3JvbGxMaW5rKCRsaW5rKSB7XG4gICAgICAgICAgICB2YXIgaHJlZiA9ICRsaW5rLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgICAgIHZhciAkZWxUYXJnZXQgPSAkKGhyZWYpO1xuICAgICAgICAgICAgdmFyIHNjcm9sbCA9IGdldFNjcm9sbCgkZWxUYXJnZXQpO1xuICAgICAgICAgICAgdmFyICRib2R5ID0gJCgnYm9keScpO1xuICAgICAgICAgICAgJGJvZHkuYW5pbWF0ZSh7c2Nyb2xsVG9wOiBzY3JvbGx9LCA4MDApO1xuICAgICAgICAgICAgJCgnI21haW5OYXYnKS5zbGlkZVRvZ2dsZSgpO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogXG4gICAgICAgICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxcbiAgICAgICAgICogQHJldHVybnMge0ludGVnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRTY3JvbGwoJGVsKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgdmFyICRzY3JvbGwgPSAkZWwub2Zmc2V0KCkudG9wIC0gMzI1O1xuICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY3JvbGwpO1xuICAgICAgICAgICAgcmV0dXJuICRzY3JvbGw7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgXG4gICAgfSk7XG4gICAgXG4gICAgXG4gICAgXG59KShqUXVlcnkpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAyOC4wMy4yMDE3LlxuICovXG4oZnVuY3Rpb24oICQgKSB7XG5cbiAgICB2YXIgYWpheEdvID0gZmFsc2U7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgdXNlckZvcm0gPSAkKCcudXNlcmZvcm0nKTtcblxuICAgICAgICBmdW5jdGlvbiByZXFHbyhkYXRhLCBmb3JtLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAoYWpheEdvKSB7XG4gICAgICAgICAgICAgICAgZm9ybS5maW5kKCdyZXNwb25zZScpLmh0bWwoJzxwPtCd0LXQvtCx0YXQvtC00LjQvNC+INC00L7QttC00LDRgtGM0YHRjyDQvtGC0LLQtdGC0LAg0L/RgNC10LTRi9C00YPRidC10LPQviDQt9Cw0L/RgNC+0YHQsDwvcD4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpLnZhbCgn0J/QvtC00L7QttC00LjRgtC1Jyk7XG4gICAgICAgICAgICBmb3JtLmZpbmQoJy5yZXNwb25zZScpLmh0bWwoJycpO1xuICAgICAgICAgICAgYWpheEdvID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiByZXFDb21lKGRhdGEsIHN0YXR1c1RleHQsIHhociwgZm9ybSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcblxuICAgICAgICAgICAgICAgIHZhciBuZXh0U3RlcE1vZGFsID0gJCgnI3N0ZXBTdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgbmV4dFN0ZXBNb2RhbCA9ICQobmV4dFN0ZXBNb2RhbC52YWwoKSk7XG5cblxuICAgICAgICAgICAgICAgIGlmIChuZXh0U3RlcE1vZGFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3JlZ2lzdHJhdGlvbk1vZGFsJykubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFN0ZXBNb2RhbC5tb2RhbCgnc2hvdycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IGJ1aWxkTWVzc2FnZShkYXRhLmRhdGEubWVzc2FnZSwgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwic3VibWl0XCJdJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSkudmFsKCfQk9C+0YLQvtCy0L4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IGJ1aWxkTWVzc2FnZShkYXRhLmRhdGEubWVzc2FnZSwgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwic3VibWl0XCJdJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSkudmFsKCfQntGC0L/RgNCw0LLQuNGC0YwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvcm0uZmluZCgnLnJlc3BvbnNlJykuaHRtbChyZXNwb25zZSk7XG4gICAgICAgICAgICBpZiAoZGF0YS5kYXRhLnJlZGlyZWN0KSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkYXRhLmRhdGEucmVkaXJlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhamF4R28gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhcmdzID0ge1xuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGJlZm9yZVN1Ym1pdDogcmVxR28sXG4gICAgICAgICAgICBzdWNjZXNzOiByZXFDb21lLFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVybDogYWpheF92YXIudXJsXG4gICAgICAgIH07XG4gICAgICAgIHVzZXJGb3JtLmFqYXhGb3JtKGFyZ3MpO1xuXG4gICAgICAgICQoJy5sb2dvdXQnKS5jbGljayhmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKGFqYXhHbykgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgdmFyIGxpbmsgPSAkKHRoaXMpO1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnYWRtaW4tYWpheC5waHAnLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgZGF0YTogJ2FjdGlvbj1sb2dvdXRfbWUmbm9uY2U9JyArICQodGhpcykuZGF0YSgnbm9uY2UnKSxcbiAgICAgICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmsudGV4dCgn0J/QvtC00L7QttC00LjRgtC1Jyk7XG4gICAgICAgICAgICAgICAgICAgIGFqYXhHbyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsudGV4dCgn0JLRi9GF0L7QtNC40LwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIGFqYXhPcHRpb25zLCB0aHJvd25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWpheEdvID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICB9KTtcblxuXG5cbiAgICB9KTtcblxuXG4gICAgZnVuY3Rpb24gYnVpbGRNZXNzYWdlKG1lc3NhZ2UsIHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT0gJ2Vycm9yJykge1xuXG4gICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZXJyb3JcIj48cCBjbGFzcz1cImJsYWNrXCI+JyArIG1lc3NhZ2UgKyAnPC9wPjwvZGl2Pic7XG5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1zdWNjZXNzXCI+PHAgY2xhc3M9XCJibGFja1wiPicgKyBtZXNzYWdlICsgJzwvcD48L2Rpdj4nO1xuICAgIH1cblxuXG59KShqUXVlcnkpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAyOS4wMy4yMDE3LlxuICovXG4oZnVuY3Rpb24oICQgKSB7XG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIE1vZGFscyA9IHtcbiAgICAgICAgICAgICdzdWNjZXNzU2VuZFByb2plY3QnOiAkKCcjc3VjY2Vzc1NlbmRQcm9qZWN0JylcbiAgICAgICAgfTtcblxuXG4gICAgICAgdmFyICRjcmVhdGVQcm9qZWN0Rm9ybSA9ICQoJy53cHVmLWZvcm0tYWRkJyk7XG5cbiAgICAgICAgJGNyZWF0ZVByb2plY3RGb3JtLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIHNlc3Npb25TdG9yYWdlID0gd2luZG93LnNlc3Npb25TdG9yYWdlO1xuICAgICAgICAgICAgaWYgKHNlc3Npb25TdG9yYWdlKSB7XG4gICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3QtcHVibGlzaC1zdGF0dXMnLCAnY3JlYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdzdGF0dXM6JyArIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdwcm9qZWN0LXB1Ymxpc2gtc3RhdHVzJykpO1xuICAgIH0pO1xuXG5cblxufSkoalF1ZXJ5KTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMjQuMDMuMjAxNy5cbiAqL1xuXG5cbihmdW5jdGlvbiggJCApIHtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgaW5pdE5hdigkKCcjbWFpbk5hdicpLCAkKCcjbmF2VG9nZ2xlJykpO1xuXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gJG5hdlxuICAgICAqIEBwYXJhbSAkdG9nZ2xlQnRuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdE5hdigkbmF2LCAkdG9nZ2xlQnRuKSB7XG5cbiAgICAgICR0b2dnbGVCdG4ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAkbmF2LnNsaWRlVG9nZ2xlKCk7XG5cbiAgICAgIH0pO1xuXG4gICAgICAgIHZhciAkY2xvc2VCdG4gPSAkbmF2LmZpbmQoJy5uYXZfY2xvc2UnKTtcblxuICAgICAgICRjbG9zZUJ0bi5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgICAgICRuYXYuc2xpZGVUb2dnbGUoKTtcbiAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtICRuYXZcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGlkZU5hdigkbmF2KSB7XG4gICAgICAgICRuYXYuc2xpZGVUb2dnbGUoKTtcbiAgICB9XG5cbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDA0LjA0LjIwMTcuXG4gKi9cbihmdW5jdGlvbiggJCApIHtcblxuXG4gICAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGluaXRQcmVsb2FkZXIoKTtcbiAgICB9KTtcblxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdFByZWxvYWRlcigpIHtcbiAgICAgICAgdmFyICRwcmVsb2FkZXIgPSAkKCcjcGFnZVByZWxvYWRlcicpLFxuICAgICAgICAgICAgJHNwaW5uZXIgPSAkcHJlbG9hZGVyLmZpbmQoJy5zcGlubmVyJyk7XG5cbiAgICAgICAgJHNwaW5uZXIuZmFkZU91dCgpO1xuICAgICAgICAkcHJlbG9hZGVyLmRlbGF5KDM1MCkuZmFkZU91dCgnc2xvdycpO1xuICAgIH1cblxufSkoalF1ZXJ5KTtcbiIsIihmdW5jdGlvbiggJCApIHtcblxuICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgdmFyICRib2R5ID0gJCgnYm9keScpO1xuICAgICAgIHZhciAkdG9wTGluayA9ICQoJy50b3BfbGluaycpO1xuXG4gICAgICAgJHRvcExpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAkYm9keS5hbmltYXRlKHtzY3JvbGxUb3A6IDB9LCA4MDApO1xuXG4gICAgICAgfSk7XG5cblxuICAgICAgIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBpbml0VG9wTGluaygpO1xuICAgICAgIH07XG5cblxuICAgICAgIC8qKlxuICAgICAgICAqIFxuICAgICAgICAqL1xuICAgICAgIGZ1bmN0aW9uIGluaXRUb3BMaW5rKCkge1xuICAgICAgICAgICBpZiAoJGJvZHkuc2Nyb2xsVG9wKCkgPiA0MDApIHtcbiAgICAgICAgICAgICAgICR0b3BMaW5rLnNob3coJ2Zhc3QnKTtcbiAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICR0b3BMaW5rLmhpZGUoJ2Zhc3QnKTtcbiAgICAgICAgICAgfVxuICAgICAgIH1cblxuXG4gICB9KTtcblxuXG5cbn0pKGpRdWVyeSk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHJvb3Qgb24gMjkuMDUuMTcuXG4gKi9cblxuKGZ1bmN0aW9uKCQpIHtcblxuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHNvcnRGaWVsZCA9ICQoJy5zb3J0X2ZpZWxkJyk7XG4gICAgICB2YXIgZ2FsbGVyeUxpc3QgPSAkKCcuZ2FsbGVyeV9saXN0Jyk7XG4gICAgICBzb3J0RmllbGQuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHZhciBzb3J0VHlwZSA9ICQodGhpcykuYXR0cignZGF0YS1zb3J0Jyk7XG4gICAgICAgICAgdmFyIHRlcm1zID0gJCh0aGlzKS5hdHRyKCdkYXRhLXRlcm1zJyk7XG4gICAgICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHtcbiAgICAgICAgICAgICAgJ2FjdGlvbic6ICdteWZpbHRlcicsXG4gICAgICAgICAgICAgICdzb3J0X3R5cGUnOiBzb3J0VHlwZSxcbiAgICAgICAgICAgICAgJ3Rlcm1zJzogdGVybXNcbiAgICAgICAgICB9O1xuICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgIHVybDogd2luZG93LndwX2RhdGEuYWpheF91cmwsXG4gICAgICAgICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XG4gICAgICAgICAgICAgICAgICBnYWxsZXJ5TGlzdC5maW5kKCcuc29ydF9wcmVsb2FkZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICBnYWxsZXJ5TGlzdC5maW5kKCcuc29ydF9wcmVsb2FkZXInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICBnYWxsZXJ5TGlzdC5odG1sKGRhdGEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSlcblxuICAgICAgfSk7XG5cbiAgfSlcblxuXG59KShqUXVlcnkpO1xuIiwiO1xuKGZ1bmN0aW9uKCQpIHtcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN1YnNjcmlibGVIZWxwZXIgPSAkKCcjc3Vic2NyaWJsZUhlbHBlcicpO1xuICAgICAgICBpZiAoZG9jdW1lbnQuY29va2llKSB7XG4gICAgICAgICAgICB2YXIgdW5pcWVDb29raWVJZGVuZmVyID0gQ29va2llLmdldENvb2tpZSgndXNlcl9pc192aXNpdGVkJyk7XG4gICAgICAgICAgICBpZiAoIXVuaXFlQ29va2llSWRlbmZlcikge1xuICAgICAgICAgICAgICAgIENvb2tpZS5zZXRDb29raWUoJ3VzZXJfaXNfdmlzaXRlZCcsICd0cnVlJywge2V4cGlyZXM6IDYwNDgwMH0pO1xuICAgICAgICAgICAgICAgICBzdWJzY3JpYmxlSGVscGVyLnNob3coKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkb2N1bWVudC5jb29raWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coZG9jdW1lbnQuY29va2llKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1YnNjcmlibGVIZWxwZXIuc2hvdygpO1xuICAgICAgICB9XG4gICAgICAgIC8vINC00LvRjyDQvtGC0LvQsNC00LrQuFxuICAgICAgIC8vIHN1YnNjcmlibGVIZWxwZXIuc2hvdygpO1xuICAgICAgICB2YXIgY2xvc2VUb2dnbGUgPSAkKCcjc3Vic2NyaWJsZUNsb3NlQnV0dG9uJyk7XG4gICAgICAgIGNsb3NlVG9nZ2xlLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc3Vic2NyaWJsZUhlbHBlci5zbGlkZVRvZ2dsZSgnZmFzdCcpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7e3NldENvb2tpZTogQ29va2llLnNldENvb2tpZSwgZ2V0Q29va2llOiBDb29raWUuZ2V0Q29va2llLCBkZWxldGVDb29raWU6IENvb2tpZS5kZWxldGVDb29raWV9fVxuICAgICAqL1xuICAgdmFyIENvb2tpZSA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBuYW1lXG4gICAgICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgc2V0Q29va2llOiBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgICAgICB2YXIgZXhwaXJlcyA9IG9wdGlvbnMuZXhwaXJlcztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXhwaXJlcyA9PSAnbnVtYmVyJyAmJiBleHBpcmVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldFRpbWUoKSArIGV4cGlyZXMgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICBleHBpcmVzID0gb3B0aW9ucy5leHBpcmVzID0gZGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleHBpcmVzICYmIGV4cGlyZXMudG9VVENTdHJpbmcoKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZXhwaXJlcyA9IGV4cGlyZXMudG9VVENTdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlID0gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICAgICAgICAgIHZhciB1cGRhdGVkQ29va2llID0gbmFtZSArICc9JyArIHZhbHVlO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlZENvb2tpZSArPSAnOyAnICsgcHJvcE5hbWU7XG4gICAgICAgICAgICAgICAgdmFyIHByb3BWYWx1ZSA9IG9wdGlvbnNbcHJvcE5hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wVmFsdWUgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZENvb2tpZSArPSAnPScgKyBwcm9wVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSB1cGRhdGVkQ29va2llO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIG5hbWVcbiAgICAgICAgICogQHJldHVybnMgeyp9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb29raWU6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAgICAgXCIoPzpefDsgKVwiICsgbmFtZS5yZXBsYWNlKC8oW1xcLiQ/Knx7fVxcKFxcKVxcW1xcXVxcXFxcXC9cXCteXSkvZywgJ1xcXFwkMScpICsgXCI9KFteO10qKVwiXG4gICAgICAgICAgICApKTtcblxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXMgPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hlc1sxXSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gbmFtZVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlQ29va2llOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnNldENvb2tpZShuYW1lLCAnJywge1xuICAgICAgICAgICAgICAgIGV4cGlyZXM6IC0xXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfTtcblxufSkoalF1ZXJ5KTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDMwLjAzLjIwMTcuXG4gKi9cblxuKGZ1bmN0aW9uKCAkICkge1xuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKCk7XG4gICAgfSk7XG5cbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDE2LjA1LjIwMTcuXG4gKi9cbihmdW5jdGlvbiggJCApIHtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciAkZm9ybSA9ICQoJyN1cGRhdGVVc2VySW5mbycpO1xuXG4gICAgICAgICRmb3JtLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdmFyIHVzZXJJZCA9ICQoJyN1c2VySWQnKS52YWwoKTtcbiAgICAgICAgICAgIHZhciB1c2VyVXJsID0gJCgnI3VzZXJVcmwnKS52YWwoKTtcbiAgICAgICAgICAgIHZhciB1c2VyTmFtZSA9ICQoJyN1c2VyTmFtZScpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGZvcm1BY3Rpb24gPSAkKCcjZm9ybUFjdGlvbicpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRMYW5nID0gJCgnI2N1cnJlbnRMYW5nJykudmFsKCk7XG5cbiAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZvcm1BY3Rpb24sXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgICAgIHVzZXJfdXJsOiB1c2VyVXJsLFxuICAgICAgICAgICAgICAgIHVzZXJfbmFtZTogdXNlck5hbWUsXG4gICAgICAgICAgICAgICAgY3VycmVudF9sYW5nOiBjdXJyZW50TGFuZ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJC5wb3N0KGFqYXhfdmFyLCBmb3JtRGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHVzZXJNZXNzYWdlID0gJCgnI3VzZXJNZXNzYWdlcycpO1xuXG4gICAgICAgICAgICAgICAgJHVzZXJNZXNzYWdlLnRleHQocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICR1c2VyTWVzc2FnZS5zbGlkZVRvZ2dsZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG5cblxuXG5cblxuXG5cblxuICAgIH0pO1xuXG5cblxuXG5cblxuXG59KShqUXVlcnkpOyIsIi8qKlxuICogQ3JlYXRlZCBieSByb290IG9uIDAxLjA2LjE3LlxuICovXG4oZnVuY3Rpb24oJCkge1xuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHRvcEhlbHBlckJ1dHRvbiA9ICQoJyN0b3BBY3Rpb25Gb3JVbmxvZ2dpbmVkJyk7XG4gICAgICAgIHRvcEhlbHBlckJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHNlbmREYXRhVG9ZYW5kZXhNZXRyaWNhKCd0b3BIZWxwZXJIZXJlQnV0dG9uJyk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbkZvcm0gPSAkKCcucmVnX2Zvcm0nKS5maW5kKCdmb3JtJyk7XG4gICAgICAgIHJlZ2lzdHJhdGlvbkZvcm0uc3VibWl0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VuZERhdGFUb1lhbmRleE1ldHJpY2EoJ3JlZ2lzdHJhdGlvbkZvcm0nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGJ1dHRvbkxlYXJuTW9yZSA9ICQoJyNidXR0b25MZWFybk1vcmUnKTtcbiAgICAgICAgYnV0dG9uTGVhcm5Nb3JlLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBzZW5kRGF0YVRvWWFuZGV4TWV0cmljYSgnYnV0dG9uTGVhcm5Nb3JlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBidXR0b21SZWdpc3RyYXRpb25CdXR0b24gPSAkKCcjYnV0dG9uUmVnaXN0cmF0aW9uT25CdXR0b20nKTtcbiAgICAgICAgYnV0dG9tUmVnaXN0cmF0aW9uQnV0dG9uLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBzZW5kRGF0YVRvWWFuZGV4TWV0cmljYSgnYm90dG9tUmVnaXN0cmF0aW9uJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBib3R0b21Db250YWN0Rm9ybSA9ICQoJy53cGNmNy1mb3JtJyk7XG5cbiAgICAgICAgYm90dG9tQ29udGFjdEZvcm0uY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgIHNlbmREYXRhVG9ZYW5kZXhNZXRyaWNhKCdib3R0b21Db250YWN0Rm9ybScpO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIHZhciBob3VzZU5vbWluYXRpb25CdXR0b24gPSAkKCcjYnV0dG9uSG91c2UnKTtcbiAgICAgICAgaG91c2VOb21pbmF0aW9uQnV0dG9uLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBzZW5kRGF0YVRvWWFuZGV4TWV0cmljYSgnYnV0dG9uSG91c2UnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNpdHlPblRoZVdhdGVyTm9taW5hdGlvbiA9ICQoJyNCdXR0b25DaXR5T250aGVXYXRlcicpO1xuICAgICAgICBjaXR5T25UaGVXYXRlck5vbWluYXRpb24uY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgIHNlbmREYXRhVG9ZYW5kZXhNZXRyaWNhKCdjaXR5T25UaGVXYXRlck5vbWluYXRpb24nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGFwcGFydGFtZW50c05vbWluYXRpb24gPSAkKCcjYnV0dG9uQXBwYXJ0YW1lbnRzJyk7XG4gICAgICAgIGFwcGFydGFtZW50c05vbWluYXRpb24uY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgIHNlbmREYXRhVG9ZYW5kZXhNZXRyaWNhKCdidXR0b25BcGFydGFtZW50c05vbWluYXRpb24nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGJ1dHRvbkJ1c1N0YXRpb24gPSAkKCcjYnV0dG9uQnVzU3RhdGlvbicpO1xuICAgICAgICBidXR0b25CdXNTdGF0aW9uLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBzZW5kRGF0YVRvWWFuZGV4TWV0cmljYSgnYnV0dG9uQnVzU3RhdGlvbk5vbWluYXRpb24nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAgKiBAcGFyYW0gZXZlbnRJZFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc2VuZERhdGFUb1lhbmRleE1ldHJpY2EoZXZlbnRJZCkge1xuICAgICAgICAgICAgIHlhQ291bnRlcjQ0MjQ1NDc0LnJlYWNoR29hbChldmVudElkLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2VuZCBldmVudCBkYXRhIHRvICcgKyBldmVudElkKTtcbiAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoalF1ZXJ5KTtcbiJdfQ==
