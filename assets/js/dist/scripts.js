!function(t){t(document).ready(function(){t("#centerSlider").slick({centerPadding:"0px",centerMode:!0,slidesToShow:5,prevArrow:'<div class="arrow left"><i class="social_arrow social_arrow-arrow_left"></i></div>',nextArrow:'<div class="arrow right"><i class="social_arrow social_arrow-arrow_right"></i></div>'})})}(jQuery),function(t){t(document).ready(function(){t("#contactForm").submit(function(e){e.preventDefault();var n=t(this).serialize(),o=n.action;t.ajax({type:"POST",url:window.wp_data.ajax_url+"?"+o,data:n,success:function(){t("#contactModal").modal("show")}})})})}(jQuery),function(t){t(document).ready(function(){var e=t("#wpuf-user_login"),n=t("#wpuf-user_pass"),o=t("#pass2");e.attr("placeholder","Email"),n.attr("placeholder","Пароль"),o.attr("placeholder","Повторите пароль");t("#wpuf-___________________pdf-pickfiles").text("Загрузить работу в pdf");t("#wpuf-featured_image-pickfiles").text("Загрузить превью в jpg")});var e=t(".wpuf_category_select_353_352 select");e=e.children(":first"),e.text("Категория")}(jQuery),function(t){t(document).ready(function(){var e=t(".helper");e.find(".helper_close").on("click",function(t){e.slideToggle("fast"),t.preventDefault()})})}(jQuery),function(t){t(document).ready(function(){function e(e){var o=e.attr("href"),i=t(o),a=n(i);t("body").animate({scrollTop:a},800),t("#mainNav").slideToggle()}function n(t){var e=t.offset().top-325;return console.log(e),e}!function(){var n=t(".scroll_link");n.on("click",function(t){t.preventDefault(),e(n)})}()})}(jQuery),function(t){function e(t,e){return"error"==e?'<div class="alert alert-error"><p class="black">'+t+"</p></div>":'<div class="alert alert-success"><p class="black">'+t+"</p></div>"}var n=!1;t(document).ready(function(){function o(t,e,o){if(n)return e.find("response").html("<p>Необходимо дождаться ответа предыдущего запроса</p>"),!1;e.find('input[type="submit"]').attr("disabled","disabled").val("Подождите"),e.find(".response").html(""),n=!0}function i(o,i,a,r){if(console.log(arguments),o.success){var c=t("#stepSuccess");if(null!=(c=t(c.val())))t("#registrationModal").modal("hide"),c.modal("show");else{var l=e(o.data.message,"success");r.find('input[type="submit"]').prop("disabled",!1).val("Готово")}}else{var l=e(o.data.message,"error");r.find('input[type="submit"]').prop("disabled",!1).val("Отправить")}r.find(".response").html(l),o.data.redirect&&(window.location.href=o.data.redirect),n=!1}var a=t(".userform"),r={dataType:"json",beforeSubmit:o,success:i,error:function(t){console.log(arguments)},url:ajax_var.url};a.ajaxForm(r),t(".logout").click(function(e){if(e.preventDefault(),n)return!1;var o=t(this);t.ajax({type:"POST",url:"admin-ajax.php",dataType:"json",data:"action=logout_me&nonce="+t(this).data("nonce"),beforeSend:function(t){o.text("Подождите"),n=!0},success:function(t){t.success?(o.text("Выходим"),window.location.reload(!0)):alert(t.data.message)},error:function(t,e,n){console.log(arguments)},complete:function(t){n=!1}})})})}(jQuery),function(t){t(document).ready(function(){var e={successSendProject:t("#successSendProject")};t(".wpuf-form-add").submit(function(t){e.successSendProject.modal("show")})})}(jQuery),function(t){function e(t,e){e.on("click",function(){t.slideToggle()}),t.find(".nav_close").on("click",function(e){t.slideToggle(),e.preventDefault()})}t(document).ready(function(){e(t("#mainNav"),t("#navToggle"))})}(jQuery),function(t){function e(){var e=t("#pagePreloader");e.find(".spinner").fadeOut(),e.delay(350).fadeOut("slow")}t(window).on("load",function(){e()})}(jQuery),function(t){t(document).ready(function(){e.init()});var e={};e.nominationKey="nomination",e.dataAttr="data-filter",e.buttonsNominationClass="nomination_filter_button",e.galleryItemClass="filterable",e.init=function(){this.initButton(t("."+this.buttonsNominationClass))},e.initButton=function(e){var n=this;e.click(function(e){e.preventDefault(),filter=t(this).attr(n.dataAttr),elementList=t("."+n.galleryItemClass),n.filterContent(filter,elementList,n.nominationKey)})},e.filterContent=function(e,n,o){e=e.toLowerCase(),n.each(function(n,i){elemAttr=t(this).attr("data-"+o),elemAttr=elemAttr.toLowerCase(),elemAttr!=e&&t(this).hide()})},e.removeFilter=function(e){e.each(function(e,n){t(this).show()})}}(jQuery),function(t){t(document).ready(function(){function e(){n.scrollTop()>400?o.show("fast"):o.hide("fast")}var n=t("body"),o=t(".top_link");o.on("click",function(t){t.preventDefault(),n.animate({scrollTop:0},800)}),window.onscroll=function(){e()}})}(jQuery),function(t){t(document).ready(function(){t('[data-toggle="tooltip"]').tooltip()})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcm91c2VsLmpzIiwiY29udGFjdC1mb3JtLmpzIiwiY3VzdG9tX2Zvcm0uanMiLCJoZWxwZXIuanMiLCJsaW5rLXNjcm9sbC5qcyIsImxvZ2luLmpzIiwibW9kYWxzLmpzIiwibmF2LmpzIiwicHJlbG9hZGVyLmpzIiwicHJvamVjdF9maWx0ZXIuanMiLCJzY3JvbGwuanMiLCJ0b29sdGlwLmpzIl0sIm5hbWVzIjpbIiQiLCJkb2N1bWVudCIsInJlYWR5Iiwic2xpY2siLCJjZW50ZXJQYWRkaW5nIiwiY2VudGVyTW9kZSIsInNsaWRlc1RvU2hvdyIsInByZXZBcnJvdyIsIm5leHRBcnJvdyIsImpRdWVyeSIsInN1Ym1pdCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJmb3JtRGF0YSIsInRoaXMiLCJzZXJpYWxpemUiLCJhY3Rpb24iLCJhamF4IiwidHlwZSIsInVybCIsIndpbmRvdyIsIndwX2RhdGEiLCJhamF4X3VybCIsImRhdGEiLCJzdWNjZXNzIiwibW9kYWwiLCIkbG9naW5GaWVsZCIsIiRwYXNzd29yZEZpZWxkIiwiJHJlcGVhdFBhc3N3b3JkRmllbGQiLCJhdHRyIiwidGV4dCIsIiRjYXRlZ29yeUxpc3QiLCJjaGlsZHJlbiIsIiRoZWxwZXIiLCJmaW5kIiwib24iLCJzbGlkZVRvZ2dsZSIsIm1ha2VTY3JvbGxMaW5rIiwiJGxpbmsiLCJocmVmIiwiJGVsVGFyZ2V0Iiwic2Nyb2xsIiwiZ2V0U2Nyb2xsIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIiRlbCIsIiRzY3JvbGwiLCJvZmZzZXQiLCJ0b3AiLCJjb25zb2xlIiwibG9nIiwiJHNjcm9sbExpbmsiLCJidWlsZE1lc3NhZ2UiLCJtZXNzYWdlIiwiYWpheEdvIiwicmVxR28iLCJmb3JtIiwib3B0aW9ucyIsImh0bWwiLCJ2YWwiLCJyZXFDb21lIiwic3RhdHVzVGV4dCIsInhociIsImFyZ3VtZW50cyIsIm5leHRTdGVwTW9kYWwiLCJyZXNwb25zZSIsInByb3AiLCJyZWRpcmVjdCIsImxvY2F0aW9uIiwidXNlckZvcm0iLCJhcmdzIiwiZGF0YVR5cGUiLCJiZWZvcmVTdWJtaXQiLCJlcnJvciIsImFqYXhfdmFyIiwiYWpheEZvcm0iLCJjbGljayIsImxpbmsiLCJiZWZvcmVTZW5kIiwicmVsb2FkIiwiYWxlcnQiLCJhamF4T3B0aW9ucyIsInRocm93bkVycm9yIiwiY29tcGxldGUiLCJNb2RhbHMiLCJzdWNjZXNzU2VuZFByb2plY3QiLCJpbml0TmF2IiwiJG5hdiIsIiR0b2dnbGVCdG4iLCJpbml0UHJlbG9hZGVyIiwiJHByZWxvYWRlciIsImZhZGVPdXQiLCJkZWxheSIsIkZpbHRlciIsImluaXQiLCJub21pbmF0aW9uS2V5IiwiZGF0YUF0dHIiLCJidXR0b25zTm9taW5hdGlvbkNsYXNzIiwiZ2FsbGVyeUl0ZW1DbGFzcyIsImluaXRCdXR0b24iLCJidXR0b25zIiwic2VsZiIsImZpbHRlciIsImVsZW1lbnRMaXN0IiwiZmlsdGVyQ29udGVudCIsImV4cCIsImF0dHJWYWwiLCJ0b0xvd2VyQ2FzZSIsImVhY2giLCJrZXkiLCJ2YWx1ZSIsImVsZW1BdHRyIiwiaGlkZSIsInJlbW92ZUZpbHRlciIsInNob3ciLCJpbml0VG9wTGluayIsIiRib2R5IiwiJHRvcExpbmsiLCJvbnNjcm9sbCIsInRvb2x0aXAiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEdBRUFBLEVBQUFDLFVBQUFDLE1BQUEsV0FDQUYsRUFBQSxpQkFFQUcsT0FDQUMsY0FBQSxNQUNBQyxZQUFBLEVBQ0FDLGFBQUEsRUFDQUMsVUFBQSxxRkFDQUMsVUFBQSw0RkFJQUMsUUNYQSxTQUFBVCxHQUVBQSxFQUFBQyxVQUFBQyxNQUFBLFdBRUFGLEVBQUEsZ0JBQUFVLE9BQUEsU0FBQUMsR0FDQUEsRUFBQUMsZ0JBQ0EsSUFBQUMsR0FBQWIsRUFBQWMsTUFBQUMsWUFDQUMsRUFBQUgsRUFBQSxNQUVBYixHQUFBaUIsTUFDQUMsS0FBQSxPQUNBQyxJQUFBQyxPQUFBQyxRQUFBQyxTQUFBLElBQUFOLEVBQ0FPLEtBQUFWLEVBQ0FX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cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgdmFyIHNsaWRlciA9ICQoJyNjZW50ZXJTbGlkZXInKTtcclxuXHJcbiAgICAgICAgc2xpZGVyLnNsaWNrKHtcclxuICAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnMHB4JyxcclxuICAgICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiA1LFxyXG4gICAgICAgICAgICBwcmV2QXJyb3c6ICc8ZGl2IGNsYXNzPVwiYXJyb3cgbGVmdFwiPjxpIGNsYXNzPVwic29jaWFsX2Fycm93IHNvY2lhbF9hcnJvdy1hcnJvd19sZWZ0XCI+PC9pPjwvZGl2PicsXHJcbiAgICAgICAgICAgIG5leHRBcnJvdzogJzxkaXYgY2xhc3M9XCJhcnJvdyByaWdodFwiPjxpIGNsYXNzPVwic29jaWFsX2Fycm93IHNvY2lhbF9hcnJvdy1hcnJvd19yaWdodFwiPjwvaT48L2Rpdj4nLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG59KShqUXVlcnkpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAwNy4wNC4yMDE3LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAkKCcjY29udGFjdEZvcm0nKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICB2YXIgZm9ybURhdGEgPSAkKHRoaXMpLnNlcmlhbGl6ZSgpO1xyXG4gICAgICAgICAgIHZhciBhY3Rpb24gPSBmb3JtRGF0YVsnYWN0aW9uJ107XHJcblxyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICB1cmw6IHdpbmRvdy53cF9kYXRhLmFqYXhfdXJsICsgJz8nICsgYWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogZm9ybURhdGEsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgJGNvbnRhY3RNb2RhbCA9ICQoJyNjb250YWN0TW9kYWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAkY29udGFjdE1vZGFsLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDA1LjA0LjIwMTcuXHJcbiAqL1xyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHZhciBsb2dpbkxhYmVsID0gJ0VtYWlsJyxcclxuICAgICAgICAgICAgcGFzc0xhYmVsID0gJ9Cf0LDRgNC+0LvRjCcsXHJcbiAgICAgICAgICAgIHJlcGVhdFBhc3NMYWJlbCA9ICfQn9C+0LLRgtC+0YDQuNGC0LUg0L/QsNGA0L7Qu9GMJztcclxuXHJcbiAgICAgICB2YXIgJGxvZ2luRmllbGQgPSAkKCcjd3B1Zi11c2VyX2xvZ2luJyksXHJcbiAgICAgICAgICAgJHBhc3N3b3JkRmllbGQgPSAkKCcjd3B1Zi11c2VyX3Bhc3MnKSxcclxuICAgICAgICAgICAkcmVwZWF0UGFzc3dvcmRGaWVsZCA9ICQoJyNwYXNzMicpO1xyXG5cclxuXHJcbiAgICAgICAgJGxvZ2luRmllbGQuYXR0cigncGxhY2Vob2xkZXInLCBsb2dpbkxhYmVsKTtcclxuICAgICAgICAkcGFzc3dvcmRGaWVsZC5hdHRyKCdwbGFjZWhvbGRlcicsIHBhc3NMYWJlbCk7XHJcbiAgICAgICAgJHJlcGVhdFBhc3N3b3JkRmllbGQuYXR0cigncGxhY2Vob2xkZXInLCByZXBlYXRQYXNzTGFiZWwpO1xyXG5cclxuICAgICAgICAvLyB2YXIgJHJlZ0Zvcm0gPSAkKCcucmVnX2Zvcm0nKS5maW5kKCdmb3JtJyksXHJcbiAgICAgICAgLy8gICAgICRpbmZvTW9kYWwgPSAkKCcjaW5mb1JlZ2lzdHJhdGlvbicpLFxyXG4gICAgICAgIC8vICAgICAkcmVnaXN0cmF0aW9uTW9kYWwgPSAkKCcjcmVnaXN0cmF0aW9uTW9kYWwnKTtcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vICRyZWdGb3JtLm9uKCdzdWJtaXQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyAgICAgJHJlZ2lzdHJhdGlvbk1vZGFsLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgLy8gICAgICRpbmZvTW9kYWwubW9kYWwoJ3Nob3cnKTtcclxuICAgICAgICAvLyB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICB2YXIgJHBkZkZpZWxkID0gJCgnI3dwdWYtX19fX19fX19fX19fX19fX19fX3BkZi1waWNrZmlsZXMnKSxcclxuICAgICAgICAgICAgcGRmRmllbGRMYWJlbCA9ICfQl9Cw0LPRgNGD0LfQuNGC0Ywg0YDQsNCx0L7RgtGDINCyIHBkZic7XHJcblxyXG4gICAgICAgICRwZGZGaWVsZC50ZXh0KHBkZkZpZWxkTGFiZWwpO1xyXG5cclxuICAgICAgICB2YXIgJHRodW1iRmllbGQgPSAkKCcjd3B1Zi1mZWF0dXJlZF9pbWFnZS1waWNrZmlsZXMnKSxcclxuICAgICAgICAgICAgdGh1bWJGaWVsZExhYmVsID0gJ9CX0LDQs9GA0YPQt9C40YLRjCDQv9GA0LXQstGM0Y4g0LIganBnJztcclxuXHJcbiAgICAgICAgJHRodW1iRmllbGQudGV4dCh0aHVtYkZpZWxkTGFiZWwpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyICRjYXRlZ29yeUxpc3QgPSAkKCcud3B1Zl9jYXRlZ29yeV9zZWxlY3RfMzUzXzM1MiBzZWxlY3QnKSxcclxuICAgICAgICBjYXRlZ29yeUxhYmVsID0gJ9Ca0LDRgtC10LPQvtGA0LjRjyc7XHJcblxyXG4gICAgJGNhdGVnb3J5TGlzdCA9ICRjYXRlZ29yeUxpc3QuY2hpbGRyZW4oJzpmaXJzdCcpO1xyXG4gICAgJGNhdGVnb3J5TGlzdC50ZXh0KGNhdGVnb3J5TGFiZWwpO1xyXG5cclxuXHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMjQuMDMuMjAxNy5cclxuICovXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICB2YXIgJGhlbHBlciA9ICQoJy5oZWxwZXInKTtcclxuICAgICAgdmFyICRjbG9zZVRvZ2dsZSA9ICRoZWxwZXIuZmluZCgnLmhlbHBlcl9jbG9zZScpO1xyXG5cclxuICAgICAgICAkY2xvc2VUb2dnbGUub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAkaGVscGVyLnNsaWRlVG9nZ2xlKCdmYXN0Jyk7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcbn0pKGpRdWVyeSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAwNy4wNC4yMDE3LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiggJCApIHtcclxuICAgIFxyXG4gICAgXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgaW5pdFNjcm9sbExpbmsoKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBpbml0U2Nyb2xsTGluaygpIHtcclxuICAgICAgICAgICAgdmFyICRzY3JvbGxMaW5rID0gJCgnLnNjcm9sbF9saW5rJyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAkc2Nyb2xsTGluay5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIG1ha2VTY3JvbGxMaW5rKCRzY3JvbGxMaW5rKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHtqUXVlcnl9ICRsaW5rXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gbWFrZVNjcm9sbExpbmsoJGxpbmspIHtcclxuICAgICAgICAgICAgdmFyIGhyZWYgPSAkbGluay5hdHRyKCdocmVmJyk7XHJcbiAgICAgICAgICAgIHZhciAkZWxUYXJnZXQgPSAkKGhyZWYpO1xyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsID0gZ2V0U2Nyb2xsKCRlbFRhcmdldCk7XHJcbiAgICAgICAgICAgIHZhciAkYm9keSA9ICQoJ2JvZHknKTtcclxuICAgICAgICAgICAgJGJvZHkuYW5pbWF0ZSh7c2Nyb2xsVG9wOiBzY3JvbGx9LCA4MDApO1xyXG4gICAgICAgICAgICAkKCcjbWFpbk5hdicpLnNsaWRlVG9nZ2xlKCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHBhcmFtIHtqUXVlcnl9ICRlbFxyXG4gICAgICAgICAqIEByZXR1cm5zIHtJbnRlZ2VyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldFNjcm9sbCgkZWwpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgdmFyICRzY3JvbGwgPSAkZWwub2Zmc2V0KCkudG9wIC0gMzI1O1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygkc2Nyb2xsKTtcclxuICAgICAgICAgICAgcmV0dXJuICRzY3JvbGw7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDI4LjAzLjIwMTcuXHJcbiAqL1xyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG4gICAgdmFyIGFqYXhHbyA9IGZhbHNlO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgdXNlckZvcm0gPSAkKCcudXNlcmZvcm0nKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVxR28oZGF0YSwgZm9ybSwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAoYWpheEdvKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJ3Jlc3BvbnNlJykuaHRtbCgnPHA+0J3QtdC+0LHRhdC+0LTQuNC80L4g0LTQvtC20LTQsNGC0YzRgdGPINC+0YLQstC10YLQsCDQv9GA0LXQtNGL0LTRg9GJ0LXQs9C+INC30LDQv9GA0L7RgdCwPC9wPicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJykudmFsKCfQn9C+0LTQvtC20LTQuNGC0LUnKTtcclxuICAgICAgICAgICAgZm9ybS5maW5kKCcucmVzcG9uc2UnKS5odG1sKCcnKTtcclxuICAgICAgICAgICAgYWpheEdvID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVxQ29tZShkYXRhLCBzdGF0dXNUZXh0LCB4aHIsIGZvcm0pIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBuZXh0U3RlcE1vZGFsID0gJCgnI3N0ZXBTdWNjZXNzJyk7XHJcbiAgICAgICAgICAgICAgICBuZXh0U3RlcE1vZGFsID0gJChuZXh0U3RlcE1vZGFsLnZhbCgpKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRTdGVwTW9kYWwgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNyZWdpc3RyYXRpb25Nb2RhbCcpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFN0ZXBNb2RhbC5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBidWlsZE1lc3NhZ2UoZGF0YS5kYXRhLm1lc3NhZ2UsICdzdWNjZXNzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwic3VibWl0XCJdJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSkudmFsKCfQk9C+0YLQvtCy0L4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IGJ1aWxkTWVzc2FnZShkYXRhLmRhdGEubWVzc2FnZSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0nKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS52YWwoJ9Ce0YLQv9GA0LDQstC40YLRjCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvcm0uZmluZCgnLnJlc3BvbnNlJykuaHRtbChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGEucmVkaXJlY3QpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZGF0YS5kYXRhLnJlZGlyZWN0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFqYXhHbyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGFyZ3MgPSB7XHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIGJlZm9yZVN1Ym1pdDogcmVxR28sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHJlcUNvbWUsXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1cmw6IGFqYXhfdmFyLnVybFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdXNlckZvcm0uYWpheEZvcm0oYXJncyk7XHJcblxyXG4gICAgICAgICQoJy5sb2dvdXQnKS5jbGljayhmdW5jdGlvbihldmVudCkge1xyXG5cclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKGFqYXhHbykgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgbGluayA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICdhZG1pbi1hamF4LnBocCcsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogJ2FjdGlvbj1sb2dvdXRfbWUmbm9uY2U9JyArICQodGhpcykuZGF0YSgnbm9uY2UnKSxcclxuICAgICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rLnRleHQoJ9Cf0L7QtNC+0LbQtNC40YLQtScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFqYXhHbyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluay50ZXh0KCfQktGL0YXQvtC00LjQvCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgYWpheE9wdGlvbnMsIHRocm93bkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFqYXhHbyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBidWlsZE1lc3NhZ2UobWVzc2FnZSwgdHlwZSkge1xyXG4gICAgICAgIGlmICh0eXBlID09ICdlcnJvcicpIHtcclxuXHJcbiAgICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1lcnJvclwiPjxwIGNsYXNzPVwiYmxhY2tcIj4nICsgbWVzc2FnZSArICc8L3A+PC9kaXY+JztcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj48cCBjbGFzcz1cImJsYWNrXCI+JyArIG1lc3NhZ2UgKyAnPC9wPjwvZGl2Pic7XHJcbiAgICB9XHJcblxyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDI5LjAzLjIwMTcuXHJcbiAqL1xyXG4oZnVuY3Rpb24oICQgKSB7XHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIE1vZGFscyA9IHtcclxuICAgICAgICAgICAgJ3N1Y2Nlc3NTZW5kUHJvamVjdCc6ICQoJyNzdWNjZXNzU2VuZFByb2plY3QnKVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgIHZhciAkY3JlYXRlUHJvamVjdEZvcm0gPSAkKCcud3B1Zi1mb3JtLWFkZCcpO1xyXG5cclxuICAgICAgICAkY3JlYXRlUHJvamVjdEZvcm0uc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIE1vZGFscy5zdWNjZXNzU2VuZFByb2plY3QubW9kYWwoJ3Nob3cnKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcbn0pKGpRdWVyeSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAyNC4wMy4yMDE3LlxyXG4gKi9cclxuXHJcblxyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgaW5pdE5hdigkKCcjbWFpbk5hdicpLCAkKCcjbmF2VG9nZ2xlJykpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtICRuYXZcclxuICAgICAqIEBwYXJhbSAkdG9nZ2xlQnRuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGluaXROYXYoJG5hdiwgJHRvZ2dsZUJ0bikge1xyXG5cclxuICAgICAgJHRvZ2dsZUJ0bi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAkbmF2LnNsaWRlVG9nZ2xlKCk7XHJcblxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyICRjbG9zZUJ0biA9ICRuYXYuZmluZCgnLm5hdl9jbG9zZScpO1xyXG5cclxuICAgICAgICRjbG9zZUJ0bi5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cclxuICAgICAgICAgICAkbmF2LnNsaWRlVG9nZ2xlKCk7XHJcbiAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gJG5hdlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzbGlkZU5hdigkbmF2KSB7XHJcbiAgICAgICAgJG5hdi5zbGlkZVRvZ2dsZSgpO1xyXG4gICAgfVxyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDA0LjA0LjIwMTcuXHJcbiAqL1xyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG5cclxuICAgICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGluaXRQcmVsb2FkZXIoKTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC/0YDQtdC70L7QsNC00LXRgNCwXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGluaXRQcmVsb2FkZXIoKSB7XHJcbiAgICAgICAgdmFyICRwcmVsb2FkZXIgPSAkKCcjcGFnZVByZWxvYWRlcicpLFxyXG4gICAgICAgICAgICAkc3Bpbm5lciA9ICRwcmVsb2FkZXIuZmluZCgnLnNwaW5uZXInKTtcclxuXHJcbiAgICAgICAgJHNwaW5uZXIuZmFkZU91dCgpO1xyXG4gICAgICAgICRwcmVsb2FkZXIuZGVsYXkoMzUwKS5mYWRlT3V0KCdzbG93Jyk7XHJcbiAgICB9XHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMDIuMDUuMjAxNy5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIEZpbHRlci5pbml0KCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgdmFyIEZpbHRlciA9IHt9O1xyXG5cclxuICAgIEZpbHRlci5ub21pbmF0aW9uS2V5ID0gJ25vbWluYXRpb24nO1xyXG4gICAgRmlsdGVyLmRhdGFBdHRyID0gJ2RhdGEtZmlsdGVyJztcclxuICAgIEZpbHRlci5idXR0b25zTm9taW5hdGlvbkNsYXNzID0gJ25vbWluYXRpb25fZmlsdGVyX2J1dHRvbic7XHJcbiAgICBGaWx0ZXIuZ2FsbGVyeUl0ZW1DbGFzcyA9ICdmaWx0ZXJhYmxlJztcclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIEZpbHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdEJ1dHRvbigkKCcuJyArIHRoaXMuYnV0dG9uc05vbWluYXRpb25DbGFzcykpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gYnV0dG9uc1xyXG4gICAgICovXHJcbiAgICBGaWx0ZXIuaW5pdEJ1dHRvbiA9IGZ1bmN0aW9uKGJ1dHRvbnMpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICBidXR0b25zLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgIGZpbHRlciA9ICQodGhpcykuYXR0cihzZWxmLmRhdGFBdHRyKTtcclxuXHJcbiAgICAgICAgICBlbGVtZW50TGlzdCA9ICQoJy4nICsgc2VsZi5nYWxsZXJ5SXRlbUNsYXNzKTtcclxuICAgICAgICAgIHNlbGYuZmlsdGVyQ29udGVudChmaWx0ZXIsIGVsZW1lbnRMaXN0LCBzZWxmLm5vbWluYXRpb25LZXkpO1xyXG5cclxuICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gZXhwXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudExpc3RcclxuICAgICAqIEBwYXJhbSBhdHRyVmFsXHJcbiAgICAgKi9cclxuICAgIEZpbHRlci5maWx0ZXJDb250ZW50ID0gZnVuY3Rpb24oZXhwLCBlbGVtZW50TGlzdCwgYXR0clZhbCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBleHAgPSBleHAudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgZWxlbWVudExpc3QuZWFjaChmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGVsZW1BdHRyID0gJCh0aGlzKS5hdHRyKCdkYXRhLScgKyBhdHRyVmFsKTtcclxuICAgICAgICAgICAgZWxlbUF0dHIgPSBlbGVtQXR0ci50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICBpZiAoZWxlbUF0dHIgIT0gZXhwKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG5cclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGVsZW1lbnRMaXN0XHJcbiAgICAgKi9cclxuICAgIEZpbHRlci5yZW1vdmVGaWx0ZXIgPSBmdW5jdGlvbihlbGVtZW50TGlzdCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGVsZW1lbnRMaXN0LmVhY2goZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICAkKHRoaXMpLnNob3coKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICB2YXIgJGJvZHkgPSAkKCdib2R5Jyk7XHJcbiAgICAgICB2YXIgJHRvcExpbmsgPSAkKCcudG9wX2xpbmsnKTtcclxuXHJcbiAgICAgICAkdG9wTGluay5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cclxuICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICRib2R5LmFuaW1hdGUoe3Njcm9sbFRvcDogMH0sIDgwMCk7XHJcblxyXG4gICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGluaXRUb3BMaW5rKCk7XHJcbiAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAvKipcclxuICAgICAgICAqIFxyXG4gICAgICAgICovXHJcbiAgICAgICBmdW5jdGlvbiBpbml0VG9wTGluaygpIHtcclxuICAgICAgICAgICBpZiAoJGJvZHkuc2Nyb2xsVG9wKCkgPiA0MDApIHtcclxuICAgICAgICAgICAgICAgJHRvcExpbmsuc2hvdygnZmFzdCcpO1xyXG4gICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICR0b3BMaW5rLmhpZGUoJ2Zhc3QnKTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICB9XHJcblxyXG5cclxuICAgfSk7XHJcblxyXG5cclxuXHJcbn0pKGpRdWVyeSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDMwLjAzLjIwMTcuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKCk7XHJcbiAgICB9KTtcclxuXHJcbn0pKGpRdWVyeSk7XHJcbiJdfQ==
