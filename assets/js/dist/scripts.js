!function(t){t(document).ready(function(){t("#centerSlider").slick({centerPadding:"0px",centerMode:!0,slidesToShow:5,prevArrow:'<div class="arrow left"><i class="social_arrow social_arrow-arrow_left"></i></div>',nextArrow:'<div class="arrow right"><i class="social_arrow social_arrow-arrow_right"></i></div>'})})}(jQuery),function(t){t(document).ready(function(){t("#contactForm").submit(function(e){e.preventDefault();var n=t(this).serialize();n.action;t.ajax({type:"POST",url:window.wp_data.ajax_url,data:n,success:function(){t("#contactModal").modal("show")}})})})}(jQuery),function(t){t(document).ready(function(){var e=document.documentElement.lang;if("ru-RU"==e)var n="Email",o="Пароль",i="Повторите пароль";else if("en-US"==e){var n="Email",o="Password",i="repeat password";t("#pass1").attr("placeholder",o),t("#last_name").attr("placeholder","Name"),t(".auth_form .wpuf-form li input[type=submit]").val("Registration")}var a=t("#wpuf-user_login"),r=t("#wpuf-user_pass"),c=t("#pass2");if(a.attr("placeholder",n),r.attr("placeholder",o),c.attr("placeholder",i),"ru-RU"==e)var l="Загрузить превью в jpg",u="Загрузить работу в pdf";else if("en-US"==e)var l="Download preview in jpg",u="Download the work in pdf";t("#wpuf-___________________pdf-pickfiles").text(u),t("#wpuf-featured_image-pickfiles").text(l)});var e=t(".wpuf_category_select_353_352 select"),n=document.documentElement.lang;if("ru-RU"==n)var o="Категория";else if("en-US"==n)var o="Category";e=e.children(":first"),e.text(o)}(jQuery),function(t){t(document).ready(function(){currentLang=document.documentElement.lang;var e={};e.finalist="Finalists 2016",e.students="Students",e.graduate="Graduates",e.single="Single",e.multiple="Group",e.interior="Interior of apartment",e.pavilon="Pavilion / arbor",e.busStation="Bus station",e.cityOnTheWater="Sity on the Water",e.nomination="Nomination",e.numbersOfPartners="Number of partners";var n={};if(n.name="Full name",n.city="City",n.phoneNumber="Phone Number",n.univer="University",n.spec="Specialty",n.teamLead="Mentor",n.projectName="Project Name",n.projectDesc="Project description",n.submit="Send proect","en-US"==currentLang){t(".wpuf_category_select_353_352 option:nth-of-type(2)").text(e.finalist),t(".wpuf_category_select_353_352 option:nth-of-type(3)").text(e.students),t(".wpuf_category_select_353_352 option:nth-of-type(4)").text(e.graduate),t("select.wpuf__352 option:first-of-type").text(e.numbersOfPartners),t("select.wpuf__352 option:nth-of-type(2)").text(e.single),t("select.wpuf__352 option:nth-of-type(3)").text(e.multiple),t("select.wpuf_nomination_352 option:first-of-type").text(e.nomination),t("select.wpuf_nomination_352 option:nth-of-type(2)").text(e.interior),t("select.wpuf_nomination_352 option:nth-of-type(3)").text(e.pavilon),t("select.wpuf_nomination_352 option:nth-of-type(4)").text(e.busStation),t("select.wpuf_nomination_352 option:nth-of-type(5)").text(e.cityOnTheWater);var o=t(".wpuf-form-add");o.find("#post_title").attr("placeholder",n.name),o.find("#city").attr("placeholder",n.city),o.find("#phone_number").attr("placeholder",n.phoneNumber),o.find("#univer").attr("placeholder",n.univer),o.find("#spec").attr("placeholder",n.spec),o.find("#team_lead").attr("placeholder",n.teamLead),o.find("#project_name").attr("placeholder",n.projectName),o.find("#project_desc").attr("placeholder",n.projectDesc),o.find('input[type="submit"]').val(n.submit)}})}(jQuery),function(t){t(document).ready(function(){new e(t("#dateLineContainer")).init()});var e=function(e){this.container=e,this.line=e.find(".date_line"),this.dateStart=Date.parse(e.attr("data-datestart")),this.dateEnd=Date.parse(e.attr("data-dateend")),this.currentDate=Date.now(),this.mobileParentHeight=276,this.mobileLine=t(".date_line_mobile"),this.mobileWidth="767"};e.prototype.init=function(){return this.isMobile()?(this.setMobileHeight(),!0):(this.setWidth(),!0)},e.prototype.getDateDelta=function(){var t=this.dateStart,e=this.dateEnd,n=this.currentDate,o=e-t,i=n-t,a=100*i/o;return console.log(a),a},e.prototype.isMobile=function(){return t(window).width()<this.mobileWidth},e.prototype.setWidth=function(){var t=this.calculateWidth();this.line.css("width",t)},e.prototype.calculateWidth=function(){return this.getDateDelta()+"%"},e.prototype.setMobileHeight=function(){var t=this.calculateMobileHeight();console.log(t),this.mobileLine.css("height",t)},e.prototype.calculateMobileHeight=function(){var t=this.getDateDelta(),e=this.mobileParentHeight;return Math.floor(e*(t/100))+"px"}}(jQuery),function(t){t(document).ready(function(){var e=t(".filter_field"),n=t(".gallery_list");e.click(function(e){e.preventDefault();var o=t(this).attr("data-filter"),i=t(this).attr("data-terms"),a={action:"myfilter",filter_nomination_query:o,terms:i};t.ajax({url:window.wp_data.ajax_url,data:a,type:"POST",beforeSend:function(t){n.find(".sort_preloader").show()},success:function(t){n.find(".sort_preloader").hide(),n.html(t)}})})})}(jQuery),function(t){t(document).ready(function(){var e=t(".helper"),n=e.find(".helper_close");t("#helperToggle").on("click",function(t){e.slideToggle("fast"),t.preventDefault()}),n.on("click",function(t){e.slideToggle("fast"),t.preventDefault()})})}(jQuery),function(t){t(document).ready(function(){function e(e){var o=e.attr("href"),i=t(o),a=n(i);t("body").animate({scrollTop:a},800),t("#mainNav").slideToggle()}function n(t){var e=t.offset().top-325;return console.log(e),e}!function(){var n=t(".scroll_link");n.on("click",function(t){t.preventDefault(),e(n)})}()})}(jQuery),function(t){function e(t,e){return"error"==e?'<div class="alert alert-error"><p class="black">'+t+"</p></div>":'<div class="alert alert-success"><p class="black">'+t+"</p></div>"}var n=!1;t(document).ready(function(){function o(t,e,o){if(n)return e.find("response").html("<p>Необходимо дождаться ответа предыдущего запроса</p>"),!1;e.find('input[type="submit"]').attr("disabled","disabled").val("Подождите"),e.find(".response").html(""),n=!0}function i(o,i,a,r){if(console.log(arguments),o.success){var c=t("#stepSuccess");if(null!=(c=t(c.val())))t("#registrationModal").modal("hide"),c.modal("show");else{var l=e(o.data.message,"success");r.find('input[type="submit"]').prop("disabled",!1).val("Готово")}}else{var l=e(o.data.message,"error");r.find('input[type="submit"]').prop("disabled",!1).val("Отправить")}r.find(".response").html(l),o.data.redirect&&(window.location.href=o.data.redirect),n=!1}var a=t(".userform"),r={dataType:"json",beforeSubmit:o,success:i,error:function(t){console.log(arguments)},url:ajax_var.url};a.ajaxForm(r),t(".logout").click(function(e){if(e.preventDefault(),n)return!1;var o=t(this);t.ajax({type:"POST",url:"admin-ajax.php",dataType:"json",data:"action=logout_me&nonce="+t(this).data("nonce"),beforeSend:function(t){o.text("Подождите"),n=!0},success:function(t){t.success?(o.text("Выходим"),window.location.reload(!0)):alert(t.data.message)},error:function(t,e,n){console.log(arguments)},complete:function(t){n=!1}})})})}(jQuery),function(t){t(document).ready(function(){t("#successSendProject");t(".wpuf-form-add").submit(function(t){var e=window.sessionStorage;e&&e.setItem("project-publish-status","create")})})}(jQuery),function(t){function e(t,e){e.on("click",function(){t.slideToggle()}),t.find(".nav_close").on("click",function(e){t.slideToggle(),e.preventDefault()})}t(document).ready(function(){e(t("#mainNav"),t("#navToggle"))})}(jQuery),function(t){function e(){var e=t("#pagePreloader");e.find(".spinner").fadeOut(),e.delay(350).fadeOut("slow")}t(window).on("load",function(){e()})}(jQuery),function(t){t(document).ready(function(){function e(){n.scrollTop()>400?o.show("fast"):o.hide("fast")}var n=t("body"),o=t(".top_link");o.on("click",function(t){t.preventDefault(),n.animate({scrollTop:0},800)}),window.onscroll=function(){e()}})}(jQuery),function(t){t(document).ready(function(){var e=t(".sort_field"),n=t(".gallery_list");e.click(function(e){e.preventDefault();var o=t(this).attr("data-sort"),i=t(this).attr("data-terms"),a={action:"myfilter",sort_type:o,terms:i};t.ajax({url:window.wp_data.ajax_url,data:a,type:"POST",beforeSend:function(t){n.find(".sort_preloader").show()},success:function(t){n.find(".sort_preloader").hide(),n.html(t)}})})})}(jQuery),function(t){t(document).ready(function(){t('[data-toggle="tooltip"]').tooltip()})}(jQuery),function(t){t(document).ready(function(){t("#updateUserInfo").submit(function(e){e.preventDefault();var n=t("#userId").val(),o=t("#userUrl").val(),i=t("#userName").val(),a=t("#formAction").val(),r=t("#currentLang").val(),c={action:a,user_id:n,user_url:o,user_name:i,current_lang:r};t.post(ajax_var,c,function(e){var n=t("#userMessages");n.text(e),n.slideToggle()})})})}(jQuery),function(t){t(document).ready(function(){function e(t){yaCounter44245474.reachGoal(t,function(){console.log("Send event data to "+t)})}t("#topActionForUnloggined").on("click",function(t){e("topHelperHereButton")}),t(".reg_form").find("form").submit(function(){e("registrationForm")}),t("#buttonLearnMore").click(function(){e("buttonLearnMore")}),t("#buttonRegistrationOnButtom").click(function(){e("bottomRegistration")}),t(".wpcf7-form").click(function(){e("bottomContactForm")}),t("#buttonHouse").click(function(){e("buttonHouse")}),t("#ButtonCityOntheWater").click(function(){e("cityOnTheWaterNomination")}),t("#buttonAppartaments").click(function(){e("buttonApartamentsNomination")}),t("#buttonBusStation").click(function(){e("buttonBusStationNomination")})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcm91c2VsLmpzIiwiY29udGFjdC1mb3JtLmpzIiwiY3VzdG9tX2Zvcm0uanMiLCJkYXRlX2xpbmVfY2FsY3VsYXRlLmpzIiwiZmlsdGVyLmpzIiwiaGVscGVyLmpzIiwibGluay1zY3JvbGwuanMiLCJsb2dpbi5qcyIsIm1vZGFscy5qcyIsIm5hdi5qcyIsInByZWxvYWRlci5qcyIsInNjcm9sbC5qcyIsInNvcnQtaGFuZGxlci5qcyIsInRvb2x0aXAuanMiLCJ1cGRhdGVfdXNlci5qcyIsInlhbmRleC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInNsaWNrIiwiY2VudGVyUGFkZGluZyIsImNlbnRlck1vZGUiLCJzbGlkZXNUb1Nob3ciLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJqUXVlcnkiLCJzdWJtaXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9ybURhdGEiLCJ0aGlzIiwic2VyaWFsaXplIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJ3aW5kb3ciLCJ3cF9kYXRhIiwiYWpheF91cmwiLCJkYXRhIiwic3VjY2VzcyIsIm1vZGFsIiwibGFuZyIsImRvY3VtZW50RWxlbWVudCIsImxvZ2luTGFiZWwiLCJwYXNzTGFiZWwiLCJyZXBlYXRQYXNzTGFiZWwiLCJhdHRyIiwidmFsIiwiJGxvZ2luRmllbGQiLCIkcGFzc3dvcmRGaWVsZCIsIiRyZXBlYXRQYXNzd29yZEZpZWxkIiwidGh1bWJGaWVsZExhYmVsIiwicGRmRmllbGRMYWJlbCIsInRleHQiLCIkY2F0ZWdvcnlMaXN0IiwiY3VycmVudExhbmciLCJjYXRlZ29yeUxhYmVsIiwiY2hpbGRyZW4iLCJTZWxlY3QiLCJmaW5hbGlzdCIsInN0dWRlbnRzIiwiZ3JhZHVhdGUiLCJzaW5nbGUiLCJtdWx0aXBsZSIsImludGVyaW9yIiwicGF2aWxvbiIsImJ1c1N0YXRpb24iLCJjaXR5T25UaGVXYXRlciIsIm5vbWluYXRpb24iLCJudW1iZXJzT2ZQYXJ0bmVycyIsInRleHRGaWVsZCIsIm5hbWUiLCJjaXR5IiwicGhvbmVOdW1iZXIiLCJ1bml2ZXIiLCJzcGVjIiwidGVhbUxlYWQiLCJwcm9qZWN0TmFtZSIsInByb2plY3REZXNjIiwid3BVZkZvcm0iLCJmaW5kIiwiRGF0ZUxpbmUiLCJpbml0IiwiJGVsZW1lbnRDb250YWluZXIiLCJjb250YWluZXIiLCJsaW5lIiwiZGF0ZVN0YXJ0IiwiRGF0ZSIsInBhcnNlIiwiZGF0ZUVuZCIsImN1cnJlbnREYXRlIiwibm93IiwibW9iaWxlUGFyZW50SGVpZ2h0IiwibW9iaWxlTGluZSIsIm1vYmlsZVdpZHRoIiwicHJvdG90eXBlIiwiaXNNb2JpbGUiLCJzZXRNb2JpbGVIZWlnaHQiLCJzZXRXaWR0aCIsImdldERhdGVEZWx0YSIsInN0YXJ0IiwiZW5kIiwiY3VycmVudCIsInN0YXJ0RGVsdGEiLCJjdXJyZW50RGVsdGEiLCJkZWx0YSIsImNvbnNvbGUiLCJsb2ciLCJ3aWR0aCIsImNhbGN1bGF0ZVdpZHRoIiwiY3NzIiwiaGVpZ2h0IiwiY2FsY3VsYXRlTW9iaWxlSGVpZ2h0IiwicGFyZW50SGVpZ2h0IiwiTWF0aCIsImZsb29yIiwiZmlsdGVyRmllbGQiLCJnYWxsZXJ5TGlzdCIsImNsaWNrIiwiZmlsdGVyUXVlcnkiLCJ0ZXJtcyIsInJlc3BvbnNlRGF0YSIsImFjdGlvbiIsImZpbHRlcl9ub21pbmF0aW9uX3F1ZXJ5IiwiYmVmb3JlU2VuZCIsInhociIsInNob3ciLCJoaWRlIiwiaHRtbCIsIiRoZWxwZXIiLCIkY2xvc2VUb2dnbGUiLCJvbiIsInNsaWRlVG9nZ2xlIiwibWFrZVNjcm9sbExpbmsiLCIkbGluayIsImhyZWYiLCIkZWxUYXJnZXQiLCJzY3JvbGwiLCJnZXRTY3JvbGwiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiJGVsIiwiJHNjcm9sbCIsIm9mZnNldCIsInRvcCIsIiRzY3JvbGxMaW5rIiwiYnVpbGRNZXNzYWdlIiwibWVzc2FnZSIsImFqYXhHbyIsInJlcUdvIiwiZm9ybSIsIm9wdGlvbnMiLCJyZXFDb21lIiwic3RhdHVzVGV4dCIsImFyZ3VtZW50cyIsIm5leHRTdGVwTW9kYWwiLCJyZXNwb25zZSIsInByb3AiLCJyZWRpcmVjdCIsImxvY2F0aW9uIiwidXNlckZvcm0iLCJhcmdzIiwiZGF0YVR5cGUiLCJiZWZvcmVTdWJtaXQiLCJlcnJvciIsImFqYXhfdmFyIiwiYWpheEZvcm0iLCJsaW5rIiwicmVsb2FkIiwiYWxlcnQiLCJhamF4T3B0aW9ucyIsInRocm93bkVycm9yIiwiY29tcGxldGUiLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJpbml0TmF2IiwiJG5hdiIsIiR0b2dnbGVCdG4iLCJpbml0UHJlbG9hZGVyIiwiJHByZWxvYWRlciIsImZhZGVPdXQiLCJkZWxheSIsImluaXRUb3BMaW5rIiwiJGJvZHkiLCIkdG9wTGluayIsIm9uc2Nyb2xsIiwic29ydEZpZWxkIiwic29ydFR5cGUiLCJzb3J0X3R5cGUiLCJ0b29sdGlwIiwidXNlcklkIiwidXNlclVybCIsInVzZXJOYW1lIiwiZm9ybUFjdGlvbiIsInVzZXJfaWQiLCJ1c2VyX3VybCIsInVzZXJfbmFtZSIsImN1cnJlbnRfbGFuZyIsInBvc3QiLCIkdXNlck1lc3NhZ2UiLCJzZW5kRGF0YVRvWWFuZGV4TWV0cmljYSIsImV2ZW50SWQiLCJ5YUNvdW50ZXI0NDI0NTQ3NCIsInJlYWNoR29hbCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsR0FFQUEsRUFBQUMsVUFBQUMsTUFBQSxXQUNBRixFQUFBLGlCQUNBRyxPQUNBQyxjQUFBLE1BQ0FDLFlBQUEsRUFDQUMsYUFBQSxFQUNBQyxVQUFBLHFGQUNBQyxVQUFBLDRGQUlBQyxRQ1ZBLFNBQUFULEdBRUFBLEVBQUFDLFVBQUFDLE1BQUEsV0FFQUYsRUFBQSxnQkFBQVUsT0FBQSxTQUFBQyxHQUNBQSxFQUFBQyxnQkFDQSxJQUFBQyxHQUFBYixFQUFBYyxNQUFBQyxXQUNBRixHQUFBLE1BRUFiLEdBQUFnQixNQUNBQyxLQUFBLE9BQ0FDLElBQUFDLE9BQUFDLFFBQUFDLFNBQ0FDLEtBQUFULEVBQ0FV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LFdBQ0FrRixFQUFBLHVCQUlBeEwsRUFBQSxnQkFDQXNHLE1BQUEsV0FDQWtGLEVBQUEsaUJBR0F4TCxFQUFBLHlCQUNBc0csTUFBQSxXQUNBa0YsRUFBQSw4QkFHQXhMLEVBQUEsdUJBQ0FzRyxNQUFBLFdBQ0FrRixFQUFBLGlDQUdBeEwsRUFBQSxxQkFDQXNHLE1BQUEsV0FDQWtGLEVBQUEsbUNBYUEvSyIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgdmFyIHNsaWRlciA9ICQoJyNjZW50ZXJTbGlkZXInKTtcclxuICAgICAgICBzbGlkZXIuc2xpY2soe1xyXG4gICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICcwcHgnLFxyXG4gICAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDUsXHJcbiAgICAgICAgICAgIHByZXZBcnJvdzogJzxkaXYgY2xhc3M9XCJhcnJvdyBsZWZ0XCI+PGkgY2xhc3M9XCJzb2NpYWxfYXJyb3cgc29jaWFsX2Fycm93LWFycm93X2xlZnRcIj48L2k+PC9kaXY+JyxcclxuICAgICAgICAgICAgbmV4dEFycm93OiAnPGRpdiBjbGFzcz1cImFycm93IHJpZ2h0XCI+PGkgY2xhc3M9XCJzb2NpYWxfYXJyb3cgc29jaWFsX2Fycm93LWFycm93X3JpZ2h0XCI+PC9pPjwvZGl2PicsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbn0pKGpRdWVyeSk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAwNy4wNC4yMDE3LlxuICovXG4oZnVuY3Rpb24oICQgKSB7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgICAkKCcjY29udGFjdEZvcm0nKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgIHZhciBmb3JtRGF0YSA9ICQodGhpcykuc2VyaWFsaXplKCk7XG4gICAgICAgICAgIHZhciBhY3Rpb24gPSBmb3JtRGF0YVsnYWN0aW9uJ107XG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgdXJsOiB3aW5kb3cud3BfZGF0YS5hamF4X3VybCxcbiAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRjb250YWN0TW9kYWwgPSAkKCcjY29udGFjdE1vZGFsJyk7XG4gICAgICAgICAgICAgICAgICAgICRjb250YWN0TW9kYWwubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgIH0pO1xuXG5cbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDA1LjA0LjIwMTcuXG4gKi9cbihmdW5jdGlvbiggJCApIHtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIHZhciBsYW5nID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lmxhbmc7XG5cbiAgICBpZiAobGFuZyA9PSAncnUtUlUnKSB7XG4gICAgICAgIHZhciBsb2dpbkxhYmVsID0gJ0VtYWlsJyxcbiAgICAgICAgICAgIHBhc3NMYWJlbCA9ICfQn9Cw0YDQvtC70YwnLFxuICAgICAgICAgICAgcmVwZWF0UGFzc0xhYmVsID0gJ9Cf0L7QstGC0L7RgNC40YLQtSDQv9Cw0YDQvtC70YwnO1xuICAgIH0gZWxzZSBpZiAobGFuZyA9PSAnZW4tVVMnKSB7XG4gICAgICAgIHZhciBsb2dpbkxhYmVsID0gJ0VtYWlsJyxcbiAgICAgICAgICAgIHBhc3NMYWJlbCA9ICdQYXNzd29yZCcsXG4gICAgICAgICAgICByZXBlYXRQYXNzTGFiZWwgPSAncmVwZWF0IHBhc3N3b3JkJztcbiAgICAgICAgJCgnI3Bhc3MxJykuYXR0cigncGxhY2Vob2xkZXInLCBwYXNzTGFiZWwpO1xuICAgICAgICAkKCcjbGFzdF9uYW1lJykuYXR0cigncGxhY2Vob2xkZXInLCAnTmFtZScpO1xuICAgICAgICAkKCcuYXV0aF9mb3JtIC53cHVmLWZvcm0gbGkgaW5wdXRbdHlwZT1zdWJtaXRdJykudmFsKCdSZWdpc3RyYXRpb24nKTtcbiAgICB9XG5cblxuICAgICAgIHZhciAkbG9naW5GaWVsZCA9ICQoJyN3cHVmLXVzZXJfbG9naW4nKSxcbiAgICAgICAgICAgJHBhc3N3b3JkRmllbGQgPSAkKCcjd3B1Zi11c2VyX3Bhc3MnKSxcbiAgICAgICAgICAgJHJlcGVhdFBhc3N3b3JkRmllbGQgPSAkKCcjcGFzczInKTtcblxuXG4gICAgICAgICRsb2dpbkZpZWxkLmF0dHIoJ3BsYWNlaG9sZGVyJywgbG9naW5MYWJlbCk7XG4gICAgICAgICRwYXNzd29yZEZpZWxkLmF0dHIoJ3BsYWNlaG9sZGVyJywgcGFzc0xhYmVsKTtcbiAgICAgICAgJHJlcGVhdFBhc3N3b3JkRmllbGQuYXR0cigncGxhY2Vob2xkZXInLCByZXBlYXRQYXNzTGFiZWwpO1xuXG4gICAgICAgIC8vIHZhciAkcmVnRm9ybSA9ICQoJy5yZWdfZm9ybScpLmZpbmQoJ2Zvcm0nKSxcbiAgICAgICAgLy8gICAgICRpbmZvTW9kYWwgPSAkKCcjaW5mb1JlZ2lzdHJhdGlvbicpLFxuICAgICAgICAvLyAgICAgJHJlZ2lzdHJhdGlvbk1vZGFsID0gJCgnI3JlZ2lzdHJhdGlvbk1vZGFsJyk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICRyZWdGb3JtLm9uKCdzdWJtaXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gICAgICRyZWdpc3RyYXRpb25Nb2RhbC5tb2RhbCgnaGlkZScpO1xuICAgICAgICAvLyAgICAgJGluZm9Nb2RhbC5tb2RhbCgnc2hvdycpO1xuICAgICAgICAvLyB9KTtcblxuXG4gICAgICAgIGlmIChsYW5nID09ICdydS1SVScpIHtcblxuICAgICAgICAgICAgdmFyIHRodW1iRmllbGRMYWJlbCA9ICfQl9Cw0LPRgNGD0LfQuNGC0Ywg0L/RgNC10LLRjNGOINCyIGpwZyc7XG4gICAgICAgICAgICB2YXIgcGRmRmllbGRMYWJlbCA9ICfQl9Cw0LPRgNGD0LfQuNGC0Ywg0YDQsNCx0L7RgtGDINCyIHBkZic7XG5cblxuICAgICAgICB9IGVsc2UgaWYgKGxhbmcgPT0gJ2VuLVVTJykge1xuICAgICAgICAgICAgdmFyIHRodW1iRmllbGRMYWJlbCA9ICdEb3dubG9hZCBwcmV2aWV3IGluIGpwZyc7XG4gICAgICAgICAgICB2YXIgcGRmRmllbGRMYWJlbCA9ICdEb3dubG9hZCB0aGUgd29yayBpbiBwZGYnO1xuICAgICAgICB9XG5cblxuICAgICAgICB2YXIgJHBkZkZpZWxkID0gJCgnI3dwdWYtX19fX19fX19fX19fX19fX19fX3BkZi1waWNrZmlsZXMnKTtcblxuXG4gICAgICAgICRwZGZGaWVsZC50ZXh0KHBkZkZpZWxkTGFiZWwpO1xuXG4gICAgICAgIHZhciAkdGh1bWJGaWVsZCA9ICQoJyN3cHVmLWZlYXR1cmVkX2ltYWdlLXBpY2tmaWxlcycpO1xuXG5cbiAgICAgICAgJHRodW1iRmllbGQudGV4dCh0aHVtYkZpZWxkTGFiZWwpO1xuICAgIH0pO1xuXG4gICAgdmFyICRjYXRlZ29yeUxpc3QgPSAkKCcud3B1Zl9jYXRlZ29yeV9zZWxlY3RfMzUzXzM1MiBzZWxlY3QnKTtcblxuICAgIHZhciBjdXJyZW50TGFuZyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nO1xuXG4gICAgaWYgKGN1cnJlbnRMYW5nID09ICdydS1SVScpIHtcbiAgICAgICAgdmFyIGNhdGVnb3J5TGFiZWwgPSAn0JrQsNGC0LXQs9C+0YDQuNGPJztcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRMYW5nID09ICdlbi1VUycpIHtcbiAgICAgICAgdmFyIGNhdGVnb3J5TGFiZWwgPSAnQ2F0ZWdvcnknO1xuICAgIH1cblxuICAgICRjYXRlZ29yeUxpc3QgPSAkY2F0ZWdvcnlMaXN0LmNoaWxkcmVuKCc6Zmlyc3QnKTtcbiAgICAkY2F0ZWdvcnlMaXN0LnRleHQoY2F0ZWdvcnlMYWJlbCk7XG5cblxuXG5cblxuXG5cblxufSkoalF1ZXJ5KTtcbihmdW5jdGlvbigkKSB7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgY3VycmVudExhbmcgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZztcblxuICAgICAgICB2YXIgU2VsZWN0ID0ge307XG4gICAgICAgIFNlbGVjdC5maW5hbGlzdCA9ICdGaW5hbGlzdHMgMjAxNic7XG4gICAgICAgIFNlbGVjdC5zdHVkZW50cyA9ICdTdHVkZW50cyc7XG4gICAgICAgIFNlbGVjdC5ncmFkdWF0ZSA9ICdHcmFkdWF0ZXMnO1xuICAgICAgICBTZWxlY3Quc2luZ2xlID0gJ1NpbmdsZSc7XG4gICAgICAgIFNlbGVjdC5tdWx0aXBsZSA9ICdHcm91cCc7XG4gICAgICAgIFNlbGVjdC5pbnRlcmlvciA9ICdJbnRlcmlvciBvZiBhcGFydG1lbnQnO1xuICAgICAgICBTZWxlY3QucGF2aWxvbiA9ICdQYXZpbGlvbiAvIGFyYm9yJztcbiAgICAgICAgU2VsZWN0LmJ1c1N0YXRpb24gPSAnQnVzIHN0YXRpb24nO1xuICAgICAgICBTZWxlY3QuY2l0eU9uVGhlV2F0ZXIgPSAnU2l0eSBvbiB0aGUgV2F0ZXInO1xuICAgICAgICBTZWxlY3Qubm9taW5hdGlvbiA9ICdOb21pbmF0aW9uJztcbiAgICAgICAgU2VsZWN0Lm51bWJlcnNPZlBhcnRuZXJzID0gJ051bWJlciBvZiBwYXJ0bmVycyc7XG5cbiAgICAgICAgdmFyIHRleHRGaWVsZCA9IHt9O1xuICAgICAgICB0ZXh0RmllbGQubmFtZSA9ICdGdWxsIG5hbWUnO1xuICAgICAgICB0ZXh0RmllbGQuY2l0eSA9ICdDaXR5JztcbiAgICAgICAgdGV4dEZpZWxkLnBob25lTnVtYmVyID0gJ1Bob25lIE51bWJlcic7XG4gICAgICAgIHRleHRGaWVsZC51bml2ZXIgPSAnVW5pdmVyc2l0eSc7XG4gICAgICAgIHRleHRGaWVsZC5zcGVjID0gJ1NwZWNpYWx0eSc7XG4gICAgICAgIHRleHRGaWVsZC50ZWFtTGVhZCA9ICdNZW50b3InO1xuICAgICAgICB0ZXh0RmllbGQucHJvamVjdE5hbWUgPSAnUHJvamVjdCBOYW1lJztcbiAgICAgICAgdGV4dEZpZWxkLnByb2plY3REZXNjID0gJ1Byb2plY3QgZGVzY3JpcHRpb24nO1xuICAgICAgICB0ZXh0RmllbGQuc3VibWl0ID0gJ1NlbmQgcHJvZWN0JztcblxuICAgICAgICBpZiAoY3VycmVudExhbmcgPT0gJ2VuLVVTJykge1xuXG4gICAgICAgICAgICAkKCcud3B1Zl9jYXRlZ29yeV9zZWxlY3RfMzUzXzM1MiBvcHRpb246bnRoLW9mLXR5cGUoMiknKS50ZXh0KFNlbGVjdC5maW5hbGlzdCk7XG4gICAgICAgICAgICAkKCcud3B1Zl9jYXRlZ29yeV9zZWxlY3RfMzUzXzM1MiBvcHRpb246bnRoLW9mLXR5cGUoMyknKS50ZXh0KFNlbGVjdC5zdHVkZW50cyk7XG4gICAgICAgICAgICAkKCcud3B1Zl9jYXRlZ29yeV9zZWxlY3RfMzUzXzM1MiBvcHRpb246bnRoLW9mLXR5cGUoNCknKS50ZXh0KFNlbGVjdC5ncmFkdWF0ZSk7XG5cbiAgICAgICAgICAgICQoJ3NlbGVjdC53cHVmX18zNTIgb3B0aW9uOmZpcnN0LW9mLXR5cGUnKS50ZXh0KFNlbGVjdC5udW1iZXJzT2ZQYXJ0bmVycyk7XG4gICAgICAgICAgICAkKCdzZWxlY3Qud3B1Zl9fMzUyIG9wdGlvbjpudGgtb2YtdHlwZSgyKScpLnRleHQoU2VsZWN0LnNpbmdsZSk7XG4gICAgICAgICAgICAkKCdzZWxlY3Qud3B1Zl9fMzUyIG9wdGlvbjpudGgtb2YtdHlwZSgzKScpLnRleHQoU2VsZWN0Lm11bHRpcGxlKTtcblxuICAgICAgICAgICAgJCgnc2VsZWN0LndwdWZfbm9taW5hdGlvbl8zNTIgb3B0aW9uOmZpcnN0LW9mLXR5cGUnKS50ZXh0KFNlbGVjdC5ub21pbmF0aW9uKTtcbiAgICAgICAgICAgICQoJ3NlbGVjdC53cHVmX25vbWluYXRpb25fMzUyIG9wdGlvbjpudGgtb2YtdHlwZSgyKScpLnRleHQoU2VsZWN0LmludGVyaW9yKTtcbiAgICAgICAgICAgICQoJ3NlbGVjdC53cHVmX25vbWluYXRpb25fMzUyIG9wdGlvbjpudGgtb2YtdHlwZSgzKScpLnRleHQoU2VsZWN0LnBhdmlsb24pO1xuICAgICAgICAgICAgJCgnc2VsZWN0LndwdWZfbm9taW5hdGlvbl8zNTIgb3B0aW9uOm50aC1vZi10eXBlKDQpJykudGV4dChTZWxlY3QuYnVzU3RhdGlvbik7XG4gICAgICAgICAgICAkKCdzZWxlY3Qud3B1Zl9ub21pbmF0aW9uXzM1MiBvcHRpb246bnRoLW9mLXR5cGUoNSknKS50ZXh0KFNlbGVjdC5jaXR5T25UaGVXYXRlcik7XG5cbiAgICAgICAgICAgIHZhciB3cFVmRm9ybSA9ICQoJy53cHVmLWZvcm0tYWRkJyk7XG5cbiAgICAgICAgICAgIHdwVWZGb3JtLmZpbmQoJyNwb3N0X3RpdGxlJykuYXR0cigncGxhY2Vob2xkZXInLCB0ZXh0RmllbGQubmFtZSk7XG4gICAgICAgICAgICB3cFVmRm9ybS5maW5kKCcjY2l0eScpLmF0dHIoJ3BsYWNlaG9sZGVyJywgdGV4dEZpZWxkLmNpdHkpO1xuICAgICAgICAgICAgd3BVZkZvcm0uZmluZCgnI3Bob25lX251bWJlcicpLmF0dHIoJ3BsYWNlaG9sZGVyJywgdGV4dEZpZWxkLnBob25lTnVtYmVyKTtcbiAgICAgICAgICAgIHdwVWZGb3JtLmZpbmQoJyN1bml2ZXInKS5hdHRyKCdwbGFjZWhvbGRlcicsIHRleHRGaWVsZC51bml2ZXIpO1xuICAgICAgICAgICAgd3BVZkZvcm0uZmluZCgnI3NwZWMnKS5hdHRyKCdwbGFjZWhvbGRlcicsIHRleHRGaWVsZC5zcGVjKTtcbiAgICAgICAgICAgIHdwVWZGb3JtLmZpbmQoJyN0ZWFtX2xlYWQnKS5hdHRyKCdwbGFjZWhvbGRlcicsIHRleHRGaWVsZC50ZWFtTGVhZCk7XG4gICAgICAgICAgICB3cFVmRm9ybS5maW5kKCcjcHJvamVjdF9uYW1lJykuYXR0cigncGxhY2Vob2xkZXInLCB0ZXh0RmllbGQucHJvamVjdE5hbWUpO1xuICAgICAgICAgICAgd3BVZkZvcm0uZmluZCgnI3Byb2plY3RfZGVzYycpLmF0dHIoJ3BsYWNlaG9sZGVyJywgdGV4dEZpZWxkLnByb2plY3REZXNjKTtcbiAgICAgICAgICAgIHdwVWZGb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0nKS52YWwodGV4dEZpZWxkLnN1Ym1pdCk7XG5cblxuXG5cblxuXG5cblxuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG5cbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDEyLjA1LjIwMTcuXG4gKi9cbihmdW5jdGlvbigkKSB7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuXG5cbiAgICAgICAgdmFyIGRhdGVMaW5lID0gbmV3IERhdGVMaW5lKCQoJyNkYXRlTGluZUNvbnRhaW5lcicpKTtcbiAgICAgICAgZGF0ZUxpbmUuaW5pdCgpO1xuXG5cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtqcXVlcnl9ICRlbGVtZW50Q29udGFpbmVyXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gIHZhciBEYXRlTGluZSA9IGZ1bmN0aW9uKCRlbGVtZW50Q29udGFpbmVyKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lciA9ICRlbGVtZW50Q29udGFpbmVyO1xuICAgICAgdGhpcy5saW5lID0gJGVsZW1lbnRDb250YWluZXIuZmluZCgnLmRhdGVfbGluZScpO1xuICAgICAgdGhpcy5kYXRlU3RhcnQgPSAgRGF0ZS5wYXJzZSgkZWxlbWVudENvbnRhaW5lci5hdHRyKCdkYXRhLWRhdGVzdGFydCcpKTtcbiAgICAgIHRoaXMuZGF0ZUVuZCA9IERhdGUucGFyc2UoJGVsZW1lbnRDb250YWluZXIuYXR0cignZGF0YS1kYXRlZW5kJykpO1xuICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IERhdGUubm93KCk7XG4gICAgICB0aGlzLm1vYmlsZVBhcmVudEhlaWdodCA9IDI3NjtcbiAgICAgIHRoaXMubW9iaWxlTGluZSA9ICQoJy5kYXRlX2xpbmVfbW9iaWxlJyk7XG4gICAgICB0aGlzLm1vYmlsZVdpZHRoID0gJzc2Nyc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIERhdGVMaW5lLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICB0aGlzLnNldFdpZHRoKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldE1vYmlsZUhlaWdodCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBEYXRlTGluZS5wcm90b3R5cGUuZ2V0RGF0ZURlbHRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuZGF0ZVN0YXJ0O1xuICAgICAgICB2YXIgZW5kID0gdGhpcy5kYXRlRW5kO1xuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuY3VycmVudERhdGU7XG4gICAgICAgIHZhciBzdGFydERlbHRhID0gZW5kIC0gc3RhcnQ7XG4gICAgICAgIHZhciBjdXJyZW50RGVsdGEgPSBjdXJyZW50IC0gc3RhcnQ7XG4gICAgICAgIHZhciBkZWx0YSA9IChjdXJyZW50RGVsdGEgKiAxMDApIC8gc3RhcnREZWx0YTtcblxuICAgICAgICBjb25zb2xlLmxvZyhkZWx0YSk7XG5cbiAgICAgICAgcmV0dXJuIGRlbHRhO1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIERhdGVMaW5lLnByb3RvdHlwZS5pc01vYmlsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJCh3aW5kb3cpLndpZHRoKCkgPCB0aGlzLm1vYmlsZVdpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIERhdGVMaW5lLnByb3RvdHlwZS5zZXRXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgIHZhciB3aWR0aCA9IHRoaXMuY2FsY3VsYXRlV2lkdGgoKTtcblxuICAgICAgICB0aGlzLmxpbmUuY3NzKCd3aWR0aCcsIHdpZHRoKTtcbiAgICB9O1xuXG4gICAgRGF0ZUxpbmUucHJvdG90eXBlLmNhbGN1bGF0ZVdpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkZWx0YSA9IHRoaXMuZ2V0RGF0ZURlbHRhKCk7XG4gICAgICAgcmV0dXJuIGRlbHRhICsgJyUnO1xuICAgIH07XG5cblxuICAgIERhdGVMaW5lLnByb3RvdHlwZS5zZXRNb2JpbGVIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuY2FsY3VsYXRlTW9iaWxlSGVpZ2h0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGhlaWdodCk7XG4gICAgICAgIHRoaXMubW9iaWxlTGluZS5jc3MoJ2hlaWdodCcsIGhlaWdodCk7XG4gICAgfTtcblxuICAgIERhdGVMaW5lLnByb3RvdHlwZS5jYWxjdWxhdGVNb2JpbGVIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRlbHRhID0gdGhpcy5nZXREYXRlRGVsdGEoKTtcbiAgICAgICAgdmFyIHBhcmVudEhlaWdodCA9IHRoaXMubW9iaWxlUGFyZW50SGVpZ2h0O1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcihwYXJlbnRIZWlnaHQgKiAoZGVsdGEgLyAxMDApKTtcblxuICAgICAgICByZXR1cm4gaGVpZ2h0ICsgJ3B4JztcbiAgICB9O1xuXG5cblxufSkoalF1ZXJ5KTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgcm9vdCBvbiAyOS4wNS4xNy5cbiAqL1xuXG4oZnVuY3Rpb24oJCkge1xuXG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgZmlsdGVyRmllbGQgPSAkKCcuZmlsdGVyX2ZpZWxkJyk7XG4gICAgICAgIHZhciBnYWxsZXJ5TGlzdCA9ICQoJy5nYWxsZXJ5X2xpc3QnKTtcbiAgICAgICAgZmlsdGVyRmllbGQuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgZmlsdGVyUXVlcnkgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtZmlsdGVyJyk7XG4gICAgICAgICAgICB2YXIgdGVybXMgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtdGVybXMnKTtcbiAgICAgICAgICAgIHZhciByZXNwb25zZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgJ2FjdGlvbic6ICdteWZpbHRlcicsXG4gICAgICAgICAgICAgICAgJ2ZpbHRlcl9ub21pbmF0aW9uX3F1ZXJ5JzogZmlsdGVyUXVlcnksXG4gICAgICAgICAgICAgICAgJ3Rlcm1zJzogdGVybXNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogd2luZG93LndwX2RhdGEuYWpheF91cmwsXG4gICAgICAgICAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhbGxlcnlMaXN0LmZpbmQoJy5zb3J0X3ByZWxvYWRlcicpLnNob3coKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhbGxlcnlMaXN0LmZpbmQoJy5zb3J0X3ByZWxvYWRlcicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgZ2FsbGVyeUxpc3QuaHRtbChkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH0pO1xuXG4gICAgfSlcblxuXG59KShqUXVlcnkpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAyNC4wMy4yMDE3LlxuICovXG4oZnVuY3Rpb24oICQgKSB7XG5cblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgJGhlbHBlciA9ICQoJy5oZWxwZXInKTtcbiAgICAgIHZhciAkY2xvc2VUb2dnbGUgPSAkaGVscGVyLmZpbmQoJy5oZWxwZXJfY2xvc2UnKTtcbiAgICAgIHZhciAkaGVscGVyVG9nZ2xlID0gJCgnI2hlbHBlclRvZ2dsZScpO1xuXG4gICAgICAkaGVscGVyVG9nZ2xlLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAkaGVscGVyLnNsaWRlVG9nZ2xlKCdmYXN0Jyk7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgfSk7XG5cbiAgICAgICAgJGNsb3NlVG9nZ2xlLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICRoZWxwZXIuc2xpZGVUb2dnbGUoJ2Zhc3QnKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pO1xuXG5cbiAgICB9KTtcblxuXG59KShqUXVlcnkpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAwNy4wNC4yMDE3LlxuICovXG5cbihmdW5jdGlvbiggJCApIHtcbiAgICBcbiAgICBcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICBpbml0U2Nyb2xsTGluaygpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaW5pdFNjcm9sbExpbmsoKSB7XG4gICAgICAgICAgICB2YXIgJHNjcm9sbExpbmsgPSAkKCcuc2Nyb2xsX2xpbmsnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJHNjcm9sbExpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbWFrZVNjcm9sbExpbmsoJHNjcm9sbExpbmspO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7alF1ZXJ5fSAkbGlua1xuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gbWFrZVNjcm9sbExpbmsoJGxpbmspIHtcbiAgICAgICAgICAgIHZhciBocmVmID0gJGxpbmsuYXR0cignaHJlZicpO1xuICAgICAgICAgICAgdmFyICRlbFRhcmdldCA9ICQoaHJlZik7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsID0gZ2V0U2Nyb2xsKCRlbFRhcmdldCk7XG4gICAgICAgICAgICB2YXIgJGJvZHkgPSAkKCdib2R5Jyk7XG4gICAgICAgICAgICAkYm9keS5hbmltYXRlKHtzY3JvbGxUb3A6IHNjcm9sbH0sIDgwMCk7XG4gICAgICAgICAgICAkKCcjbWFpbk5hdicpLnNsaWRlVG9nZ2xlKCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBcbiAgICAgICAgICogQHBhcmFtIHtqUXVlcnl9ICRlbFxuICAgICAgICAgKiBAcmV0dXJucyB7SW50ZWdlcn1cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldFNjcm9sbCgkZWwpIHtcbiAgICAgICAgICAgIFxuICAgICAgICB2YXIgJHNjcm9sbCA9ICRlbC5vZmZzZXQoKS50b3AgLSAzMjU7XG4gICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJHNjcm9sbCk7XG4gICAgICAgICAgICByZXR1cm4gJHNjcm9sbDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBcbiAgICB9KTtcbiAgICBcbiAgICBcbiAgICBcbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDI4LjAzLjIwMTcuXG4gKi9cbihmdW5jdGlvbiggJCApIHtcblxuICAgIHZhciBhamF4R28gPSBmYWxzZTtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciB1c2VyRm9ybSA9ICQoJy51c2VyZm9ybScpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlcUdvKGRhdGEsIGZvcm0sIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChhamF4R28pIHtcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJ3Jlc3BvbnNlJykuaHRtbCgnPHA+0J3QtdC+0LHRhdC+0LTQuNC80L4g0LTQvtC20LTQsNGC0YzRgdGPINC+0YLQstC10YLQsCDQv9GA0LXQtNGL0LTRg9GJ0LXQs9C+INC30LDQv9GA0L7RgdCwPC9wPicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJykudmFsKCfQn9C+0LTQvtC20LTQuNGC0LUnKTtcbiAgICAgICAgICAgIGZvcm0uZmluZCgnLnJlc3BvbnNlJykuaHRtbCgnJyk7XG4gICAgICAgICAgICBhamF4R28gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHJlcUNvbWUoZGF0YSwgc3RhdHVzVGV4dCwgeGhyLCBmb3JtKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xuXG4gICAgICAgICAgICAgICAgdmFyIG5leHRTdGVwTW9kYWwgPSAkKCcjc3RlcFN1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICBuZXh0U3RlcE1vZGFsID0gJChuZXh0U3RlcE1vZGFsLnZhbCgpKTtcblxuXG4gICAgICAgICAgICAgICAgaWYgKG5leHRTdGVwTW9kYWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjcmVnaXN0cmF0aW9uTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xuICAgICAgICAgICAgICAgICAgICBuZXh0U3RlcE1vZGFsLm1vZGFsKCdzaG93Jyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gYnVpbGRNZXNzYWdlKGRhdGEuZGF0YS5tZXNzYWdlLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0nKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS52YWwoJ9CT0L7RgtC+0LLQvicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gYnVpbGRNZXNzYWdlKGRhdGEuZGF0YS5tZXNzYWdlLCAnZXJyb3InKTtcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0nKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS52YWwoJ9Ce0YLQv9GA0LDQstC40YLRjCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9ybS5maW5kKCcucmVzcG9uc2UnKS5odG1sKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGEucmVkaXJlY3QpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGRhdGEuZGF0YS5yZWRpcmVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFqYXhHbyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFyZ3MgPSB7XG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgYmVmb3JlU3VibWl0OiByZXFHbyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHJlcUNvbWUsXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXJsOiBhamF4X3Zhci51cmxcbiAgICAgICAgfTtcbiAgICAgICAgdXNlckZvcm0uYWpheEZvcm0oYXJncyk7XG5cbiAgICAgICAgJCgnLmxvZ291dCcpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAoYWpheEdvKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB2YXIgbGluayA9ICQodGhpcyk7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6ICdhZG1pbi1hamF4LnBocCcsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBkYXRhOiAnYWN0aW9uPWxvZ291dF9tZSZub25jZT0nICsgJCh0aGlzKS5kYXRhKCdub25jZScpLFxuICAgICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluay50ZXh0KCfQn9C+0LTQvtC20LTQuNGC0LUnKTtcbiAgICAgICAgICAgICAgICAgICAgYWpheEdvID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluay50ZXh0KCfQktGL0YXQvtC00LjQvCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgYWpheE9wdGlvbnMsIHRocm93bkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBhamF4R28gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH0pO1xuXG5cblxuICAgIH0pO1xuXG5cbiAgICBmdW5jdGlvbiBidWlsZE1lc3NhZ2UobWVzc2FnZSwgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PSAnZXJyb3InKSB7XG5cbiAgICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1lcnJvclwiPjxwIGNsYXNzPVwiYmxhY2tcIj4nICsgbWVzc2FnZSArICc8L3A+PC9kaXY+JztcblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj48cCBjbGFzcz1cImJsYWNrXCI+JyArIG1lc3NhZ2UgKyAnPC9wPjwvZGl2Pic7XG4gICAgfVxuXG5cbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDI5LjAzLjIwMTcuXG4gKi9cbihmdW5jdGlvbiggJCApIHtcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgTW9kYWxzID0ge1xuICAgICAgICAgICAgJ3N1Y2Nlc3NTZW5kUHJvamVjdCc6ICQoJyNzdWNjZXNzU2VuZFByb2plY3QnKVxuICAgICAgICB9O1xuXG5cbiAgICAgICB2YXIgJGNyZWF0ZVByb2plY3RGb3JtID0gJCgnLndwdWYtZm9ybS1hZGQnKTtcblxuICAgICAgICAkY3JlYXRlUHJvamVjdEZvcm0uc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgc2Vzc2lvblN0b3JhZ2UgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2U7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UpIHtcbiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdC1wdWJsaXNoLXN0YXR1cycsICdjcmVhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cblxuICAgIH0pO1xuXG5cblxufSkoalF1ZXJ5KTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMjQuMDMuMjAxNy5cbiAqL1xuXG5cbihmdW5jdGlvbiggJCApIHtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgaW5pdE5hdigkKCcjbWFpbk5hdicpLCAkKCcjbmF2VG9nZ2xlJykpO1xuXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gJG5hdlxuICAgICAqIEBwYXJhbSAkdG9nZ2xlQnRuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdE5hdigkbmF2LCAkdG9nZ2xlQnRuKSB7XG5cbiAgICAgICR0b2dnbGVCdG4ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAkbmF2LnNsaWRlVG9nZ2xlKCk7XG5cbiAgICAgIH0pO1xuXG4gICAgICAgIHZhciAkY2xvc2VCdG4gPSAkbmF2LmZpbmQoJy5uYXZfY2xvc2UnKTtcblxuICAgICAgICRjbG9zZUJ0bi5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgICAgICRuYXYuc2xpZGVUb2dnbGUoKTtcbiAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtICRuYXZcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGlkZU5hdigkbmF2KSB7XG4gICAgICAgICRuYXYuc2xpZGVUb2dnbGUoKTtcbiAgICB9XG5cbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDA0LjA0LjIwMTcuXG4gKi9cbihmdW5jdGlvbiggJCApIHtcblxuXG4gICAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGluaXRQcmVsb2FkZXIoKTtcbiAgICB9KTtcblxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdFByZWxvYWRlcigpIHtcbiAgICAgICAgdmFyICRwcmVsb2FkZXIgPSAkKCcjcGFnZVByZWxvYWRlcicpLFxuICAgICAgICAgICAgJHNwaW5uZXIgPSAkcHJlbG9hZGVyLmZpbmQoJy5zcGlubmVyJyk7XG5cbiAgICAgICAgJHNwaW5uZXIuZmFkZU91dCgpO1xuICAgICAgICAkcHJlbG9hZGVyLmRlbGF5KDM1MCkuZmFkZU91dCgnc2xvdycpO1xuICAgIH1cblxufSkoalF1ZXJ5KTtcbiIsIihmdW5jdGlvbiggJCApIHtcblxuICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgdmFyICRib2R5ID0gJCgnYm9keScpO1xuICAgICAgIHZhciAkdG9wTGluayA9ICQoJy50b3BfbGluaycpO1xuXG4gICAgICAgJHRvcExpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAkYm9keS5hbmltYXRlKHtzY3JvbGxUb3A6IDB9LCA4MDApO1xuXG4gICAgICAgfSk7XG5cblxuICAgICAgIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBpbml0VG9wTGluaygpO1xuICAgICAgIH07XG5cblxuICAgICAgIC8qKlxuICAgICAgICAqIFxuICAgICAgICAqL1xuICAgICAgIGZ1bmN0aW9uIGluaXRUb3BMaW5rKCkge1xuICAgICAgICAgICBpZiAoJGJvZHkuc2Nyb2xsVG9wKCkgPiA0MDApIHtcbiAgICAgICAgICAgICAgICR0b3BMaW5rLnNob3coJ2Zhc3QnKTtcbiAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICR0b3BMaW5rLmhpZGUoJ2Zhc3QnKTtcbiAgICAgICAgICAgfVxuICAgICAgIH1cblxuXG4gICB9KTtcblxuXG5cbn0pKGpRdWVyeSk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHJvb3Qgb24gMjkuMDUuMTcuXG4gKi9cblxuKGZ1bmN0aW9uKCQpIHtcblxuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHNvcnRGaWVsZCA9ICQoJy5zb3J0X2ZpZWxkJyk7XG4gICAgICB2YXIgZ2FsbGVyeUxpc3QgPSAkKCcuZ2FsbGVyeV9saXN0Jyk7XG4gICAgICBzb3J0RmllbGQuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHZhciBzb3J0VHlwZSA9ICQodGhpcykuYXR0cignZGF0YS1zb3J0Jyk7XG4gICAgICAgICAgdmFyIHRlcm1zID0gJCh0aGlzKS5hdHRyKCdkYXRhLXRlcm1zJyk7XG4gICAgICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHtcbiAgICAgICAgICAgICAgJ2FjdGlvbic6ICdteWZpbHRlcicsXG4gICAgICAgICAgICAgICdzb3J0X3R5cGUnOiBzb3J0VHlwZSxcbiAgICAgICAgICAgICAgJ3Rlcm1zJzogdGVybXNcbiAgICAgICAgICB9O1xuICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgIHVybDogd2luZG93LndwX2RhdGEuYWpheF91cmwsXG4gICAgICAgICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XG4gICAgICAgICAgICAgICAgICBnYWxsZXJ5TGlzdC5maW5kKCcuc29ydF9wcmVsb2FkZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICBnYWxsZXJ5TGlzdC5maW5kKCcuc29ydF9wcmVsb2FkZXInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICBnYWxsZXJ5TGlzdC5odG1sKGRhdGEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSlcblxuICAgICAgfSk7XG5cbiAgfSlcblxuXG59KShqUXVlcnkpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAzMC4wMy4yMDE3LlxuICovXG5cbihmdW5jdGlvbiggJCApIHtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAkKCdbZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJdJykudG9vbHRpcCgpO1xuICAgIH0pO1xuXG59KShqUXVlcnkpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAxNi4wNS4yMDE3LlxuICovXG4oZnVuY3Rpb24oICQgKSB7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgJGZvcm0gPSAkKCcjdXBkYXRlVXNlckluZm8nKTtcblxuICAgICAgICAkZm9ybS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIHZhciB1c2VySWQgPSAkKCcjdXNlcklkJykudmFsKCk7XG4gICAgICAgICAgICB2YXIgdXNlclVybCA9ICQoJyN1c2VyVXJsJykudmFsKCk7XG4gICAgICAgICAgICB2YXIgdXNlck5hbWUgPSAkKCcjdXNlck5hbWUnKS52YWwoKTtcbiAgICAgICAgICAgIHZhciBmb3JtQWN0aW9uID0gJCgnI2Zvcm1BY3Rpb24nKS52YWwoKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50TGFuZyA9ICQoJyNjdXJyZW50TGFuZycpLnZhbCgpO1xuXG4gICAgICAgICAgICB2YXIgZm9ybURhdGEgPSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmb3JtQWN0aW9uLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgICAgICAgICAgICB1c2VyX3VybDogdXNlclVybCxcbiAgICAgICAgICAgICAgICB1c2VyX25hbWU6IHVzZXJOYW1lLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRfbGFuZzogY3VycmVudExhbmdcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICQucG9zdChhamF4X3ZhciwgZm9ybURhdGEsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmFyICR1c2VyTWVzc2FnZSA9ICQoJyN1c2VyTWVzc2FnZXMnKTtcblxuICAgICAgICAgICAgICAgICR1c2VyTWVzc2FnZS50ZXh0KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAkdXNlck1lc3NhZ2Uuc2xpZGVUb2dnbGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuXG5cblxuXG5cblxuXG5cbiAgICB9KTtcblxuXG5cblxuXG5cblxufSkoalF1ZXJ5KTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgcm9vdCBvbiAwMS4wNi4xNy5cbiAqL1xuKGZ1bmN0aW9uKCQpIHtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciB0b3BIZWxwZXJCdXR0b24gPSAkKCcjdG9wQWN0aW9uRm9yVW5sb2dnaW5lZCcpO1xuICAgICAgICB0b3BIZWxwZXJCdXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBzZW5kRGF0YVRvWWFuZGV4TWV0cmljYSgndG9wSGVscGVySGVyZUJ1dHRvbicpO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIHZhciByZWdpc3RyYXRpb25Gb3JtID0gJCgnLnJlZ19mb3JtJykuZmluZCgnZm9ybScpO1xuICAgICAgICByZWdpc3RyYXRpb25Gb3JtLnN1Ym1pdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbmREYXRhVG9ZYW5kZXhNZXRyaWNhKCdyZWdpc3RyYXRpb25Gb3JtJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBidXR0b25MZWFybk1vcmUgPSAkKCcjYnV0dG9uTGVhcm5Nb3JlJyk7XG4gICAgICAgIGJ1dHRvbkxlYXJuTW9yZS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgc2VuZERhdGFUb1lhbmRleE1ldHJpY2EoJ2J1dHRvbkxlYXJuTW9yZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgYnV0dG9tUmVnaXN0cmF0aW9uQnV0dG9uID0gJCgnI2J1dHRvblJlZ2lzdHJhdGlvbk9uQnV0dG9tJyk7XG4gICAgICAgIGJ1dHRvbVJlZ2lzdHJhdGlvbkJ1dHRvbi5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgc2VuZERhdGFUb1lhbmRleE1ldHJpY2EoJ2JvdHRvbVJlZ2lzdHJhdGlvbicpO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgYm90dG9tQ29udGFjdEZvcm0gPSAkKCcud3BjZjctZm9ybScpO1xuXG4gICAgICAgIGJvdHRvbUNvbnRhY3RGb3JtLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBzZW5kRGF0YVRvWWFuZGV4TWV0cmljYSgnYm90dG9tQ29udGFjdEZvcm0nKTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICB2YXIgaG91c2VOb21pbmF0aW9uQnV0dG9uID0gJCgnI2J1dHRvbkhvdXNlJyk7XG4gICAgICAgIGhvdXNlTm9taW5hdGlvbkJ1dHRvbi5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgc2VuZERhdGFUb1lhbmRleE1ldHJpY2EoJ2J1dHRvbkhvdXNlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBjaXR5T25UaGVXYXRlck5vbWluYXRpb24gPSAkKCcjQnV0dG9uQ2l0eU9udGhlV2F0ZXInKTtcbiAgICAgICAgY2l0eU9uVGhlV2F0ZXJOb21pbmF0aW9uLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBzZW5kRGF0YVRvWWFuZGV4TWV0cmljYSgnY2l0eU9uVGhlV2F0ZXJOb21pbmF0aW9uJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBhcHBhcnRhbWVudHNOb21pbmF0aW9uID0gJCgnI2J1dHRvbkFwcGFydGFtZW50cycpO1xuICAgICAgICBhcHBhcnRhbWVudHNOb21pbmF0aW9uLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBzZW5kRGF0YVRvWWFuZGV4TWV0cmljYSgnYnV0dG9uQXBhcnRhbWVudHNOb21pbmF0aW9uJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBidXR0b25CdXNTdGF0aW9uID0gJCgnI2J1dHRvbkJ1c1N0YXRpb24nKTtcbiAgICAgICAgYnV0dG9uQnVzU3RhdGlvbi5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgc2VuZERhdGFUb1lhbmRleE1ldHJpY2EoJ2J1dHRvbkJ1c1N0YXRpb25Ob21pbmF0aW9uJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgICogQHBhcmFtIGV2ZW50SWRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHNlbmREYXRhVG9ZYW5kZXhNZXRyaWNhKGV2ZW50SWQpIHtcbiAgICAgICAgICAgICB5YUNvdW50ZXI0NDI0NTQ3NC5yZWFjaEdvYWwoZXZlbnRJZCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlbmQgZXZlbnQgZGF0YSB0byAnICsgZXZlbnRJZCk7XG4gICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKGpRdWVyeSk7XG4iXX0=
