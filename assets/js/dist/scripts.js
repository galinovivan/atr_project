!function(t){t(document).ready(function(){t("#contactForm").submit(function(e){e.preventDefault();var n=t(this).serialize();n.action;t.ajax({type:"POST",url:window.wp_data.ajax_url,data:n,success:function(){t("#contactModal").modal("show")}})})})}(jQuery),function(t){t(document).ready(function(){var e=t("#wpuf-user_login"),n=t("#wpuf-user_pass"),o=t("#pass2");e.attr("placeholder","Email"),n.attr("placeholder","Пароль"),o.attr("placeholder","Повторите пароль");t("#wpuf-___________________pdf-pickfiles").text("Загрузить работу в pdf");t("#wpuf-featured_image-pickfiles").text("Загрузить превью в jpg")});var e=t(".wpuf_category_select_353_352 select");e=e.children(":first"),e.text("Категория")}(jQuery),function(t){t(document).ready(function(){new e(t("#dateLineContainer")).init()});var e=function(e){this.container=e,this.line=e.find(".date_line"),this.dateStart=Date.parse(e.attr("data-datestart")),this.dateEnd=Date.parse(e.attr("data-dateend")),this.currentDate=Date.now(),this.mobileParentHeight=276,this.mobileLine=t(".date_line_mobile"),this.mobileWidth="767"};e.prototype.init=function(){return this.isMobile()?(this.setMobileHeight(),!0):(this.setWidth(),!0)},e.prototype.getDateDelta=function(){var t=this.dateStart,e=this.dateEnd,n=this.currentDate,o=e-t,i=n-t,a=100*i/o;return console.log(a),a},e.prototype.isMobile=function(){return t(window).width()<this.mobileWidth},e.prototype.setWidth=function(){var t=this.calculateWidth();this.line.css("width",t)},e.prototype.calculateWidth=function(){return this.getDateDelta()+"%"},e.prototype.setMobileHeight=function(){var t=this.calculateMobileHeight();console.log(t),this.mobileLine.css("height",t)},e.prototype.calculateMobileHeight=function(){var t=this.getDateDelta(),e=this.mobileParentHeight;return Math.floor(e*(t/100))+"px"}}(jQuery),function(t){t(document).ready(function(){var e=t(".helper"),n=e.find(".helper_close");t("#helperToggle").on("click",function(t){e.slideToggle("fast"),t.preventDefault()}),n.on("click",function(t){e.slideToggle("fast"),t.preventDefault()})})}(jQuery),function(t){t(document).ready(function(){function e(e){var o=e.attr("href"),i=t(o),a=n(i);t("body").animate({scrollTop:a},800),t("#mainNav").slideToggle()}function n(t){var e=t.offset().top-325;return console.log(e),e}!function(){var n=t(".scroll_link");n.on("click",function(t){t.preventDefault(),e(n)})}()})}(jQuery),function(t){function e(t,e){return"error"==e?'<div class="alert alert-error"><p class="black">'+t+"</p></div>":'<div class="alert alert-success"><p class="black">'+t+"</p></div>"}var n=!1;t(document).ready(function(){function o(t,e,o){if(n)return e.find("response").html("<p>Необходимо дождаться ответа предыдущего запроса</p>"),!1;e.find('input[type="submit"]').attr("disabled","disabled").val("Подождите"),e.find(".response").html(""),n=!0}function i(o,i,a,r){if(console.log(arguments),o.success){var l=t("#stepSuccess");if(null!=(l=t(l.val())))t("#registrationModal").modal("hide"),l.modal("show");else{var s=e(o.data.message,"success");r.find('input[type="submit"]').prop("disabled",!1).val("Готово")}}else{var s=e(o.data.message,"error");r.find('input[type="submit"]').prop("disabled",!1).val("Отправить")}r.find(".response").html(s),o.data.redirect&&(window.location.href=o.data.redirect),n=!1}var a=t(".userform"),r={dataType:"json",beforeSubmit:o,success:i,error:function(t){console.log(arguments)},url:ajax_var.url};a.ajaxForm(r),t(".logout").click(function(e){if(e.preventDefault(),n)return!1;var o=t(this);t.ajax({type:"POST",url:"admin-ajax.php",dataType:"json",data:"action=logout_me&nonce="+t(this).data("nonce"),beforeSend:function(t){o.text("Подождите"),n=!0},success:function(t){t.success?(o.text("Выходим"),window.location.reload(!0)):alert(t.data.message)},error:function(t,e,n){console.log(arguments)},complete:function(t){n=!1}})})})}(jQuery),function(t){t(document).ready(function(){var e={successSendProject:t("#successSendProject")};t(".wpuf-form-add").submit(function(t){e.successSendProject.modal("show")})})}(jQuery),function(t){function e(t,e){e.on("click",function(){t.slideToggle()}),t.find(".nav_close").on("click",function(e){t.slideToggle(),e.preventDefault()})}t(document).ready(function(){e(t("#mainNav"),t("#navToggle"))})}(jQuery),function(t){function e(){var e=t("#pagePreloader");e.find(".spinner").fadeOut(),e.delay(350).fadeOut("slow")}t(window).on("load",function(){e()})}(jQuery),function(t){t(document).ready(function(){e.init()});var e={};e.nominationKey="nomination",e.dataAttr="data-filter",e.buttonsNominationClass="nomination_filter_button",e.galleryItemClass="filterable",e.init=function(){this.initButton(t("."+this.buttonsNominationClass))},e.initButton=function(e){var n=this;e.click(function(e){e.preventDefault(),filter=t(this).attr(n.dataAttr),elementList=t("."+n.galleryItemClass),n.filterContent(filter,elementList,n.nominationKey)})},e.filterContent=function(e,n,o){e=e.toLowerCase(),n.each(function(n,i){t(this).show(),elemAttr=t(this).attr("data-"+o),elemAttr=elemAttr.toLowerCase(),elemAttr!=e&&t(this).hide()}),console.log("filter is done: "+e)},e.removeFilter=function(e){e.each(function(e,n){t(this).show()})}}(jQuery),function(t){t(document).ready(function(){function e(){n.scrollTop()>400?o.show("fast"):o.hide("fast")}var n=t("body"),o=t(".top_link");o.on("click",function(t){t.preventDefault(),n.animate({scrollTop:0},800)}),window.onscroll=function(){e()}})}(jQuery),function(t){t(document).ready(function(){var e=t(".sort_field"),n=t(".gallery_list");e.click(function(e){e.preventDefault();var o=t(this).attr("data-sort"),i=t(this).attr("data-terms"),a={action:"myfilter",sort_type:o,terms:i};console.log(window.wp_data.ajax_url),t.ajax({url:window.wp_data.ajax_url,data:a,type:"POST",beforeSend:function(t){n.find(".sort_preloader").show()},success:function(t){n.find(".sort_preloader").hide(),n.html(t)}})})})}(jQuery),function(t){t(document).ready(function(){t('[data-toggle="tooltip"]').tooltip()})}(jQuery),function(t){t(document).ready(function(){t("#updateUserInfo").submit(function(e){e.preventDefault();var n=t("#userId").val(),o=t("#userUrl").val(),i=t("#userName").val(),a=t("#formAction").val(),r=t("#currentLang").val(),l={action:a,user_id:n,user_url:o,user_name:i,current_lang:r};t.post(ajax_var,l,function(e){var n=t("#userMessages");n.text(e),n.slideToggle()})})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3QtZm9ybS5qcyIsImN1c3RvbV9mb3JtLmpzIiwiZGF0ZV9saW5lX2NhbGN1bGF0ZS5qcyIsImhlbHBlci5qcyIsImxpbmstc2Nyb2xsLmpzIiwibG9naW4uanMiLCJtb2RhbHMuanMiLCJuYXYuanMiLCJwcmVsb2FkZXIuanMiLCJwcm9qZWN0X2ZpbHRlci5qcyIsInNjcm9sbC5qcyIsInNvcnQtaGFuZGxlci5qcyIsInRvb2x0aXAuanMiLCJ1cGRhdGVfdXNlci5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInN1Ym1pdCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJmb3JtRGF0YSIsInRoaXMiLCJzZXJpYWxpemUiLCJhamF4IiwidHlwZSIsInVybCIsIndpbmRvdyIsIndwX2RhdGEiLCJhamF4X3VybCIsImRhdGEiLCJzdWNjZXNzIiwibW9kYWwiLCJqUXVlcnkiLCIkbG9naW5GaWVsZCIsIiRwYXNzd29yZEZpZWxkIiwiJHJlcGVhdFBhc3N3b3JkRmllbGQiLCJhdHRyIiwidGV4dCIsIiRjYXRlZ29yeUxpc3QiLCJjaGlsZHJlbiIsIkRhdGVMaW5lIiwiaW5pdCIsIiRlbGVtZW50Q29udGFpbmVyIiwiY29udGFpbmVyIiwibGluZSIsImZpbmQiLCJkYXRlU3RhcnQiLCJEYXRlIiwicGFyc2UiLCJkYXRlRW5kIiwiY3VycmVudERhdGUiLCJub3ciLCJtb2JpbGVQYXJlbnRIZWlnaHQiLCJtb2JpbGVMaW5lIiwibW9iaWxlV2lkdGgiLCJwcm90b3R5cGUiLCJpc01vYmlsZSIsInNldE1vYmlsZUhlaWdodCIsInNldFdpZHRoIiwiZ2V0RGF0ZURlbHRhIiwic3RhcnQiLCJlbmQiLCJjdXJyZW50Iiwic3RhcnREZWx0YSIsImN1cnJlbnREZWx0YSIsImRlbHRhIiwiY29uc29sZSIsImxvZyIsIndpZHRoIiwiY2FsY3VsYXRlV2lkdGgiLCJjc3MiLCJoZWlnaHQiLCJjYWxjdWxhdGVNb2JpbGVIZWlnaHQiLCJwYXJlbnRIZWlnaHQiLCJNYXRoIiwiZmxvb3IiLCIkaGVscGVyIiwiJGNsb3NlVG9nZ2xlIiwib24iLCJzbGlkZVRvZ2dsZSIsIm1ha2VTY3JvbGxMaW5rIiwiJGxpbmsiLCJocmVmIiwiJGVsVGFyZ2V0Iiwic2Nyb2xsIiwiZ2V0U2Nyb2xsIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIiRlbCIsIiRzY3JvbGwiLCJvZmZzZXQiLCJ0b3AiLCIkc2Nyb2xsTGluayIsImJ1aWxkTWVzc2FnZSIsIm1lc3NhZ2UiLCJhamF4R28iLCJyZXFHbyIsImZvcm0iLCJvcHRpb25zIiwiaHRtbCIsInZhbCIsInJlcUNvbWUiLCJzdGF0dXNUZXh0IiwieGhyIiwiYXJndW1lbnRzIiwibmV4dFN0ZXBNb2RhbCIsInJlc3BvbnNlIiwicHJvcCIsInJlZGlyZWN0IiwibG9jYXRpb24iLCJ1c2VyRm9ybSIsImFyZ3MiLCJkYXRhVHlwZSIsImJlZm9yZVN1Ym1pdCIsImVycm9yIiwiYWpheF92YXIiLCJhamF4Rm9ybSIsImNsaWNrIiwibGluayIsImJlZm9yZVNlbmQiLCJyZWxvYWQiLCJhbGVydCIsImFqYXhPcHRpb25zIiwidGhyb3duRXJyb3IiLCJjb21wbGV0ZSIsIk1vZGFscyIsInN1Y2Nlc3NTZW5kUHJvamVjdCIsImluaXROYXYiLCIkbmF2IiwiJHRvZ2dsZUJ0biIsImluaXRQcmVsb2FkZXIiLCIkcHJlbG9hZGVyIiwiZmFkZU91dCIsImRlbGF5IiwiRmlsdGVyIiwibm9taW5hdGlvbktleSIsImRhdGFBdHRyIiwiYnV0dG9uc05vbWluYXRpb25DbGFzcyIsImdhbGxlcnlJdGVtQ2xhc3MiLCJpbml0QnV0dG9uIiwiYnV0dG9ucyIsInNlbGYiLCJmaWx0ZXIiLCJlbGVtZW50TGlzdCIsImZpbHRlckNvbnRlbnQiLCJleHAiLCJhdHRyVmFsIiwidG9Mb3dlckNhc2UiLCJlYWNoIiwia2V5IiwidmFsdWUiLCJzaG93IiwiZWxlbUF0dHIiLCJoaWRlIiwicmVtb3ZlRmlsdGVyIiwiaW5pdFRvcExpbmsiLCIkYm9keSIsIiR0b3BMaW5rIiwib25zY3JvbGwiLCJzb3J0RmllbGQiLCJnYWxsZXJ5TGlzdCIsInNvcnRUeXBlIiwidGVybXMiLCJyZXNwb25zZURhdGEiLCJhY3Rpb24iLCJzb3J0X3R5cGUiLCJ0b29sdGlwIiwidXNlcklkIiwidXNlclVybCIsInVzZXJOYW1lIiwiZm9ybUFjdGlvbiIsImN1cnJlbnRMYW5nIiwidXNlcl9pZCIsInVzZXJfdXJsIiwidXNlcl9uYW1lIiwiY3VycmVudF9sYW5nIiwicG9zdCIsIiR1c2VyTWVzc2FnZSJdLCJtYXBwaW5ncyI6IkNBR0EsU0FBQUEsR0FFQUEsRUFBQUMsVUFBQUMsTUFBQSxXQUVBRixFQUFBLGdCQUFBRyxPQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLGdCQUNBLElBQUFDLEdBQUFOLEVBQUFPLE1BQUFDLFdBQ0FGLEdBQUEsTUFFQU4sR0FBQVMsTUFDQUMsS0FBQSxPQUNBQyxJQUFBQyxPQUFBQyxRQUFBQyxTQUNBQyxLQUFBVCxFQUNBVSxRQUFBLFdBQ0FoQixFQUFBLGlCQUNBaUIsTUFBQSxnQkFRQUMsUUN2QkEsU0FBQWxCLEdBRUFBLEVBQUFDLFVBQUFDLE1BQUEsV0FFQSxHQUlBaUIsR0FBQW5CLEVBQUEsb0JBQ0FvQixFQUFBcEIsRUFBQSxtQkFDQXFCLEVBQUFyQixFQUFBLFNBR0FtQixHQUFBRyxLQUFBLGNBVEEsU0FVQUYsRUFBQUUsS0FBQSxjQVRBLFVBVUFELEVBQUFDLEtBQUEsY0FUQSxtQkFzQkF0QixHQUFBLDBDQUdBdUIsS0FGQSx5QkFJQXZCLEdBQUEsa0NBR0F1QixLQUZBLDJCQUtBLElBQUFDLEdBQUF4QixFQUFBLHVDQUdBd0IsR0FBQUEsRUFBQUMsU0FBQSxVQUNBRCxFQUFBRCxLQUhBLGNBT0FMLFFDL0NBLFNBQUFsQixHQUVBQSxFQUFBQyxVQUFBQyxNQUFBLFdBR0EsR0FBQXdCLEdBQUExQixFQUFBLHVCQUNBMkIsUUFVQSxJQUFBRCxHQUFBLFNBQUFFLEdBQ0FyQixLQUFBc0IsVUFBQUQsRUFDQXJCLEtBQUF1QixLQUFBRixFQUFBRyxLQUFBLGNB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LFdBQUEsU0FBQWhCLEdBQ0F5RCxFQUFBbkgsS0FBQSxtQkFBQTBHLFFBRUF6SCxRQUFBLFNBQUFELEdBQ0FtSSxFQUFBbkgsS0FBQSxtQkFBQTRHLE9BQ0FPLEVBQUE3RCxLQUFBdEUsV0FTQUcsUUNuQ0EsU0FBQWxCLEdBRUFBLEVBQUFDLFVBQUFDLE1BQUEsV0FDQUYsRUFBQSwyQkFBQXdKLGFBR0F0SSxRQ1BBLFNBQUFsQixHQUVBQSxFQUFBQyxVQUFBQyxNQUFBLFdBRUFGLEVBQUEsbUJBRUFHLE9BQUEsU0FBQUMsR0FDQUEsRUFBQUMsZ0JBRUEsSUFBQW9KLEdBQUF6SixFQUFBLFdBQUFzRixNQUNBb0UsRUFBQTFKLEVBQUEsWUFBQXNGLE1BQ0FxRSxFQUFBM0osRUFBQSxhQUFBc0YsTUFDQXNFLEVBQUE1SixFQUFBLGVBQUFzRixNQUNBdUUsRUFBQTdKLEVBQUEsZ0JBQUFzRixNQUVBaEYsR0FDQWdKLE9BQUFNLEVBQ0FFLFFBQUFMLEVBQ0FNLFNBQUFMLEVBQ0FNLFVBQUFMLEVBQ0FNLGFBQUFKLEVBR0E3SixHQUFBa0ssS0FBQTdELFNBQUEvRixFQUFBLFNBQUFzRixHQUNBLEdBQUF1RSxHQUFBbkssRUFBQSxnQkFFQW1LLEdBQUE1SSxLQUFBcUUsR0FDQXVFLEVBQUFsRyxxQkFtQkEvQyIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAwNy4wNC4yMDE3LlxuICovXG4oZnVuY3Rpb24oICQgKSB7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgICAkKCcjY29udGFjdEZvcm0nKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgIHZhciBmb3JtRGF0YSA9ICQodGhpcykuc2VyaWFsaXplKCk7XG4gICAgICAgICAgIHZhciBhY3Rpb24gPSBmb3JtRGF0YVsnYWN0aW9uJ107XG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgdXJsOiB3aW5kb3cud3BfZGF0YS5hamF4X3VybCxcbiAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRjb250YWN0TW9kYWwgPSAkKCcjY29udGFjdE1vZGFsJyk7XG4gICAgICAgICAgICAgICAgICAgICRjb250YWN0TW9kYWwubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgIH0pO1xuXG5cbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDA1LjA0LjIwMTcuXG4gKi9cbihmdW5jdGlvbiggJCApIHtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBsb2dpbkxhYmVsID0gJ0VtYWlsJyxcbiAgICAgICAgICAgIHBhc3NMYWJlbCA9ICfQn9Cw0YDQvtC70YwnLFxuICAgICAgICAgICAgcmVwZWF0UGFzc0xhYmVsID0gJ9Cf0L7QstGC0L7RgNC40YLQtSDQv9Cw0YDQvtC70YwnO1xuXG4gICAgICAgdmFyICRsb2dpbkZpZWxkID0gJCgnI3dwdWYtdXNlcl9sb2dpbicpLFxuICAgICAgICAgICAkcGFzc3dvcmRGaWVsZCA9ICQoJyN3cHVmLXVzZXJfcGFzcycpLFxuICAgICAgICAgICAkcmVwZWF0UGFzc3dvcmRGaWVsZCA9ICQoJyNwYXNzMicpO1xuXG5cbiAgICAgICAgJGxvZ2luRmllbGQuYXR0cigncGxhY2Vob2xkZXInLCBsb2dpbkxhYmVsKTtcbiAgICAgICAgJHBhc3N3b3JkRmllbGQuYXR0cigncGxhY2Vob2xkZXInLCBwYXNzTGFiZWwpO1xuICAgICAgICAkcmVwZWF0UGFzc3dvcmRGaWVsZC5hdHRyKCdwbGFjZWhvbGRlcicsIHJlcGVhdFBhc3NMYWJlbCk7XG5cbiAgICAgICAgLy8gdmFyICRyZWdGb3JtID0gJCgnLnJlZ19mb3JtJykuZmluZCgnZm9ybScpLFxuICAgICAgICAvLyAgICAgJGluZm9Nb2RhbCA9ICQoJyNpbmZvUmVnaXN0cmF0aW9uJyksXG4gICAgICAgIC8vICAgICAkcmVnaXN0cmF0aW9uTW9kYWwgPSAkKCcjcmVnaXN0cmF0aW9uTW9kYWwnKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gJHJlZ0Zvcm0ub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyAgICAgJHJlZ2lzdHJhdGlvbk1vZGFsLm1vZGFsKCdoaWRlJyk7XG4gICAgICAgIC8vICAgICAkaW5mb01vZGFsLm1vZGFsKCdzaG93Jyk7XG4gICAgICAgIC8vIH0pO1xuXG5cblxuICAgICAgICB2YXIgJHBkZkZpZWxkID0gJCgnI3dwdWYtX19fX19fX19fX19fX19fX19fX3BkZi1waWNrZmlsZXMnKSxcbiAgICAgICAgICAgIHBkZkZpZWxkTGFiZWwgPSAn0JfQsNCz0YDRg9C30LjRgtGMINGA0LDQsdC+0YLRgyDQsiBwZGYnO1xuXG4gICAgICAgICRwZGZGaWVsZC50ZXh0KHBkZkZpZWxkTGFiZWwpO1xuXG4gICAgICAgIHZhciAkdGh1bWJGaWVsZCA9ICQoJyN3cHVmLWZlYXR1cmVkX2ltYWdlLXBpY2tmaWxlcycpLFxuICAgICAgICAgICAgdGh1bWJGaWVsZExhYmVsID0gJ9CX0LDQs9GA0YPQt9C40YLRjCDQv9GA0LXQstGM0Y4g0LIganBnJztcblxuICAgICAgICAkdGh1bWJGaWVsZC50ZXh0KHRodW1iRmllbGRMYWJlbCk7XG4gICAgfSk7XG5cbiAgICB2YXIgJGNhdGVnb3J5TGlzdCA9ICQoJy53cHVmX2NhdGVnb3J5X3NlbGVjdF8zNTNfMzUyIHNlbGVjdCcpLFxuICAgICAgICBjYXRlZ29yeUxhYmVsID0gJ9Ca0LDRgtC10LPQvtGA0LjRjyc7XG5cbiAgICAkY2F0ZWdvcnlMaXN0ID0gJGNhdGVnb3J5TGlzdC5jaGlsZHJlbignOmZpcnN0Jyk7XG4gICAgJGNhdGVnb3J5TGlzdC50ZXh0KGNhdGVnb3J5TGFiZWwpO1xuXG5cblxufSkoalF1ZXJ5KTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMTIuMDUuMjAxNy5cbiAqL1xuKGZ1bmN0aW9uKCQpIHtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG5cblxuICAgICAgICB2YXIgZGF0ZUxpbmUgPSBuZXcgRGF0ZUxpbmUoJCgnI2RhdGVMaW5lQ29udGFpbmVyJykpO1xuICAgICAgICBkYXRlTGluZS5pbml0KCk7XG5cblxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2pxdWVyeX0gJGVsZW1lbnRDb250YWluZXJcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgdmFyIERhdGVMaW5lID0gZnVuY3Rpb24oJGVsZW1lbnRDb250YWluZXIpIHtcbiAgICAgIHRoaXMuY29udGFpbmVyID0gJGVsZW1lbnRDb250YWluZXI7XG4gICAgICB0aGlzLmxpbmUgPSAkZWxlbWVudENvbnRhaW5lci5maW5kKCcuZGF0ZV9saW5lJyk7XG4gICAgICB0aGlzLmRhdGVTdGFydCA9ICBEYXRlLnBhcnNlKCRlbGVtZW50Q29udGFpbmVyLmF0dHIoJ2RhdGEtZGF0ZXN0YXJ0JykpO1xuICAgICAgdGhpcy5kYXRlRW5kID0gRGF0ZS5wYXJzZSgkZWxlbWVudENvbnRhaW5lci5hdHRyKCdkYXRhLWRhdGVlbmQnKSk7XG4gICAgICB0aGlzLmN1cnJlbnREYXRlID0gRGF0ZS5ub3coKTtcbiAgICAgIHRoaXMubW9iaWxlUGFyZW50SGVpZ2h0ID0gMjc2O1xuICAgICAgdGhpcy5tb2JpbGVMaW5lID0gJCgnLmRhdGVfbGluZV9tb2JpbGUnKTtcbiAgICAgIHRoaXMubW9iaWxlV2lkdGggPSAnNzY3JztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgRGF0ZUxpbmUucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0V2lkdGgoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0TW9iaWxlSGVpZ2h0KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIERhdGVMaW5lLnByb3RvdHlwZS5nZXREYXRlRGVsdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5kYXRlU3RhcnQ7XG4gICAgICAgIHZhciBlbmQgPSB0aGlzLmRhdGVFbmQ7XG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5jdXJyZW50RGF0ZTtcblxuICAgICAgICB2YXIgc3RhcnREZWx0YSA9IGVuZCAtIHN0YXJ0O1xuICAgICAgICB2YXIgY3VycmVudERlbHRhID0gY3VycmVudCAtIHN0YXJ0O1xuICAgICAgICB2YXIgZGVsdGEgPSAoY3VycmVudERlbHRhICogMTAwKSAvIHN0YXJ0RGVsdGE7XG5cbiAgICAgICAgY29uc29sZS5sb2coZGVsdGEpO1xuXG4gICAgICAgIHJldHVybiBkZWx0YTtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBEYXRlTGluZS5wcm90b3R5cGUuaXNNb2JpbGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQod2luZG93KS53aWR0aCgpIDwgdGhpcy5tb2JpbGVXaWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBEYXRlTGluZS5wcm90b3R5cGUuc2V0V2lkdGggPSBmdW5jdGlvbigpIHtcbiAgICAgICB2YXIgd2lkdGggPSB0aGlzLmNhbGN1bGF0ZVdpZHRoKCk7XG5cbiAgICAgICAgdGhpcy5saW5lLmNzcygnd2lkdGgnLCB3aWR0aCk7XG4gICAgfTtcblxuICAgIERhdGVMaW5lLnByb3RvdHlwZS5jYWxjdWxhdGVXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGVsdGEgPSB0aGlzLmdldERhdGVEZWx0YSgpO1xuICAgICAgIHJldHVybiBkZWx0YSArICclJztcbiAgICB9O1xuICAgIFxuICAgIFxuICAgIERhdGVMaW5lLnByb3RvdHlwZS5zZXRNb2JpbGVIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuY2FsY3VsYXRlTW9iaWxlSGVpZ2h0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGhlaWdodCk7XG4gICAgICAgIHRoaXMubW9iaWxlTGluZS5jc3MoJ2hlaWdodCcsIGhlaWdodCk7XG4gICAgfTtcbiAgICBcbiAgICBEYXRlTGluZS5wcm90b3R5cGUuY2FsY3VsYXRlTW9iaWxlSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkZWx0YSA9IHRoaXMuZ2V0RGF0ZURlbHRhKCk7XG4gICAgICAgIHZhciBwYXJlbnRIZWlnaHQgPSB0aGlzLm1vYmlsZVBhcmVudEhlaWdodDtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguZmxvb3IocGFyZW50SGVpZ2h0ICogKGRlbHRhIC8gMTAwKSk7XG5cbiAgICAgICAgcmV0dXJuIGhlaWdodCArICdweCc7XG4gICAgfTtcblxuXG5cbn0pKGpRdWVyeSk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAyNC4wMy4yMDE3LlxuICovXG4oZnVuY3Rpb24oICQgKSB7XG5cblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgJGhlbHBlciA9ICQoJy5oZWxwZXInKTtcbiAgICAgIHZhciAkY2xvc2VUb2dnbGUgPSAkaGVscGVyLmZpbmQoJy5oZWxwZXJfY2xvc2UnKTtcbiAgICAgIHZhciAkaGVscGVyVG9nZ2xlID0gJCgnI2hlbHBlclRvZ2dsZScpO1xuXG4gICAgICAkaGVscGVyVG9nZ2xlLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAkaGVscGVyLnNsaWRlVG9nZ2xlKCdmYXN0Jyk7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgfSk7XG5cbiAgICAgICAgJGNsb3NlVG9nZ2xlLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICRoZWxwZXIuc2xpZGVUb2dnbGUoJ2Zhc3QnKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pO1xuXG5cbiAgICB9KTtcblxuXG59KShqUXVlcnkpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAwNy4wNC4yMDE3LlxuICovXG5cbihmdW5jdGlvbiggJCApIHtcbiAgICBcbiAgICBcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICBpbml0U2Nyb2xsTGluaygpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaW5pdFNjcm9sbExpbmsoKSB7XG4gICAgICAgICAgICB2YXIgJHNjcm9sbExpbmsgPSAkKCcuc2Nyb2xsX2xpbmsnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJHNjcm9sbExpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbWFrZVNjcm9sbExpbmsoJHNjcm9sbExpbmspO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7alF1ZXJ5fSAkbGlua1xuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gbWFrZVNjcm9sbExpbmsoJGxpbmspIHtcbiAgICAgICAgICAgIHZhciBocmVmID0gJGxpbmsuYXR0cignaHJlZicpO1xuICAgICAgICAgICAgdmFyICRlbFRhcmdldCA9ICQoaHJlZik7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsID0gZ2V0U2Nyb2xsKCRlbFRhcmdldCk7XG4gICAgICAgICAgICB2YXIgJGJvZHkgPSAkKCdib2R5Jyk7XG4gICAgICAgICAgICAkYm9keS5hbmltYXRlKHtzY3JvbGxUb3A6IHNjcm9sbH0sIDgwMCk7XG4gICAgICAgICAgICAkKCcjbWFpbk5hdicpLnNsaWRlVG9nZ2xlKCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBcbiAgICAgICAgICogQHBhcmFtIHtqUXVlcnl9ICRlbFxuICAgICAgICAgKiBAcmV0dXJucyB7SW50ZWdlcn1cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldFNjcm9sbCgkZWwpIHtcbiAgICAgICAgICAgIFxuICAgICAgICB2YXIgJHNjcm9sbCA9ICRlbC5vZmZzZXQoKS50b3AgLSAzMjU7XG4gICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJHNjcm9sbCk7XG4gICAgICAgICAgICByZXR1cm4gJHNjcm9sbDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBcbiAgICB9KTtcbiAgICBcbiAgICBcbiAgICBcbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDI4LjAzLjIwMTcuXG4gKi9cbihmdW5jdGlvbiggJCApIHtcblxuICAgIHZhciBhamF4R28gPSBmYWxzZTtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciB1c2VyRm9ybSA9ICQoJy51c2VyZm9ybScpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlcUdvKGRhdGEsIGZvcm0sIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChhamF4R28pIHtcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJ3Jlc3BvbnNlJykuaHRtbCgnPHA+0J3QtdC+0LHRhdC+0LTQuNC80L4g0LTQvtC20LTQsNGC0YzRgdGPINC+0YLQstC10YLQsCDQv9GA0LXQtNGL0LTRg9GJ0LXQs9C+INC30LDQv9GA0L7RgdCwPC9wPicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJykudmFsKCfQn9C+0LTQvtC20LTQuNGC0LUnKTtcbiAgICAgICAgICAgIGZvcm0uZmluZCgnLnJlc3BvbnNlJykuaHRtbCgnJyk7XG4gICAgICAgICAgICBhamF4R28gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHJlcUNvbWUoZGF0YSwgc3RhdHVzVGV4dCwgeGhyLCBmb3JtKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xuXG4gICAgICAgICAgICAgICAgdmFyIG5leHRTdGVwTW9kYWwgPSAkKCcjc3RlcFN1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICBuZXh0U3RlcE1vZGFsID0gJChuZXh0U3RlcE1vZGFsLnZhbCgpKTtcblxuXG4gICAgICAgICAgICAgICAgaWYgKG5leHRTdGVwTW9kYWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjcmVnaXN0cmF0aW9uTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xuICAgICAgICAgICAgICAgICAgICBuZXh0U3RlcE1vZGFsLm1vZGFsKCdzaG93Jyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gYnVpbGRNZXNzYWdlKGRhdGEuZGF0YS5tZXNzYWdlLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0nKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS52YWwoJ9CT0L7RgtC+0LLQvicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gYnVpbGRNZXNzYWdlKGRhdGEuZGF0YS5tZXNzYWdlLCAnZXJyb3InKTtcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0nKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS52YWwoJ9Ce0YLQv9GA0LDQstC40YLRjCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9ybS5maW5kKCcucmVzcG9uc2UnKS5odG1sKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGEucmVkaXJlY3QpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGRhdGEuZGF0YS5yZWRpcmVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFqYXhHbyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFyZ3MgPSB7XG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgYmVmb3JlU3VibWl0OiByZXFHbyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHJlcUNvbWUsXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXJsOiBhamF4X3Zhci51cmxcbiAgICAgICAgfTtcbiAgICAgICAgdXNlckZvcm0uYWpheEZvcm0oYXJncyk7XG5cbiAgICAgICAgJCgnLmxvZ291dCcpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAoYWpheEdvKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB2YXIgbGluayA9ICQodGhpcyk7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6ICdhZG1pbi1hamF4LnBocCcsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBkYXRhOiAnYWN0aW9uPWxvZ291dF9tZSZub25jZT0nICsgJCh0aGlzKS5kYXRhKCdub25jZScpLFxuICAgICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluay50ZXh0KCfQn9C+0LTQvtC20LTQuNGC0LUnKTtcbiAgICAgICAgICAgICAgICAgICAgYWpheEdvID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluay50ZXh0KCfQktGL0YXQvtC00LjQvCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgYWpheE9wdGlvbnMsIHRocm93bkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBhamF4R28gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH0pO1xuXG5cblxuICAgIH0pO1xuXG5cbiAgICBmdW5jdGlvbiBidWlsZE1lc3NhZ2UobWVzc2FnZSwgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PSAnZXJyb3InKSB7XG5cbiAgICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1lcnJvclwiPjxwIGNsYXNzPVwiYmxhY2tcIj4nICsgbWVzc2FnZSArICc8L3A+PC9kaXY+JztcblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj48cCBjbGFzcz1cImJsYWNrXCI+JyArIG1lc3NhZ2UgKyAnPC9wPjwvZGl2Pic7XG4gICAgfVxuXG5cbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDI5LjAzLjIwMTcuXG4gKi9cbihmdW5jdGlvbiggJCApIHtcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgTW9kYWxzID0ge1xuICAgICAgICAgICAgJ3N1Y2Nlc3NTZW5kUHJvamVjdCc6ICQoJyNzdWNjZXNzU2VuZFByb2plY3QnKVxuICAgICAgICB9O1xuXG5cbiAgICAgICB2YXIgJGNyZWF0ZVByb2plY3RGb3JtID0gJCgnLndwdWYtZm9ybS1hZGQnKTtcblxuICAgICAgICAkY3JlYXRlUHJvamVjdEZvcm0uc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBNb2RhbHMuc3VjY2Vzc1NlbmRQcm9qZWN0Lm1vZGFsKCdzaG93Jyk7XG4gICAgICAgIH0pO1xuXG5cbiAgICB9KTtcblxuXG5cbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDI0LjAzLjIwMTcuXG4gKi9cblxuXG4oZnVuY3Rpb24oICQgKSB7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgIGluaXROYXYoJCgnI21haW5OYXYnKSwgJCgnI25hdlRvZ2dsZScpKTtcblxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtICRuYXZcbiAgICAgKiBAcGFyYW0gJHRvZ2dsZUJ0blxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXROYXYoJG5hdiwgJHRvZ2dsZUJ0bikge1xuXG4gICAgICAkdG9nZ2xlQnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgJG5hdi5zbGlkZVRvZ2dsZSgpO1xuXG4gICAgICB9KTtcblxuICAgICAgICB2YXIgJGNsb3NlQnRuID0gJG5hdi5maW5kKCcubmF2X2Nsb3NlJyk7XG5cbiAgICAgICAkY2xvc2VCdG4ub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICAgICAkbmF2LnNsaWRlVG9nZ2xlKCk7XG4gICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICB9KTtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSAkbmF2XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2xpZGVOYXYoJG5hdikge1xuICAgICAgICAkbmF2LnNsaWRlVG9nZ2xlKCk7XG4gICAgfVxuXG59KShqUXVlcnkpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAwNC4wNC4yMDE3LlxuICovXG4oZnVuY3Rpb24oICQgKSB7XG5cblxuICAgICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpbml0UHJlbG9hZGVyKCk7XG4gICAgfSk7XG5cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRQcmVsb2FkZXIoKSB7XG4gICAgICAgIHZhciAkcHJlbG9hZGVyID0gJCgnI3BhZ2VQcmVsb2FkZXInKSxcbiAgICAgICAgICAgICRzcGlubmVyID0gJHByZWxvYWRlci5maW5kKCcuc3Bpbm5lcicpO1xuXG4gICAgICAgICRzcGlubmVyLmZhZGVPdXQoKTtcbiAgICAgICAgJHByZWxvYWRlci5kZWxheSgzNTApLmZhZGVPdXQoJ3Nsb3cnKTtcbiAgICB9XG5cbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDAyLjA1LjIwMTcuXG4gKi9cblxuKGZ1bmN0aW9uKCAkICkge1xuXG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgRmlsdGVyLmluaXQoKTtcbiAgICB9KTtcblxuXG4gICAgdmFyIEZpbHRlciA9IHt9O1xuXG4gICAgRmlsdGVyLm5vbWluYXRpb25LZXkgPSAnbm9taW5hdGlvbic7XG4gICAgRmlsdGVyLmRhdGFBdHRyID0gJ2RhdGEtZmlsdGVyJztcbiAgICBGaWx0ZXIuYnV0dG9uc05vbWluYXRpb25DbGFzcyA9ICdub21pbmF0aW9uX2ZpbHRlcl9idXR0b24nO1xuICAgIEZpbHRlci5nYWxsZXJ5SXRlbUNsYXNzID0gJ2ZpbHRlcmFibGUnO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBGaWx0ZXIuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuaW5pdEJ1dHRvbigkKCcuJyArIHRoaXMuYnV0dG9uc05vbWluYXRpb25DbGFzcykpO1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBidXR0b25zXG4gICAgICovXG4gICAgRmlsdGVyLmluaXRCdXR0b24gPSBmdW5jdGlvbihidXR0b25zKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBidXR0b25zLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgIGZpbHRlciA9ICQodGhpcykuYXR0cihzZWxmLmRhdGFBdHRyKTtcblxuICAgICAgICAgIGVsZW1lbnRMaXN0ID0gJCgnLicgKyBzZWxmLmdhbGxlcnlJdGVtQ2xhc3MpO1xuICAgICAgICAgIHNlbGYuZmlsdGVyQ29udGVudChmaWx0ZXIsIGVsZW1lbnRMaXN0LCBzZWxmLm5vbWluYXRpb25LZXkpO1xuXG4gICAgICB9KTtcblxuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBleHBcbiAgICAgKiBAcGFyYW0gZWxlbWVudExpc3RcbiAgICAgKiBAcGFyYW0gYXR0clZhbFxuICAgICAqL1xuICAgIEZpbHRlci5maWx0ZXJDb250ZW50ID0gZnVuY3Rpb24oZXhwLCBlbGVtZW50TGlzdCwgYXR0clZhbCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGV4cCA9IGV4cC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGVsZW1lbnRMaXN0LmVhY2goZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgJCh0aGlzKS5zaG93KCk7XG4gICAgICAgICAgICBlbGVtQXR0ciA9ICQodGhpcykuYXR0cignZGF0YS0nICsgYXR0clZhbCk7XG4gICAgICAgICAgICBlbGVtQXR0ciA9IGVsZW1BdHRyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAoZWxlbUF0dHIgIT0gZXhwKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmaWx0ZXIgaXMgZG9uZTogJyArIGV4cCk7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGVsZW1lbnRMaXN0XG4gICAgICovXG4gICAgRmlsdGVyLnJlbW92ZUZpbHRlciA9IGZ1bmN0aW9uKGVsZW1lbnRMaXN0KSB7XG4gICAgICAgIFxuICAgICAgICBlbGVtZW50TGlzdC5lYWNoKGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgXG4gICAgICAgICAgICAkKHRoaXMpLnNob3coKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgfVxuICAgIFxuXG5cblxuXG5cblxufSkoalF1ZXJ5KTtcbiIsIihmdW5jdGlvbiggJCApIHtcblxuICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgdmFyICRib2R5ID0gJCgnYm9keScpO1xuICAgICAgIHZhciAkdG9wTGluayA9ICQoJy50b3BfbGluaycpO1xuXG4gICAgICAgJHRvcExpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAkYm9keS5hbmltYXRlKHtzY3JvbGxUb3A6IDB9LCA4MDApO1xuXG4gICAgICAgfSk7XG5cblxuICAgICAgIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBpbml0VG9wTGluaygpO1xuICAgICAgIH07XG5cblxuICAgICAgIC8qKlxuICAgICAgICAqIFxuICAgICAgICAqL1xuICAgICAgIGZ1bmN0aW9uIGluaXRUb3BMaW5rKCkge1xuICAgICAgICAgICBpZiAoJGJvZHkuc2Nyb2xsVG9wKCkgPiA0MDApIHtcbiAgICAgICAgICAgICAgICR0b3BMaW5rLnNob3coJ2Zhc3QnKTtcbiAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICR0b3BMaW5rLmhpZGUoJ2Zhc3QnKTtcbiAgICAgICAgICAgfVxuICAgICAgIH1cblxuXG4gICB9KTtcblxuXG5cbn0pKGpRdWVyeSk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHJvb3Qgb24gMjkuMDUuMTcuXG4gKi9cbid1c2Ugc3RyaWN0JztcbihmdW5jdGlvbigkKSB7XG5cblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciBzb3J0RmllbGQgPSAkKCcuc29ydF9maWVsZCcpO1xuICAgICAgdmFyIGdhbGxlcnlMaXN0ID0gJCgnLmdhbGxlcnlfbGlzdCcpO1xuICAgICAgc29ydEZpZWxkLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB2YXIgc29ydFR5cGUgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtc29ydCcpO1xuICAgICAgICAgIHZhciB0ZXJtcyA9ICQodGhpcykuYXR0cignZGF0YS10ZXJtcycpO1xuICAgICAgICAgIHZhciByZXNwb25zZURhdGEgPSB7XG4gICAgICAgICAgICAgICdhY3Rpb24nOiAnbXlmaWx0ZXInLFxuICAgICAgICAgICAgICAnc29ydF90eXBlJzogc29ydFR5cGUsXG4gICAgICAgICAgICAgICd0ZXJtcyc6IHRlcm1zXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zb2xlLmxvZyh3aW5kb3cud3BfZGF0YS5hamF4X3VybCk7XG4gICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgdXJsOiB3aW5kb3cud3BfZGF0YS5hamF4X3VybCxcbiAgICAgICAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICh4aHIpIHtcbiAgICAgICAgICAgICAgICAgIGdhbGxlcnlMaXN0LmZpbmQoJy5zb3J0X3ByZWxvYWRlcicpLnNob3coKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgIGdhbGxlcnlMaXN0LmZpbmQoJy5zb3J0X3ByZWxvYWRlcicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgIGdhbGxlcnlMaXN0Lmh0bWwoZGF0YSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuXG4gICAgICB9KTtcblxuICB9KVxuXG5cbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDMwLjAzLjIwMTcuXG4gKi9cblxuKGZ1bmN0aW9uKCAkICkge1xuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKCk7XG4gICAgfSk7XG5cbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDE2LjA1LjIwMTcuXG4gKi9cbihmdW5jdGlvbiggJCApIHtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciAkZm9ybSA9ICQoJyN1cGRhdGVVc2VySW5mbycpO1xuXG4gICAgICAgICRmb3JtLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdmFyIHVzZXJJZCA9ICQoJyN1c2VySWQnKS52YWwoKTtcbiAgICAgICAgICAgIHZhciB1c2VyVXJsID0gJCgnI3VzZXJVcmwnKS52YWwoKTtcbiAgICAgICAgICAgIHZhciB1c2VyTmFtZSA9ICQoJyN1c2VyTmFtZScpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGZvcm1BY3Rpb24gPSAkKCcjZm9ybUFjdGlvbicpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRMYW5nID0gJCgnI2N1cnJlbnRMYW5nJykudmFsKCk7XG5cbiAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZvcm1BY3Rpb24sXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgICAgIHVzZXJfdXJsOiB1c2VyVXJsLFxuICAgICAgICAgICAgICAgIHVzZXJfbmFtZTogdXNlck5hbWUsXG4gICAgICAgICAgICAgICAgY3VycmVudF9sYW5nOiBjdXJyZW50TGFuZ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJC5wb3N0KGFqYXhfdmFyLCBmb3JtRGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHVzZXJNZXNzYWdlID0gJCgnI3VzZXJNZXNzYWdlcycpO1xuXG4gICAgICAgICAgICAgICAgJHVzZXJNZXNzYWdlLnRleHQocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICR1c2VyTWVzc2FnZS5zbGlkZVRvZ2dsZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG5cblxuXG5cblxuXG5cblxuICAgIH0pO1xuXG5cblxuXG5cblxuXG59KShqUXVlcnkpOyJdfQ==
