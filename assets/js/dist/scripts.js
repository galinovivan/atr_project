!function(t){t(document).ready(function(){t("#centerSlider").slick({centerPadding:"0px",centerMode:!0,slidesToShow:5,prevArrow:'<div class="arrow left"><i class="social_arrow social_arrow-arrow_left"></i></div>',nextArrow:'<div class="arrow right"><i class="social_arrow social_arrow-arrow_right"></i></div>'})})}(jQuery),function(t){t(document).ready(function(){t("#contactForm").submit(function(e){e.preventDefault();var n=t(this).serialize(),i=n.action;t.ajax({type:"POST",url:window.wp_data.ajax_url+"?"+i,data:n,success:function(){t("#contactModal").modal("show")}})})})}(jQuery),function(t){t(document).ready(function(){var e=t("#wpuf-user_login"),n=t("#wpuf-user_pass"),i=t("#pass2");e.attr("placeholder","Email"),n.attr("placeholder","Пароль"),i.attr("placeholder","Повторите пароль");t("#wpuf-___________________pdf-pickfiles").text("Загрузить работу в pdf");t("#wpuf-featured_image-pickfiles").text("Загрузить превью в jpg")});var e=t(".wpuf_category_select_353_352 select");e=e.children(":first"),e.text("Категория")}(jQuery),function(t){t(document).ready(function(){new e(t("#dateLineContainer")).init()});var e=function(e){this.container=e,this.line=e.find(".date_line"),this.dateStart=Date.parse(e.attr("data-datestart")),this.dateEnd=Date.parse(e.attr("data-dateend")),this.currentDate=Date.now(),this.mobileParentHeight=276,this.mobileLine=t(".date_line_mobile"),this.mobileWidth="767"};e.prototype.init=function(){return this.isMobile()?(this.setMobileHeight(),!0):(this.setWidth(),!0)},e.prototype.getDateDelta=function(){var t=this.dateStart,e=this.dateEnd,n=this.currentDate,i=e-t,o=n-t,a=100*o/i;return console.log(a),a},e.prototype.isMobile=function(){return t(window).width()<this.mobileWidth},e.prototype.setWidth=function(){var t=this.calculateWidth();this.line.css("width",t)},e.prototype.calculateWidth=function(){return this.getDateDelta()+"%"},e.prototype.setMobileHeight=function(){var t=this.calculateMobileHeight();console.log(t),this.mobileLine.css("height",t)},e.prototype.calculateMobileHeight=function(){var t=this.getDateDelta(),e=this.mobileParentHeight;return Math.floor(e*(t/100))+"px"}}(jQuery),function(t){t(document).ready(function(){var e=t(".helper"),n=e.find(".helper_close");t("#helperToggle").on("click",function(t){e.slideToggle("fast"),t.preventDefault()}),n.on("click",function(t){e.slideToggle("fast"),t.preventDefault()})})}(jQuery),function(t){t(document).ready(function(){function e(e){var i=e.attr("href"),o=t(i),a=n(o);t("body").animate({scrollTop:a},800),t("#mainNav").slideToggle()}function n(t){var e=t.offset().top-325;return console.log(e),e}!function(){var n=t(".scroll_link");n.on("click",function(t){t.preventDefault(),e(n)})}()})}(jQuery),function(t){function e(t,e){return"error"==e?'<div class="alert alert-error"><p class="black">'+t+"</p></div>":'<div class="alert alert-success"><p class="black">'+t+"</p></div>"}var n=!1;t(document).ready(function(){function i(t,e,i){if(n)return e.find("response").html("<p>Необходимо дождаться ответа предыдущего запроса</p>"),!1;e.find('input[type="submit"]').attr("disabled","disabled").val("Подождите"),e.find(".response").html(""),n=!0}function o(i,o,a,r){if(console.log(arguments),i.success){var s=t("#stepSuccess");if(null!=(s=t(s.val())))t("#registrationModal").modal("hide"),s.modal("show");else{var l=e(i.data.message,"success");r.find('input[type="submit"]').prop("disabled",!1).val("Готово")}}else{var l=e(i.data.message,"error");r.find('input[type="submit"]').prop("disabled",!1).val("Отправить")}r.find(".response").html(l),i.data.redirect&&(window.location.href=i.data.redirect),n=!1}var a=t(".userform"),r={dataType:"json",beforeSubmit:i,success:o,error:function(t){console.log(arguments)},url:ajax_var.url};a.ajaxForm(r),t(".logout").click(function(e){if(e.preventDefault(),n)return!1;var i=t(this);t.ajax({type:"POST",url:"admin-ajax.php",dataType:"json",data:"action=logout_me&nonce="+t(this).data("nonce"),beforeSend:function(t){i.text("Подождите"),n=!0},success:function(t){t.success?(i.text("Выходим"),window.location.reload(!0)):alert(t.data.message)},error:function(t,e,n){console.log(arguments)},complete:function(t){n=!1}})})})}(jQuery),function(t){t(document).ready(function(){var e={successSendProject:t("#successSendProject")};t(".wpuf-form-add").submit(function(t){e.successSendProject.modal("show")})})}(jQuery),function(t){function e(t,e){e.on("click",function(){t.slideToggle()}),t.find(".nav_close").on("click",function(e){t.slideToggle(),e.preventDefault()})}t(document).ready(function(){e(t("#mainNav"),t("#navToggle"))})}(jQuery),function(t){function e(){var e=t("#pagePreloader");e.find(".spinner").fadeOut(),e.delay(350).fadeOut("slow")}t(window).on("load",function(){e()})}(jQuery),function(t){t(document).ready(function(){e.init()});var e={};e.nominationKey="nomination",e.dataAttr="data-filter",e.buttonsNominationClass="nomination_filter_button",e.galleryItemClass="filterable",e.init=function(){this.initButton(t("."+this.buttonsNominationClass))},e.initButton=function(e){var n=this;e.click(function(e){e.preventDefault(),filter=t(this).attr(n.dataAttr),elementList=t("."+n.galleryItemClass),n.filterContent(filter,elementList,n.nominationKey)})},e.filterContent=function(e,n,i){e=e.toLowerCase(),n.each(function(n,o){t(this).show(),elemAttr=t(this).attr("data-"+i),elemAttr=elemAttr.toLowerCase(),elemAttr!=e&&t(this).hide()}),console.log("filter is done: "+e)},e.removeFilter=function(e){e.each(function(e,n){t(this).show()})}}(jQuery),function(t){t(document).ready(function(){function e(){n.scrollTop()>400?i.show("fast"):i.hide("fast")}var n=t("body"),i=t(".top_link");i.on("click",function(t){t.preventDefault(),n.animate({scrollTop:0},800)}),window.onscroll=function(){e()}})}(jQuery),function(t){t(document).ready(function(){t('[data-toggle="tooltip"]').tooltip()})}(jQuery),function(t){t(document).ready(function(){t("#updateUserInfo").submit(function(e){e.preventDefault();var n=t("#userId").val(),i=t("#userUrl").val(),o=t("#formAction").val(),a={action:o,user_id:n,user_url:i};t.post(ajax_var,a,function(e){var n=t("#userMessages");n.text(e),n.slideToggle()})})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcm91c2VsLmpzIiwiY29udGFjdC1mb3JtLmpzIiwiY3VzdG9tX2Zvcm0uanMiLCJkYXRlX2xpbmVfY2FsY3VsYXRlLmpzIiwiaGVscGVyLmpzIiwibGluay1zY3JvbGwuanMiLCJsb2dpbi5qcyIsIm1vZGFscy5qcyIsIm5hdi5qcyIsInByZWxvYWRlci5qcyIsInByb2plY3RfZmlsdGVyLmpzIiwic2Nyb2xsLmpzIiwidG9vbHRpcC5qcyIsInVwZGF0ZV91c2VyLmpzIl0sIm5hbWVzIjpbIiQiLCJkb2N1bWVudCIsInJlYWR5Iiwic2xpY2siLCJjZW50ZXJQYWRkaW5nIiwiY2VudGVyTW9kZSIsInNsaWRlc1RvU2hvdyIsInByZXZBcnJvdyIsIm5leHRBcnJvdyIsImpRdWVyeSIsInN1Ym1pdCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJmb3JtRGF0YSIsInRoaXMiLCJzZXJpYWxpemUiLCJhY3Rpb24iLCJhamF4IiwidHlwZSIsInVybCIsIndpbmRvdyIsIndwX2RhdGEiLCJhamF4X3VybCIsImRhdGEiLCJzdWNjZXNzIiwibW9kYWwiLCIkbG9naW5GaWVsZCIsIiRwYXNzd29yZEZpZWxkIiwiJHJlcGVhdFBhc3N3b3JkRmllbGQiLCJhdHRyIiwidGV4dCIsIiRjYXRlZ29yeUxpc3QiLCJjaGlsZHJlbiIsIkRhdGVMaW5lIiwiaW5pdCIsIiRlbGVtZW50Q29udGFpbmVyIiwiY29udGFpbmVyIiwibGluZSIsImZpbmQiLCJkYXRlU3RhcnQiLCJEYXRlIiwicGFyc2UiLCJkYXRlRW5kIiwiY3VycmVudERhdGUiLCJub3ciLCJtb2JpbGVQYXJlbnRIZWlnaHQiLCJtb2JpbGVMaW5lIiwibW9iaWxlV2lkdGgiLCJwcm90b3R5cGUiLCJpc01vYmlsZSIsInNldE1vYmlsZUhlaWdodCIsInNldFdpZHRoIiwiZ2V0RGF0ZURlbHRhIiwic3RhcnQiLCJlbmQiLCJjdXJyZW50Iiwic3RhcnREZWx0YSIsImN1cnJlbnREZWx0YSIsImRlbHRhIiwiY29uc29sZSIsImxvZyIsIndpZHRoIiwiY2FsY3VsYXRlV2lkdGgiLCJjc3MiLCJoZWlnaHQiLCJjYWxjdWxhdGVNb2JpbGVIZWlnaHQiLCJwYXJlbnRIZWlnaHQiLCJNYXRoIiwiZmxvb3IiLCIkaGVscGVyIiwiJGNsb3NlVG9nZ2xlIiwib24iLCJzbGlkZVRvZ2dsZSIsIm1ha2VTY3JvbGxMaW5rIiwiJGxpbmsiLCJocmVmIiwiJGVsVGFyZ2V0Iiwic2Nyb2xsIiwiZ2V0U2Nyb2xsIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIiRlbCIsIiRzY3JvbGwiLCJvZmZzZXQiLCJ0b3AiLCIkc2Nyb2xsTGluayIsImJ1aWxkTWVzc2FnZSIsIm1lc3NhZ2UiLCJhamF4R28iLCJyZXFHbyIsImZvcm0iLCJvcHRpb25zIiwiaHRtbCIsInZhbCIsInJlcUNvbWUiLCJzdGF0dXNUZXh0IiwieGhyIiwiYXJndW1lbnRzIiwibmV4dFN0ZXBNb2RhbCIsInJlc3BvbnNlIiwicHJvcCIsInJlZGlyZWN0IiwibG9jYXRpb24iLCJ1c2VyRm9ybSIsImFyZ3MiLCJkYXRhVHlwZSIsImJlZm9yZVN1Ym1pdCIsImVycm9yIiwiYWpheF92YXIiLCJhamF4Rm9ybSIsImNsaWNrIiwibGluayIsImJlZm9yZVNlbmQiLCJyZWxvYWQiLCJhbGVydCIsImFqYXhPcHRpb25zIiwidGhyb3duRXJyb3IiLCJjb21wbGV0ZSIsIk1vZGFscyIsInN1Y2Nlc3NTZW5kUHJvamVjdCIsImluaXROYXYiLCIkbmF2IiwiJHRvZ2dsZUJ0biIsImluaXRQcmVsb2FkZXIiLCIkcHJlbG9hZGVyIiwiZmFkZU91dCIsImRlbGF5IiwiRmlsdGVyIiwibm9taW5hdGlvbktleSIsImRhdGFBdHRyIiwiYnV0dG9uc05vbWluYXRpb25DbGFzcyIsImdhbGxlcnlJdGVtQ2xhc3MiLCJpbml0QnV0dG9uIiwiYnV0dG9ucyIsInNlbGYiLCJmaWx0ZXIiLCJlbGVtZW50TGlzdCIsImZpbHRlckNvbnRlbnQiLCJleHAiLCJhdHRyVmFsIiwidG9Mb3dlckNhc2UiLCJlYWNoIiwia2V5IiwidmFsdWUiLCJzaG93IiwiZWxlbUF0dHIiLCJoaWRlIiwicmVtb3ZlRmlsdGVyIiwiaW5pdFRvcExpbmsiLCIkYm9keSIsIiR0b3BMaW5rIiwib25zY3JvbGwiLCJ0b29sdGlwIiwidXNlcklkIiwidXNlclVybCIsImZvcm1BY3Rpb24iLCJ1c2VyX2lkIiwidXNlcl91cmwiLCJwb3N0IiwiJHVzZXJNZXNzYWdlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxHQUVBQSxFQUFBQyxVQUFBQyxNQUFBLFdBQ0FGLEVBQUEsaUJBRUFHLE9BQ0FDLGNBQUEsTUFDQUMsWUFBQSxFQUNBQyxhQUFBLEVBQ0FDLFVBQUEscUZBQ0FDLFVBQUEsNEZBSUFDLFFDWEEsU0FBQVQsR0FFQUEsRUFBQUMsVUFBQUMsTUFBQSxXQUVBRixFQUFBLGdCQUFBVSxPQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLGdCQUNBLElBQUFDLEdBQUFiLEVBQUFjLE1BQUFDLFlBQ0FDLEVBQUFILEVBQUEsTUFFQWIsR0FBQWlCLE1BQ0FDLEtBQUEsT0FDQUMsSUFBQUMsT0FBQUMsUUFBQUMsU0FBQSxJQUFBTixFQUNBTyxLQUFBVixFQUNBVyxRQUFBLFdBQ0F4QixFQUFBLGlCQUNBeUIsTUFBQSxnQkFRQWhCLFFDdkJBLFNBQUFULEdBRUFBLEVBQUFDLFVBQUFDLE1BQUEsV0FFQSxHQUlBd0IsR0FBQTFCLEVBQUEsb0JBQ0EyQixFQUFBM0IsRUFBQSxtQkFDQTRCLEVBQUE1QixFQUFBLFNBR0EwQixHQUFBRyxLQUFBLGNBVEEsU0FVQUYsRUFBQUUsS0FBQSxjQVRBLFVBVUFELEVBQUFDLEtBQUEsY0FUQSxtQkFzQkE3QixHQUFBLDBDQUdBOEIsS0FGQSx5QkFJQTlCLEdBQUEsa0NBR0E4QixLQUZBLDJCQUtBLElBQUFDLEdBQUEvQixFQUFBLHVDQUdBK0IsR0FBQUEsRUFBQUMsU0FBQSxVQUNBRCxFQUFBRCxLQUhBLGNBT0FyQixRQy9DQSxTQUFBVCxHQUVBQSxFQUFBQyxVQUFBQyxNQUFBLFdBR0EsR0FBQStCLEdBQUFqQyxFQUFBLHVC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SCxFQUNBSSxTQUFBSCxFQUdBMUosR0FBQThKLEtBQUFsRCxTQUFBL0YsRUFBQSxTQUFBc0YsR0FDQSxHQUFBNEQsR0FBQS9KLEVBQUEsZ0JBRUErSixHQUFBakksS0FBQXFFLEdBQ0E0RCxFQUFBdkYscUJBbUJBL0QiLCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiggJCApIHtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgICAgIHZhciBzbGlkZXIgPSAkKCcjY2VudGVyU2xpZGVyJyk7XHJcblxyXG4gICAgICAgIHNsaWRlci5zbGljayh7XHJcbiAgICAgICAgICAgY2VudGVyUGFkZGluZzogJzBweCcsXHJcbiAgICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogNSxcclxuICAgICAgICAgICAgcHJldkFycm93OiAnPGRpdiBjbGFzcz1cImFycm93IGxlZnRcIj48aSBjbGFzcz1cInNvY2lhbF9hcnJvdyBzb2NpYWxfYXJyb3ctYXJyb3dfbGVmdFwiPjwvaT48L2Rpdj4nLFxyXG4gICAgICAgICAgICBuZXh0QXJyb3c6ICc8ZGl2IGNsYXNzPVwiYXJyb3cgcmlnaHRcIj48aSBjbGFzcz1cInNvY2lhbF9hcnJvdyBzb2NpYWxfYXJyb3ctYXJyb3dfcmlnaHRcIj48L2k+PC9kaXY+JyxcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxufSkoalF1ZXJ5KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMDcuMDQuMjAxNy5cclxuICovXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgJCgnI2NvbnRhY3RGb3JtJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gJCh0aGlzKS5zZXJpYWxpemUoKTtcclxuICAgICAgICAgICB2YXIgYWN0aW9uID0gZm9ybURhdGFbJ2FjdGlvbiddO1xyXG5cclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiB3aW5kb3cud3BfZGF0YS5hamF4X3VybCArICc/JyArIGFjdGlvbixcclxuICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRjb250YWN0TW9kYWwgPSAkKCcjY29udGFjdE1vZGFsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGNvbnRhY3RNb2RhbC5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcbn0pKGpRdWVyeSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAwNS4wNC4yMDE3LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgbG9naW5MYWJlbCA9ICdFbWFpbCcsXHJcbiAgICAgICAgICAgIHBhc3NMYWJlbCA9ICfQn9Cw0YDQvtC70YwnLFxyXG4gICAgICAgICAgICByZXBlYXRQYXNzTGFiZWwgPSAn0J/QvtCy0YLQvtGA0LjRgtC1INC/0LDRgNC+0LvRjCc7XHJcblxyXG4gICAgICAgdmFyICRsb2dpbkZpZWxkID0gJCgnI3dwdWYtdXNlcl9sb2dpbicpLFxyXG4gICAgICAgICAgICRwYXNzd29yZEZpZWxkID0gJCgnI3dwdWYtdXNlcl9wYXNzJyksXHJcbiAgICAgICAgICAgJHJlcGVhdFBhc3N3b3JkRmllbGQgPSAkKCcjcGFzczInKTtcclxuXHJcblxyXG4gICAgICAgICRsb2dpbkZpZWxkLmF0dHIoJ3BsYWNlaG9sZGVyJywgbG9naW5MYWJlbCk7XHJcbiAgICAgICAgJHBhc3N3b3JkRmllbGQuYXR0cigncGxhY2Vob2xkZXInLCBwYXNzTGFiZWwpO1xyXG4gICAgICAgICRyZXBlYXRQYXNzd29yZEZpZWxkLmF0dHIoJ3BsYWNlaG9sZGVyJywgcmVwZWF0UGFzc0xhYmVsKTtcclxuXHJcbiAgICAgICAgLy8gdmFyICRyZWdGb3JtID0gJCgnLnJlZ19mb3JtJykuZmluZCgnZm9ybScpLFxyXG4gICAgICAgIC8vICAgICAkaW5mb01vZGFsID0gJCgnI2luZm9SZWdpc3RyYXRpb24nKSxcclxuICAgICAgICAvLyAgICAgJHJlZ2lzdHJhdGlvbk1vZGFsID0gJCgnI3JlZ2lzdHJhdGlvbk1vZGFsJyk7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyAkcmVnRm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgICRyZWdpc3RyYXRpb25Nb2RhbC5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIC8vICAgICAkaW5mb01vZGFsLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgdmFyICRwZGZGaWVsZCA9ICQoJyN3cHVmLV9fX19fX19fX19fX19fX19fX19wZGYtcGlja2ZpbGVzJyksXHJcbiAgICAgICAgICAgIHBkZkZpZWxkTGFiZWwgPSAn0JfQsNCz0YDRg9C30LjRgtGMINGA0LDQsdC+0YLRgyDQsiBwZGYnO1xyXG5cclxuICAgICAgICAkcGRmRmllbGQudGV4dChwZGZGaWVsZExhYmVsKTtcclxuXHJcbiAgICAgICAgdmFyICR0aHVtYkZpZWxkID0gJCgnI3dwdWYtZmVhdHVyZWRfaW1hZ2UtcGlja2ZpbGVzJyksXHJcbiAgICAgICAgICAgIHRodW1iRmllbGRMYWJlbCA9ICfQl9Cw0LPRgNGD0LfQuNGC0Ywg0L/RgNC10LLRjNGOINCyIGpwZyc7XHJcblxyXG4gICAgICAgICR0aHVtYkZpZWxkLnRleHQodGh1bWJGaWVsZExhYmVsKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciAkY2F0ZWdvcnlMaXN0ID0gJCgnLndwdWZfY2F0ZWdvcnlfc2VsZWN0XzM1M18zNTIgc2VsZWN0JyksXHJcbiAgICAgICAgY2F0ZWdvcnlMYWJlbCA9ICfQmtCw0YLQtdCz0L7RgNC40Y8nO1xyXG5cclxuICAgICRjYXRlZ29yeUxpc3QgPSAkY2F0ZWdvcnlMaXN0LmNoaWxkcmVuKCc6Zmlyc3QnKTtcclxuICAgICRjYXRlZ29yeUxpc3QudGV4dChjYXRlZ29yeUxhYmVsKTtcclxuXHJcblxyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDEyLjA1LjIwMTcuXHJcbiAqL1xyXG4oZnVuY3Rpb24oJCkge1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcblxyXG5cclxuICAgICAgICB2YXIgZGF0ZUxpbmUgPSBuZXcgRGF0ZUxpbmUoJCgnI2RhdGVMaW5lQ29udGFpbmVyJykpO1xyXG4gICAgICAgIGRhdGVMaW5lLmluaXQoKTtcclxuXHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtqcXVlcnl9ICRlbGVtZW50Q29udGFpbmVyXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gIHZhciBEYXRlTGluZSA9IGZ1bmN0aW9uKCRlbGVtZW50Q29udGFpbmVyKSB7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyID0gJGVsZW1lbnRDb250YWluZXI7XHJcbiAgICAgIHRoaXMubGluZSA9ICRlbGVtZW50Q29udGFpbmVyLmZpbmQoJy5kYXRlX2xpbmUnKTtcclxuICAgICAgdGhpcy5kYXRlU3RhcnQgPSAgRGF0ZS5wYXJzZSgkZWxlbWVudENvbnRhaW5lci5hdHRyKCdkYXRhLWRhdGVzdGFydCcpKTtcclxuICAgICAgdGhpcy5kYXRlRW5kID0gRGF0ZS5wYXJzZSgkZWxlbWVudENvbnRhaW5lci5hdHRyKCdkYXRhLWRhdGVlbmQnKSk7XHJcbiAgICAgIHRoaXMuY3VycmVudERhdGUgPSBEYXRlLm5vdygpO1xyXG4gICAgICB0aGlzLm1vYmlsZVBhcmVudEhlaWdodCA9IDI3NjtcclxuICAgICAgdGhpcy5tb2JpbGVMaW5lID0gJCgnLmRhdGVfbGluZV9tb2JpbGUnKTtcclxuICAgICAgdGhpcy5tb2JpbGVXaWR0aCA9ICc3NjcnO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBEYXRlTGluZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc01vYmlsZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0V2lkdGgoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0TW9iaWxlSGVpZ2h0KCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgRGF0ZUxpbmUucHJvdG90eXBlLmdldERhdGVEZWx0YSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuZGF0ZVN0YXJ0O1xyXG4gICAgICAgIHZhciBlbmQgPSB0aGlzLmRhdGVFbmQ7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmN1cnJlbnREYXRlO1xyXG5cclxuICAgICAgICB2YXIgc3RhcnREZWx0YSA9IGVuZCAtIHN0YXJ0O1xyXG4gICAgICAgIHZhciBjdXJyZW50RGVsdGEgPSBjdXJyZW50IC0gc3RhcnQ7XHJcbiAgICAgICAgdmFyIGRlbHRhID0gKGN1cnJlbnREZWx0YSAqIDEwMCkgLyBzdGFydERlbHRhO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhkZWx0YSk7XHJcblxyXG4gICAgICAgIHJldHVybiBkZWx0YTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIERhdGVMaW5lLnByb3RvdHlwZS5pc01vYmlsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAkKHdpbmRvdykud2lkdGgoKSA8IHRoaXMubW9iaWxlV2lkdGg7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgRGF0ZUxpbmUucHJvdG90eXBlLnNldFdpZHRoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICB2YXIgd2lkdGggPSB0aGlzLmNhbGN1bGF0ZVdpZHRoKCk7XHJcblxyXG4gICAgICAgIHRoaXMubGluZS5jc3MoJ3dpZHRoJywgd2lkdGgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBEYXRlTGluZS5wcm90b3R5cGUuY2FsY3VsYXRlV2lkdGggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZGVsdGEgPSB0aGlzLmdldERhdGVEZWx0YSgpO1xyXG4gICAgICAgcmV0dXJuIGRlbHRhICsgJyUnO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBEYXRlTGluZS5wcm90b3R5cGUuc2V0TW9iaWxlSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuY2FsY3VsYXRlTW9iaWxlSGVpZ2h0KCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLm1vYmlsZUxpbmUuY3NzKCdoZWlnaHQnLCBoZWlnaHQpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgRGF0ZUxpbmUucHJvdG90eXBlLmNhbGN1bGF0ZU1vYmlsZUhlaWdodCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBkZWx0YSA9IHRoaXMuZ2V0RGF0ZURlbHRhKCk7XHJcbiAgICAgICAgdmFyIHBhcmVudEhlaWdodCA9IHRoaXMubW9iaWxlUGFyZW50SGVpZ2h0O1xyXG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLmZsb29yKHBhcmVudEhlaWdodCAqIChkZWx0YSAvIDEwMCkpO1xyXG5cclxuICAgICAgICByZXR1cm4gaGVpZ2h0ICsgJ3B4JztcclxuICAgIH07XHJcblxyXG5cclxuXHJcbn0pKGpRdWVyeSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDI0LjAzLjIwMTcuXHJcbiAqL1xyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgdmFyICRoZWxwZXIgPSAkKCcuaGVscGVyJyk7XHJcbiAgICAgIHZhciAkY2xvc2VUb2dnbGUgPSAkaGVscGVyLmZpbmQoJy5oZWxwZXJfY2xvc2UnKTtcclxuICAgICAgdmFyICRoZWxwZXJUb2dnbGUgPSAkKCcjaGVscGVyVG9nZ2xlJyk7XHJcblxyXG4gICAgICAkaGVscGVyVG9nZ2xlLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICRoZWxwZXIuc2xpZGVUb2dnbGUoJ2Zhc3QnKTtcclxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICAgJGNsb3NlVG9nZ2xlLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgJGhlbHBlci5zbGlkZVRvZ2dsZSgnZmFzdCcpO1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMDcuMDQuMjAxNy5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oICQgKSB7XHJcbiAgICBcclxuICAgIFxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgIGluaXRTY3JvbGxMaW5rKCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdFNjcm9sbExpbmsoKSB7XHJcbiAgICAgICAgICAgIHZhciAkc2Nyb2xsTGluayA9ICQoJy5zY3JvbGxfbGluaycpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJHNjcm9sbExpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBtYWtlU2Nyb2xsTGluaygkc2Nyb2xsTGluayk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7alF1ZXJ5fSAkbGlua1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG1ha2VTY3JvbGxMaW5rKCRsaW5rKSB7XHJcbiAgICAgICAgICAgIHZhciBocmVmID0gJGxpbmsuYXR0cignaHJlZicpO1xyXG4gICAgICAgICAgICB2YXIgJGVsVGFyZ2V0ID0gJChocmVmKTtcclxuICAgICAgICAgICAgdmFyIHNjcm9sbCA9IGdldFNjcm9sbCgkZWxUYXJnZXQpO1xyXG4gICAgICAgICAgICB2YXIgJGJvZHkgPSAkKCdib2R5Jyk7XHJcbiAgICAgICAgICAgICRib2R5LmFuaW1hdGUoe3Njcm9sbFRvcDogc2Nyb2xsfSwgODAwKTtcclxuICAgICAgICAgICAgJCgnI21haW5OYXYnKS5zbGlkZVRvZ2dsZSgpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxcclxuICAgICAgICAgKiBAcmV0dXJucyB7SW50ZWdlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBnZXRTY3JvbGwoJGVsKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIHZhciAkc2Nyb2xsID0gJGVsLm9mZnNldCgpLnRvcCAtIDMyNTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJHNjcm9sbCk7XHJcbiAgICAgICAgICAgIHJldHVybiAkc2Nyb2xsO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbn0pKGpRdWVyeSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAyOC4wMy4yMDE3LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuICAgIHZhciBhamF4R28gPSBmYWxzZTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIHVzZXJGb3JtID0gJCgnLnVzZXJmb3JtJyk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlcUdvKGRhdGEsIGZvcm0sIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgaWYgKGFqYXhHbykge1xyXG4gICAgICAgICAgICAgICAgZm9ybS5maW5kKCdyZXNwb25zZScpLmh0bWwoJzxwPtCd0LXQvtCx0YXQvtC00LjQvNC+INC00L7QttC00LDRgtGM0YHRjyDQvtGC0LLQtdGC0LAg0L/RgNC10LTRi9C00YPRidC10LPQviDQt9Cw0L/RgNC+0YHQsDwvcD4nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpLnZhbCgn0J/QvtC00L7QttC00LjRgtC1Jyk7XHJcbiAgICAgICAgICAgIGZvcm0uZmluZCgnLnJlc3BvbnNlJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgIGFqYXhHbyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlcUNvbWUoZGF0YSwgc3RhdHVzVGV4dCwgeGhyLCBmb3JtKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbmV4dFN0ZXBNb2RhbCA9ICQoJyNzdGVwU3VjY2VzcycpO1xyXG4gICAgICAgICAgICAgICAgbmV4dFN0ZXBNb2RhbCA9ICQobmV4dFN0ZXBNb2RhbC52YWwoKSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChuZXh0U3RlcE1vZGFsICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjcmVnaXN0cmF0aW9uTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRTdGVwTW9kYWwubW9kYWwoJ3Nob3cnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gYnVpbGRNZXNzYWdlKGRhdGEuZGF0YS5tZXNzYWdlLCAnc3VjY2VzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpLnZhbCgn0JPQvtGC0L7QstC+Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBidWlsZE1lc3NhZ2UoZGF0YS5kYXRhLm1lc3NhZ2UsICdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwic3VibWl0XCJdJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSkudmFsKCfQntGC0L/RgNCw0LLQuNGC0YwnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3JtLmZpbmQoJy5yZXNwb25zZScpLmh0bWwocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5kYXRhLnJlZGlyZWN0KSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGRhdGEuZGF0YS5yZWRpcmVjdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhamF4R28gPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBhcmdzID0ge1xyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBiZWZvcmVTdWJtaXQ6IHJlcUdvLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiByZXFDb21lLFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdXJsOiBhamF4X3Zhci51cmxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHVzZXJGb3JtLmFqYXhGb3JtKGFyZ3MpO1xyXG5cclxuICAgICAgICAkKCcubG9nb3V0JykuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChhamF4R28pIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIGxpbmsgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnYWRtaW4tYWpheC5waHAnLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6ICdhY3Rpb249bG9nb3V0X21lJm5vbmNlPScgKyAkKHRoaXMpLmRhdGEoJ25vbmNlJyksXHJcbiAgICAgICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluay50ZXh0KCfQn9C+0LTQvtC20LTQuNGC0LUnKTtcclxuICAgICAgICAgICAgICAgICAgICBhamF4R28gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsudGV4dCgn0JLRi9GF0L7QtNC40LwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIGFqYXhPcHRpb25zLCB0aHJvd25FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBhamF4R28gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gYnVpbGRNZXNzYWdlKG1lc3NhZ2UsIHR5cGUpIHtcclxuICAgICAgICBpZiAodHlwZSA9PSAnZXJyb3InKSB7XHJcblxyXG4gICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZXJyb3JcIj48cCBjbGFzcz1cImJsYWNrXCI+JyArIG1lc3NhZ2UgKyAnPC9wPjwvZGl2Pic7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1zdWNjZXNzXCI+PHAgY2xhc3M9XCJibGFja1wiPicgKyBtZXNzYWdlICsgJzwvcD48L2Rpdj4nO1xyXG4gICAgfVxyXG5cclxuXHJcbn0pKGpRdWVyeSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAyOS4wMy4yMDE3LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCAkICkge1xyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHZhciBNb2RhbHMgPSB7XHJcbiAgICAgICAgICAgICdzdWNjZXNzU2VuZFByb2plY3QnOiAkKCcjc3VjY2Vzc1NlbmRQcm9qZWN0JylcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICB2YXIgJGNyZWF0ZVByb2plY3RGb3JtID0gJCgnLndwdWYtZm9ybS1hZGQnKTtcclxuXHJcbiAgICAgICAgJGNyZWF0ZVByb2plY3RGb3JtLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICBNb2RhbHMuc3VjY2Vzc1NlbmRQcm9qZWN0Lm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMjQuMDMuMjAxNy5cclxuICovXHJcblxyXG5cclxuKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgIGluaXROYXYoJCgnI21haW5OYXYnKSwgJCgnI25hdlRvZ2dsZScpKTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSAkbmF2XHJcbiAgICAgKiBAcGFyYW0gJHRvZ2dsZUJ0blxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBpbml0TmF2KCRuYXYsICR0b2dnbGVCdG4pIHtcclxuXHJcbiAgICAgICR0b2dnbGVCdG4ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgJG5hdi5zbGlkZVRvZ2dsZSgpO1xyXG5cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciAkY2xvc2VCdG4gPSAkbmF2LmZpbmQoJy5uYXZfY2xvc2UnKTtcclxuXHJcbiAgICAgICAkY2xvc2VCdG4ub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgICAgICAgICAgJG5hdi5zbGlkZVRvZ2dsZSgpO1xyXG4gICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtICRuYXZcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2xpZGVOYXYoJG5hdikge1xyXG4gICAgICAgICRuYXYuc2xpZGVUb2dnbGUoKTtcclxuICAgIH1cclxuXHJcbn0pKGpRdWVyeSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAwNC4wNC4yMDE3LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuXHJcbiAgICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBpbml0UHJlbG9hZGVyKCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gaW5pdFByZWxvYWRlcigpIHtcclxuICAgICAgICB2YXIgJHByZWxvYWRlciA9ICQoJyNwYWdlUHJlbG9hZGVyJyksXHJcbiAgICAgICAgICAgICRzcGlubmVyID0gJHByZWxvYWRlci5maW5kKCcuc3Bpbm5lcicpO1xyXG5cclxuICAgICAgICAkc3Bpbm5lci5mYWRlT3V0KCk7XHJcbiAgICAgICAgJHByZWxvYWRlci5kZWxheSgzNTApLmZhZGVPdXQoJ3Nsb3cnKTtcclxuICAgIH1cclxuXHJcbn0pKGpRdWVyeSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAwMi4wNS4yMDE3LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgRmlsdGVyLmluaXQoKTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICB2YXIgRmlsdGVyID0ge307XHJcblxyXG4gICAgRmlsdGVyLm5vbWluYXRpb25LZXkgPSAnbm9taW5hdGlvbic7XHJcbiAgICBGaWx0ZXIuZGF0YUF0dHIgPSAnZGF0YS1maWx0ZXInO1xyXG4gICAgRmlsdGVyLmJ1dHRvbnNOb21pbmF0aW9uQ2xhc3MgPSAnbm9taW5hdGlvbl9maWx0ZXJfYnV0dG9uJztcclxuICAgIEZpbHRlci5nYWxsZXJ5SXRlbUNsYXNzID0gJ2ZpbHRlcmFibGUnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgRmlsdGVyLmluaXQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0QnV0dG9uKCQoJy4nICsgdGhpcy5idXR0b25zTm9taW5hdGlvbkNsYXNzKSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBidXR0b25zXHJcbiAgICAgKi9cclxuICAgIEZpbHRlci5pbml0QnV0dG9uID0gZnVuY3Rpb24oYnV0dG9ucykge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIGJ1dHRvbnMuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgZmlsdGVyID0gJCh0aGlzKS5hdHRyKHNlbGYuZGF0YUF0dHIpO1xyXG5cclxuICAgICAgICAgIGVsZW1lbnRMaXN0ID0gJCgnLicgKyBzZWxmLmdhbGxlcnlJdGVtQ2xhc3MpO1xyXG4gICAgICAgICAgc2VsZi5maWx0ZXJDb250ZW50KGZpbHRlciwgZWxlbWVudExpc3QsIHNlbGYubm9taW5hdGlvbktleSk7XHJcblxyXG4gICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBleHBcclxuICAgICAqIEBwYXJhbSBlbGVtZW50TGlzdFxyXG4gICAgICogQHBhcmFtIGF0dHJWYWxcclxuICAgICAqL1xyXG4gICAgRmlsdGVyLmZpbHRlckNvbnRlbnQgPSBmdW5jdGlvbihleHAsIGVsZW1lbnRMaXN0LCBhdHRyVmFsKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGV4cCA9IGV4cC50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgICBlbGVtZW50TGlzdC5lYWNoKGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5zaG93KCk7XHJcbiAgICAgICAgICAgIGVsZW1BdHRyID0gJCh0aGlzKS5hdHRyKCdkYXRhLScgKyBhdHRyVmFsKTtcclxuICAgICAgICAgICAgZWxlbUF0dHIgPSBlbGVtQXR0ci50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICBpZiAoZWxlbUF0dHIgIT0gZXhwKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZygnZmlsdGVyIGlzIGRvbmU6ICcgKyBleHApO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudExpc3RcclxuICAgICAqL1xyXG4gICAgRmlsdGVyLnJlbW92ZUZpbHRlciA9IGZ1bmN0aW9uKGVsZW1lbnRMaXN0KSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZWxlbWVudExpc3QuZWFjaChmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgICQodGhpcykuc2hvdygpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIFxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIoZnVuY3Rpb24oICQgKSB7XHJcblxyXG4gICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgICAgIHZhciAkYm9keSA9ICQoJ2JvZHknKTtcclxuICAgICAgIHZhciAkdG9wTGluayA9ICQoJy50b3BfbGluaycpO1xyXG5cclxuICAgICAgICR0b3BMaW5rLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgJGJvZHkuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAwfSwgODAwKTtcclxuXHJcbiAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgaW5pdFRvcExpbmsoKTtcclxuICAgICAgIH07XHJcblxyXG5cclxuICAgICAgIC8qKlxyXG4gICAgICAgICogXHJcbiAgICAgICAgKi9cclxuICAgICAgIGZ1bmN0aW9uIGluaXRUb3BMaW5rKCkge1xyXG4gICAgICAgICAgIGlmICgkYm9keS5zY3JvbGxUb3AoKSA+IDQwMCkge1xyXG4gICAgICAgICAgICAgICAkdG9wTGluay5zaG93KCdmYXN0Jyk7XHJcbiAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgJHRvcExpbmsuaGlkZSgnZmFzdCcpO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgIH1cclxuXHJcblxyXG4gICB9KTtcclxuXHJcblxyXG5cclxufSkoalF1ZXJ5KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMzAuMDMuMjAxNy5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCgnW2RhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXScpLnRvb2x0aXAoKTtcclxuICAgIH0pO1xyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDE2LjA1LjIwMTcuXHJcbiAqL1xyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHZhciAkZm9ybSA9ICQoJyN1cGRhdGVVc2VySW5mbycpO1xyXG5cclxuICAgICAgICAkZm9ybS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB1c2VySWQgPSAkKCcjdXNlcklkJykudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciB1c2VyVXJsID0gJCgnI3VzZXJVcmwnKS52YWwoKTtcclxuICAgICAgICAgICAgdmFyIGZvcm1BY3Rpb24gPSAkKCcjZm9ybUFjdGlvbicpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGZvcm1EYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmb3JtQWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxyXG4gICAgICAgICAgICAgICAgdXNlcl91cmw6IHVzZXJVcmxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICQucG9zdChhamF4X3ZhciwgZm9ybURhdGEsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJHVzZXJNZXNzYWdlID0gJCgnI3VzZXJNZXNzYWdlcycpO1xyXG5cclxuICAgICAgICAgICAgICAgICR1c2VyTWVzc2FnZS50ZXh0KHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICR1c2VyTWVzc2FnZS5zbGlkZVRvZ2dsZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbn0pKGpRdWVyeSk7Il19
