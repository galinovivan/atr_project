!function(t){t(document).ready(function(){t("#centerSlider").slick({centerPadding:"0px",centerMode:!0,slidesToShow:5,prevArrow:'<div class="arrow left"><i class="social_arrow social_arrow-arrow_left"></i></div>',nextArrow:'<div class="arrow right"><i class="social_arrow social_arrow-arrow_right"></i></div>'})})}(jQuery),function(t){t(document).ready(function(){t("#contactForm").submit(function(e){e.preventDefault();var n=t(this).serialize(),o=n.action;t.ajax({type:"POST",url:window.wp_data.ajax_url+"?"+o,data:n,success:function(){t("#contactModal").modal("show")}})})})}(jQuery),function(t){t(document).ready(function(){var e=t("#wpuf-user_login"),n=t("#wpuf-user_pass"),o=t("#pass2");e.attr("placeholder","Email"),n.attr("placeholder","Пароль"),o.attr("placeholder","Повторите пароль");t("#wpuf-___________________pdf-pickfiles").text("Загрузить работу в pdf");t("#wpuf-featured_image-pickfiles").text("Загрузить превью в jpg")});var e=t(".wpuf_category_select_353_352 select");e=e.children(":first"),e.text("Категория")}(jQuery),function(t){t(document).ready(function(){new e(t("#dateLineContainer")).init()});var e=function(t){this.container=t,this.line=t.find(".date_line"),this.dateStart=Date.parse(t.attr("data-datestart")),this.dateEnd=Date.parse(t.attr("data-dateend")),this.currentDate=Date.now(),console.log(this)};e.prototype.init=function(){this.setWidth()},e.prototype.getDateDelta=function(){var t=this.dateStart,e=this.dateEnd,n=Date.parse("09.01.2017"),o=(t-e)/(n-e);return console.log(e-n),console.log(o),o},e.prototype.setWidth=function(){var t=this.calculateWidth();this.line.css("width",t)},e.prototype.calculateWidth=function(){return this.getDateDelta()+"%"}}(jQuery),function(t){t(document).ready(function(){var e=t(".helper");e.find(".helper_close").on("click",function(t){e.slideToggle("fast"),t.preventDefault()})})}(jQuery),function(t){t(document).ready(function(){function e(e){var o=e.attr("href"),a=t(o),i=n(a);t("body").animate({scrollTop:i},800),t("#mainNav").slideToggle()}function n(t){var e=t.offset().top-325;return console.log(e),e}!function(){var n=t(".scroll_link");n.on("click",function(t){t.preventDefault(),e(n)})}()})}(jQuery),function(t){function e(t,e){return"error"==e?'<div class="alert alert-error"><p class="black">'+t+"</p></div>":'<div class="alert alert-success"><p class="black">'+t+"</p></div>"}var n=!1;t(document).ready(function(){function o(t,e,o){if(n)return e.find("response").html("<p>Необходимо дождаться ответа предыдущего запроса</p>"),!1;e.find('input[type="submit"]').attr("disabled","disabled").val("Подождите"),e.find(".response").html(""),n=!0}function a(o,a,i,r){if(console.log(arguments),o.success){var c=t("#stepSuccess");if(null!=(c=t(c.val())))t("#registrationModal").modal("hide"),c.modal("show");else{var s=e(o.data.message,"success");r.find('input[type="submit"]').prop("disabled",!1).val("Готово")}}else{var s=e(o.data.message,"error");r.find('input[type="submit"]').prop("disabled",!1).val("Отправить")}r.find(".response").html(s),o.data.redirect&&(window.location.href=o.data.redirect),n=!1}var i=t(".userform"),r={dataType:"json",beforeSubmit:o,success:a,error:function(t){console.log(arguments)},url:ajax_var.url};i.ajaxForm(r),t(".logout").click(function(e){if(e.preventDefault(),n)return!1;var o=t(this);t.ajax({type:"POST",url:"admin-ajax.php",dataType:"json",data:"action=logout_me&nonce="+t(this).data("nonce"),beforeSend:function(t){o.text("Подождите"),n=!0},success:function(t){t.success?(o.text("Выходим"),window.location.reload(!0)):alert(t.data.message)},error:function(t,e,n){console.log(arguments)},complete:function(t){n=!1}})})})}(jQuery),function(t){t(document).ready(function(){var e={successSendProject:t("#successSendProject")};t(".wpuf-form-add").submit(function(t){e.successSendProject.modal("show")})})}(jQuery),function(t){function e(t,e){e.on("click",function(){t.slideToggle()}),t.find(".nav_close").on("click",function(e){t.slideToggle(),e.preventDefault()})}t(document).ready(function(){e(t("#mainNav"),t("#navToggle"))})}(jQuery),function(t){function e(){var e=t("#pagePreloader");e.find(".spinner").fadeOut(),e.delay(350).fadeOut("slow")}t(window).on("load",function(){e()})}(jQuery),function(t){t(document).ready(function(){e.init()});var e={};e.nominationKey="nomination",e.dataAttr="data-filter",e.buttonsNominationClass="nomination_filter_button",e.galleryItemClass="filterable",e.init=function(){this.initButton(t("."+this.buttonsNominationClass))},e.initButton=function(e){var n=this;e.click(function(e){e.preventDefault(),filter=t(this).attr(n.dataAttr),elementList=t("."+n.galleryItemClass),n.filterContent(filter,elementList,n.nominationKey)})},e.filterContent=function(e,n,o){e=e.toLowerCase(),n.each(function(n,a){elemAttr=t(this).attr("data-"+o),elemAttr=elemAttr.toLowerCase(),elemAttr!=e&&t(this).hide()}),console.log("filter is done: "+e)},e.removeFilter=function(e){e.each(function(e,n){t(this).show()})}}(jQuery),function(t){t(document).ready(function(){function e(){n.scrollTop()>400?o.show("fast"):o.hide("fast")}var n=t("body"),o=t(".top_link");o.on("click",function(t){t.preventDefault(),n.animate({scrollTop:0},800)}),window.onscroll=function(){e()}})}(jQuery),function(t){t(document).ready(function(){t('[data-toggle="tooltip"]').tooltip()})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcm91c2VsLmpzIiwiY29udGFjdC1mb3JtLmpzIiwiY3VzdG9tX2Zvcm0uanMiLCJkYXRlX2xpbmVfY2FsY3VsYXRlLmpzIiwiaGVscGVyLmpzIiwibGluay1zY3JvbGwuanMiLCJsb2dpbi5qcyIsIm1vZGFscy5qcyIsIm5hdi5qcyIsInByZWxvYWRlci5qcyIsInByb2plY3RfZmlsdGVyLmpzIiwic2Nyb2xsLmpzIiwidG9vbHRpcC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInNsaWNrIiwiY2VudGVyUGFkZGluZyIsImNlbnRlck1vZGUiLCJzbGlkZXNUb1Nob3ciLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJqUXVlcnkiLCJzdWJtaXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9ybURhdGEiLCJ0aGlzIiwic2VyaWFsaXplIiwiYWN0aW9uIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJ3aW5kb3ciLCJ3cF9kYXRhIiwiYWpheF91cmwiLCJkYXRhIiwic3VjY2VzcyIsIm1vZGFsIiwiJGxvZ2luRmllbGQiLCIkcGFzc3dvcmRGaWVsZCIsIiRyZXBlYXRQYXNzd29yZEZpZWxkIiwiYXR0ciIsInRleHQiLCIkY2F0ZWdvcnlMaXN0IiwiY2hpbGRyZW4iLCJEYXRlTGluZSIsImluaXQiLCIkZWxlbWVudENvbnRhaW5lciIsImNvbnRhaW5lciIsImxpbmUiLCJmaW5kIiwiZGF0ZVN0YXJ0IiwiRGF0ZSIsInBhcnNlIiwiZGF0ZUVuZCIsImN1cnJlbnREYXRlIiwibm93IiwiY29uc29sZSIsImxvZyIsInByb3RvdHlwZSIsInNldFdpZHRoIiwiZ2V0RGF0ZURlbHRhIiwic3RhcnQiLCJlbmQiLCJjdXJyZW50IiwiZGVsdGEiLCJ3aWR0aCIsImNhbGN1bGF0ZVdpZHRoIiwiY3NzIiwiJGhlbHBlciIsIm9uIiwic2xpZGVUb2dnbGUiLCJtYWtlU2Nyb2xsTGluayIsIiRsaW5rIiwiaHJlZiIsIiRlbFRhcmdldCIsInNjcm9sbCIsImdldFNjcm9sbCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCIkZWwiLCIkc2Nyb2xsIiwib2Zmc2V0IiwidG9wIiwiJHNjcm9sbExpbmsiLCJidWlsZE1lc3NhZ2UiLCJtZXNzYWdlIiwiYWpheEdvIiwicmVxR28iLCJmb3JtIiwib3B0aW9ucyIsImh0bWwiLCJ2YWwiLCJyZXFDb21lIiwic3RhdHVzVGV4dCIsInhociIsImFyZ3VtZW50cyIsIm5leHRTdGVwTW9kYWwiLCJyZXNwb25zZSIsInByb3AiLCJyZWRpcmVjdCIsImxvY2F0aW9uIiwidXNlckZvcm0iLCJhcmdzIiwiZGF0YVR5cGUiLCJiZWZvcmVTdWJtaXQiLCJlcnJvciIsImFqYXhfdmFyIiwiYWpheEZvcm0iLCJjbGljayIsImxpbmsiLCJiZWZvcmVTZW5kIiwicmVsb2FkIiwiYWxlcnQiLCJhamF4T3B0aW9ucyIsInRocm93bkVycm9yIiwiY29tcGxldGUiLCJNb2RhbHMiLCJzdWNjZXNzU2VuZFByb2plY3QiLCJpbml0TmF2IiwiJG5hdiIsIiR0b2dnbGVCdG4iLCJpbml0UHJlbG9hZGVyIiwiJHByZWxvYWRlciIsImZhZGVPdXQiLCJkZWxheSIsIkZpbHRlciIsIm5vbWluYXRpb25LZXkiLCJkYXRhQXR0ciIsImJ1dHRvbnNOb21pbmF0aW9uQ2xhc3MiLCJnYWxsZXJ5SXRlbUNsYXNzIiwiaW5pdEJ1dHRvbiIsImJ1dHRvbnMiLCJzZWxmIiwiZmlsdGVyIiwiZWxlbWVudExpc3QiLCJmaWx0ZXJDb250ZW50IiwiZXhwIiwiYXR0clZhbCIsInRvTG93ZXJDYXNlIiwiZWFjaCIsImtleSIsInZhbHVlIiwiZWxlbUF0dHIiLCJoaWRlIiwicmVtb3ZlRmlsdGVyIiwic2hvdyIsImluaXRUb3BMaW5rIiwiJGJvZHkiLCIkdG9wTGluayIsIm9uc2Nyb2xsIiwidG9vbHRpcCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsR0FFQUEsRUFBQUMsVUFBQUMsTUFBQSxXQUNBRixFQUFBLGlCQUVBRyxPQUNBQyxjQUFBLE1BQ0FDLFlBQUEsRUFDQUMs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ZW50IjpbIihmdW5jdGlvbiggJCApIHtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgICAgIHZhciBzbGlkZXIgPSAkKCcjY2VudGVyU2xpZGVyJyk7XHJcblxyXG4gICAgICAgIHNsaWRlci5zbGljayh7XHJcbiAgICAgICAgICAgY2VudGVyUGFkZGluZzogJzBweCcsXHJcbiAgICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogNSxcclxuICAgICAgICAgICAgcHJldkFycm93OiAnPGRpdiBjbGFzcz1cImFycm93IGxlZnRcIj48aSBjbGFzcz1cInNvY2lhbF9hcnJvdyBzb2NpYWxfYXJyb3ctYXJyb3dfbGVmdFwiPjwvaT48L2Rpdj4nLFxyXG4gICAgICAgICAgICBuZXh0QXJyb3c6ICc8ZGl2IGNsYXNzPVwiYXJyb3cgcmlnaHRcIj48aSBjbGFzcz1cInNvY2lhbF9hcnJvdyBzb2NpYWxfYXJyb3ctYXJyb3dfcmlnaHRcIj48L2k+PC9kaXY+JyxcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxufSkoalF1ZXJ5KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMDcuMDQuMjAxNy5cclxuICovXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgJCgnI2NvbnRhY3RGb3JtJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gJCh0aGlzKS5zZXJpYWxpemUoKTtcclxuICAgICAgICAgICB2YXIgYWN0aW9uID0gZm9ybURhdGFbJ2FjdGlvbiddO1xyXG5cclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiB3aW5kb3cud3BfZGF0YS5hamF4X3VybCArICc/JyArIGFjdGlvbixcclxuICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRjb250YWN0TW9kYWwgPSAkKCcjY29udGFjdE1vZGFsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGNvbnRhY3RNb2RhbC5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcbn0pKGpRdWVyeSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAwNS4wNC4yMDE3LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgbG9naW5MYWJlbCA9ICdFbWFpbCcsXHJcbiAgICAgICAgICAgIHBhc3NMYWJlbCA9ICfQn9Cw0YDQvtC70YwnLFxyXG4gICAgICAgICAgICByZXBlYXRQYXNzTGFiZWwgPSAn0J/QvtCy0YLQvtGA0LjRgtC1INC/0LDRgNC+0LvRjCc7XHJcblxyXG4gICAgICAgdmFyICRsb2dpbkZpZWxkID0gJCgnI3dwdWYtdXNlcl9sb2dpbicpLFxyXG4gICAgICAgICAgICRwYXNzd29yZEZpZWxkID0gJCgnI3dwdWYtdXNlcl9wYXNzJyksXHJcbiAgICAgICAgICAgJHJlcGVhdFBhc3N3b3JkRmllbGQgPSAkKCcjcGFzczInKTtcclxuXHJcblxyXG4gICAgICAgICRsb2dpbkZpZWxkLmF0dHIoJ3BsYWNlaG9sZGVyJywgbG9naW5MYWJlbCk7XHJcbiAgICAgICAgJHBhc3N3b3JkRmllbGQuYXR0cigncGxhY2Vob2xkZXInLCBwYXNzTGFiZWwpO1xyXG4gICAgICAgICRyZXBlYXRQYXNzd29yZEZpZWxkLmF0dHIoJ3BsYWNlaG9sZGVyJywgcmVwZWF0UGFzc0xhYmVsKTtcclxuXHJcbiAgICAgICAgLy8gdmFyICRyZWdGb3JtID0gJCgnLnJlZ19mb3JtJykuZmluZCgnZm9ybScpLFxyXG4gICAgICAgIC8vICAgICAkaW5mb01vZGFsID0gJCgnI2luZm9SZWdpc3RyYXRpb24nKSxcclxuICAgICAgICAvLyAgICAgJHJlZ2lzdHJhdGlvbk1vZGFsID0gJCgnI3JlZ2lzdHJhdGlvbk1vZGFsJyk7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyAkcmVnRm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgICRyZWdpc3RyYXRpb25Nb2RhbC5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIC8vICAgICAkaW5mb01vZGFsLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgdmFyICRwZGZGaWVsZCA9ICQoJyN3cHVmLV9fX19fX19fX19fX19fX19fX19wZGYtcGlja2ZpbGVzJyksXHJcbiAgICAgICAgICAgIHBkZkZpZWxkTGFiZWwgPSAn0JfQsNCz0YDRg9C30LjRgtGMINGA0LDQsdC+0YLRgyDQsiBwZGYnO1xyXG5cclxuICAgICAgICAkcGRmRmllbGQudGV4dChwZGZGaWVsZExhYmVsKTtcclxuXHJcbiAgICAgICAgdmFyICR0aHVtYkZpZWxkID0gJCgnI3dwdWYtZmVhdHVyZWRfaW1hZ2UtcGlja2ZpbGVzJyksXHJcbiAgICAgICAgICAgIHRodW1iRmllbGRMYWJlbCA9ICfQl9Cw0LPRgNGD0LfQuNGC0Ywg0L/RgNC10LLRjNGOINCyIGpwZyc7XHJcblxyXG4gICAgICAgICR0aHVtYkZpZWxkLnRleHQodGh1bWJGaWVsZExhYmVsKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciAkY2F0ZWdvcnlMaXN0ID0gJCgnLndwdWZfY2F0ZWdvcnlfc2VsZWN0XzM1M18zNTIgc2VsZWN0JyksXHJcbiAgICAgICAgY2F0ZWdvcnlMYWJlbCA9ICfQmtCw0YLQtdCz0L7RgNC40Y8nO1xyXG5cclxuICAgICRjYXRlZ29yeUxpc3QgPSAkY2F0ZWdvcnlMaXN0LmNoaWxkcmVuKCc6Zmlyc3QnKTtcclxuICAgICRjYXRlZ29yeUxpc3QudGV4dChjYXRlZ29yeUxhYmVsKTtcclxuXHJcblxyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDEyLjA1LjIwMTcuXHJcbiAqL1xyXG4oZnVuY3Rpb24oJCkge1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcblxyXG5cclxuICAgICAgICB2YXIgZGF0ZUxpbmUgPSBuZXcgRGF0ZUxpbmUoJCgnI2RhdGVMaW5lQ29udGFpbmVyJykpO1xyXG4gICAgICAgIGRhdGVMaW5lLmluaXQoKTtcclxuXHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtqcXVlcnl9ICRlbGVtZW50Q29udGFpbmVyXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gIHZhciBEYXRlTGluZSA9IGZ1bmN0aW9uKCRlbGVtZW50Q29udGFpbmVyKSB7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyID0gJGVsZW1lbnRDb250YWluZXI7XHJcbiAgICAgIHRoaXMubGluZSA9ICRlbGVtZW50Q29udGFpbmVyLmZpbmQoJy5kYXRlX2xpbmUnKTtcclxuICAgICAgdGhpcy5kYXRlU3RhcnQgPSAgRGF0ZS5wYXJzZSgkZWxlbWVudENvbnRhaW5lci5hdHRyKCdkYXRhLWRhdGVzdGFydCcpKTtcclxuICAgICAgdGhpcy5kYXRlRW5kID0gRGF0ZS5wYXJzZSgkZWxlbWVudENvbnRhaW5lci5hdHRyKCdkYXRhLWRhdGVlbmQnKSk7XHJcbiAgICAgIHRoaXMuY3VycmVudERhdGUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzKTtcclxuICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgRGF0ZUxpbmUucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnNldFdpZHRoKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgRGF0ZUxpbmUucHJvdG90eXBlLmdldERhdGVEZWx0YSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuZGF0ZVN0YXJ0O1xyXG4gICAgICAgIHZhciBlbmQgPSB0aGlzLmRhdGVFbmQ7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBEYXRlLnBhcnNlKCcwOS4wMS4yMDE3Jyk7XHJcblxyXG5cclxuICAgICAgICB2YXIgZGVsdGEgPSAoc3RhcnQgLSBlbmQpIC8gKGN1cnJlbnQgLSBlbmQpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhlbmQgLSBjdXJyZW50KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhkZWx0YSk7XHJcblxyXG4gICAgICAgIHJldHVybiBkZWx0YTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgRGF0ZUxpbmUucHJvdG90eXBlLnNldFdpZHRoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICB2YXIgd2lkdGggPSB0aGlzLmNhbGN1bGF0ZVdpZHRoKCk7XHJcblxyXG4gICAgICAgIHRoaXMubGluZS5jc3MoJ3dpZHRoJywgd2lkdGgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBEYXRlTGluZS5wcm90b3R5cGUuY2FsY3VsYXRlV2lkdGggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZGVsdGEgPSB0aGlzLmdldERhdGVEZWx0YSgpO1xyXG4gICAgICAgcmV0dXJuIGRlbHRhICsgJyUnO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxufSkoalF1ZXJ5KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMjQuMDMuMjAxNy5cclxuICovXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICB2YXIgJGhlbHBlciA9ICQoJy5oZWxwZXInKTtcclxuICAgICAgdmFyICRjbG9zZVRvZ2dsZSA9ICRoZWxwZXIuZmluZCgnLmhlbHBlcl9jbG9zZScpO1xyXG5cclxuICAgICAgICAkY2xvc2VUb2dnbGUub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAkaGVscGVyLnNsaWRlVG9nZ2xlKCdmYXN0Jyk7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcbn0pKGpRdWVyeSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAwNy4wNC4yMDE3LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiggJCApIHtcclxuICAgIFxyXG4gICAgXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgaW5pdFNjcm9sbExpbmsoKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBpbml0U2Nyb2xsTGluaygpIHtcclxuICAgICAgICAgICAgdmFyICRzY3JvbGxMaW5rID0gJCgnLnNjcm9sbF9saW5rJyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAkc2Nyb2xsTGluay5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIG1ha2VTY3JvbGxMaW5rKCRzY3JvbGxMaW5rKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHtqUXVlcnl9ICRsaW5rXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gbWFrZVNjcm9sbExpbmsoJGxpbmspIHtcclxuICAgICAgICAgICAgdmFyIGhyZWYgPSAkbGluay5hdHRyKCdocmVmJyk7XHJcbiAgICAgICAgICAgIHZhciAkZWxUYXJnZXQgPSAkKGhyZWYpO1xyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsID0gZ2V0U2Nyb2xsKCRlbFRhcmdldCk7XHJcbiAgICAgICAgICAgIHZhciAkYm9keSA9ICQoJ2JvZHknKTtcclxuICAgICAgICAgICAgJGJvZHkuYW5pbWF0ZSh7c2Nyb2xsVG9wOiBzY3JvbGx9LCA4MDApO1xyXG4gICAgICAgICAgICAkKCcjbWFpbk5hdicpLnNsaWRlVG9nZ2xlKCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHBhcmFtIHtqUXVlcnl9ICRlbFxyXG4gICAgICAgICAqIEByZXR1cm5zIHtJbnRlZ2VyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldFNjcm9sbCgkZWwpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgdmFyICRzY3JvbGwgPSAkZWwub2Zmc2V0KCkudG9wIC0gMzI1O1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygkc2Nyb2xsKTtcclxuICAgICAgICAgICAgcmV0dXJuICRzY3JvbGw7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDI4LjAzLjIwMTcuXHJcbiAqL1xyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG4gICAgdmFyIGFqYXhHbyA9IGZhbHNlO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgdXNlckZvcm0gPSAkKCcudXNlcmZvcm0nKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVxR28oZGF0YSwgZm9ybSwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAoYWpheEdvKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJ3Jlc3BvbnNlJykuaHRtbCgnPHA+0J3QtdC+0LHRhdC+0LTQuNC80L4g0LTQvtC20LTQsNGC0YzRgdGPINC+0YLQstC10YLQsCDQv9GA0LXQtNGL0LTRg9GJ0LXQs9C+INC30LDQv9GA0L7RgdCwPC9wPicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJykudmFsKCfQn9C+0LTQvtC20LTQuNGC0LUnKTtcclxuICAgICAgICAgICAgZm9ybS5maW5kKCcucmVzcG9uc2UnKS5odG1sKCcnKTtcclxuICAgICAgICAgICAgYWpheEdvID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVxQ29tZShkYXRhLCBzdGF0dXNUZXh0LCB4aHIsIGZvcm0pIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBuZXh0U3RlcE1vZGFsID0gJCgnI3N0ZXBTdWNjZXNzJyk7XHJcbiAgICAgICAgICAgICAgICBuZXh0U3RlcE1vZGFsID0gJChuZXh0U3RlcE1vZGFsLnZhbCgpKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRTdGVwTW9kYWwgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNyZWdpc3RyYXRpb25Nb2RhbCcpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFN0ZXBNb2RhbC5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBidWlsZE1lc3NhZ2UoZGF0YS5kYXRhLm1lc3NhZ2UsICdzdWNjZXNzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwic3VibWl0XCJdJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSkudmFsKCfQk9C+0YLQvtCy0L4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IGJ1aWxkTWVzc2FnZShkYXRhLmRhdGEubWVzc2FnZSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0nKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS52YWwoJ9Ce0YLQv9GA0LDQstC40YLRjCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvcm0uZmluZCgnLnJlc3BvbnNlJykuaHRtbChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGEucmVkaXJlY3QpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZGF0YS5kYXRhLnJlZGlyZWN0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFqYXhHbyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGFyZ3MgPSB7XHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIGJlZm9yZVN1Ym1pdDogcmVxR28sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHJlcUNvbWUsXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1cmw6IGFqYXhfdmFyLnVybFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdXNlckZvcm0uYWpheEZvcm0oYXJncyk7XHJcblxyXG4gICAgICAgICQoJy5sb2dvdXQnKS5jbGljayhmdW5jdGlvbihldmVudCkge1xyXG5cclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKGFqYXhHbykgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgbGluayA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICdhZG1pbi1hamF4LnBocCcsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogJ2FjdGlvbj1sb2dvdXRfbWUmbm9uY2U9JyArICQodGhpcykuZGF0YSgnbm9uY2UnKSxcclxuICAgICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rLnRleHQoJ9Cf0L7QtNC+0LbQtNC40YLQtScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFqYXhHbyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluay50ZXh0KCfQktGL0YXQvtC00LjQvCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgYWpheE9wdGlvbnMsIHRocm93bkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFqYXhHbyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBidWlsZE1lc3NhZ2UobWVzc2FnZSwgdHlwZSkge1xyXG4gICAgICAgIGlmICh0eXBlID09ICdlcnJvcicpIHtcclxuXHJcbiAgICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1lcnJvclwiPjxwIGNsYXNzPVwiYmxhY2tcIj4nICsgbWVzc2FnZSArICc8L3A+PC9kaXY+JztcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj48cCBjbGFzcz1cImJsYWNrXCI+JyArIG1lc3NhZ2UgKyAnPC9wPjwvZGl2Pic7XHJcbiAgICB9XHJcblxyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDI5LjAzLjIwMTcuXHJcbiAqL1xyXG4oZnVuY3Rpb24oICQgKSB7XHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIE1vZGFscyA9IHtcclxuICAgICAgICAgICAgJ3N1Y2Nlc3NTZW5kUHJvamVjdCc6ICQoJyNzdWNjZXNzU2VuZFByb2plY3QnKVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgIHZhciAkY3JlYXRlUHJvamVjdEZvcm0gPSAkKCcud3B1Zi1mb3JtLWFkZCcpO1xyXG5cclxuICAgICAgICAkY3JlYXRlUHJvamVjdEZvcm0uc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIE1vZGFscy5zdWNjZXNzU2VuZFByb2plY3QubW9kYWwoJ3Nob3cnKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcbn0pKGpRdWVyeSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAyNC4wMy4yMDE3LlxyXG4gKi9cclxuXHJcblxyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgaW5pdE5hdigkKCcjbWFpbk5hdicpLCAkKCcjbmF2VG9nZ2xlJykpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtICRuYXZcclxuICAgICAqIEBwYXJhbSAkdG9nZ2xlQnRuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGluaXROYXYoJG5hdiwgJHRvZ2dsZUJ0bikge1xyXG5cclxuICAgICAgJHRvZ2dsZUJ0bi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAkbmF2LnNsaWRlVG9nZ2xlKCk7XHJcblxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyICRjbG9zZUJ0biA9ICRuYXYuZmluZCgnLm5hdl9jbG9zZScpO1xyXG5cclxuICAgICAgICRjbG9zZUJ0bi5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cclxuICAgICAgICAgICAkbmF2LnNsaWRlVG9nZ2xlKCk7XHJcbiAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gJG5hdlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzbGlkZU5hdigkbmF2KSB7XHJcbiAgICAgICAgJG5hdi5zbGlkZVRvZ2dsZSgpO1xyXG4gICAgfVxyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDA0LjA0LjIwMTcuXHJcbiAqL1xyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG5cclxuICAgICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGluaXRQcmVsb2FkZXIoKTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBpbml0UHJlbG9hZGVyKCkge1xyXG4gICAgICAgIHZhciAkcHJlbG9hZGVyID0gJCgnI3BhZ2VQcmVsb2FkZXInKSxcclxuICAgICAgICAgICAgJHNwaW5uZXIgPSAkcHJlbG9hZGVyLmZpbmQoJy5zcGlubmVyJyk7XHJcblxyXG4gICAgICAgICRzcGlubmVyLmZhZGVPdXQoKTtcclxuICAgICAgICAkcHJlbG9hZGVyLmRlbGF5KDM1MCkuZmFkZU91dCgnc2xvdycpO1xyXG4gICAgfVxyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDAyLjA1LjIwMTcuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgICAgICBGaWx0ZXIuaW5pdCgpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIHZhciBGaWx0ZXIgPSB7fTtcclxuXHJcbiAgICBGaWx0ZXIubm9taW5hdGlvbktleSA9ICdub21pbmF0aW9uJztcclxuICAgIEZpbHRlci5kYXRhQXR0ciA9ICdkYXRhLWZpbHRlcic7XHJcbiAgICBGaWx0ZXIuYnV0dG9uc05vbWluYXRpb25DbGFzcyA9ICdub21pbmF0aW9uX2ZpbHRlcl9idXR0b24nO1xyXG4gICAgRmlsdGVyLmdhbGxlcnlJdGVtQ2xhc3MgPSAnZmlsdGVyYWJsZSc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBGaWx0ZXIuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB0aGlzLmluaXRCdXR0b24oJCgnLicgKyB0aGlzLmJ1dHRvbnNOb21pbmF0aW9uQ2xhc3MpKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGJ1dHRvbnNcclxuICAgICAqL1xyXG4gICAgRmlsdGVyLmluaXRCdXR0b24gPSBmdW5jdGlvbihidXR0b25zKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgYnV0dG9ucy5jbGljayhmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICBmaWx0ZXIgPSAkKHRoaXMpLmF0dHIoc2VsZi5kYXRhQXR0cik7XHJcblxyXG4gICAgICAgICAgZWxlbWVudExpc3QgPSAkKCcuJyArIHNlbGYuZ2FsbGVyeUl0ZW1DbGFzcyk7XHJcbiAgICAgICAgICBzZWxmLmZpbHRlckNvbnRlbnQoZmlsdGVyLCBlbGVtZW50TGlzdCwgc2VsZi5ub21pbmF0aW9uS2V5KTtcclxuXHJcbiAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGV4cFxyXG4gICAgICogQHBhcmFtIGVsZW1lbnRMaXN0XHJcbiAgICAgKiBAcGFyYW0gYXR0clZhbFxyXG4gICAgICovXHJcbiAgICBGaWx0ZXIuZmlsdGVyQ29udGVudCA9IGZ1bmN0aW9uKGV4cCwgZWxlbWVudExpc3QsIGF0dHJWYWwpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgZXhwID0gZXhwLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgIGVsZW1lbnRMaXN0LmVhY2goZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBlbGVtQXR0ciA9ICQodGhpcykuYXR0cignZGF0YS0nICsgYXR0clZhbCk7XHJcbiAgICAgICAgICAgIGVsZW1BdHRyID0gZWxlbUF0dHIudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgaWYgKGVsZW1BdHRyICE9IGV4cCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb25zb2xlLmxvZygnZmlsdGVyIGlzIGRvbmU6ICcgKyBleHApO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudExpc3RcclxuICAgICAqL1xyXG4gICAgRmlsdGVyLnJlbW92ZUZpbHRlciA9IGZ1bmN0aW9uKGVsZW1lbnRMaXN0KSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZWxlbWVudExpc3QuZWFjaChmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgICQodGhpcykuc2hvdygpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIFxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIoZnVuY3Rpb24oICQgKSB7XHJcblxyXG4gICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgICAgIHZhciAkYm9keSA9ICQoJ2JvZHknKTtcclxuICAgICAgIHZhciAkdG9wTGluayA9ICQoJy50b3BfbGluaycpO1xyXG5cclxuICAgICAgICR0b3BMaW5rLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgJGJvZHkuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAwfSwgODAwKTtcclxuXHJcbiAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgaW5pdFRvcExpbmsoKTtcclxuICAgICAgIH07XHJcblxyXG5cclxuICAgICAgIC8qKlxyXG4gICAgICAgICogXHJcbiAgICAgICAgKi9cclxuICAgICAgIGZ1bmN0aW9uIGluaXRUb3BMaW5rKCkge1xyXG4gICAgICAgICAgIGlmICgkYm9keS5zY3JvbGxUb3AoKSA+IDQwMCkge1xyXG4gICAgICAgICAgICAgICAkdG9wTGluay5zaG93KCdmYXN0Jyk7XHJcbiAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgJHRvcExpbmsuaGlkZSgnZmFzdCcpO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgIH1cclxuXHJcblxyXG4gICB9KTtcclxuXHJcblxyXG5cclxufSkoalF1ZXJ5KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMzAuMDMuMjAxNy5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCgnW2RhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXScpLnRvb2x0aXAoKTtcclxuICAgIH0pO1xyXG5cclxufSkoalF1ZXJ5KTtcclxuIl19
