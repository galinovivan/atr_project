!function(t){t(document).ready(function(){t("#centerSlider").slick({centerPadding:"0px",centerMode:!0,slidesToShow:5,prevArrow:'<div class="arrow left"><i class="social_arrow social_arrow-arrow_left"></i></div>',nextArrow:'<div class="arrow right"><i class="social_arrow social_arrow-arrow_right"></i></div>'})})}(jQuery),function(t){t(document).ready(function(){t("#contactForm").submit(function(e){e.preventDefault();var n=t(this).serialize(),o=n.action;t.ajax({type:"POST",url:window.wp_data.ajax_url+"?"+o,data:n,success:function(){t("#contactModal").modal("show")}})})})}(jQuery),function(t){t(document).ready(function(){var e=t("#wpuf-user_login"),n=t("#wpuf-user_pass"),o=t("#pass2");e.attr("placeholder","Email"),n.attr("placeholder","Пароль"),o.attr("placeholder","Повторите пароль");t("#wpuf-___________________pdf-pickfiles").text("Загрузить работу в pdf");t("#wpuf-featured_image-pickfiles").text("Загрузить превью в jpg")});var e=t(".wpuf_category_select_353_352 select");e=e.children(":first"),e.text("Категория")}(jQuery),function(t){t(document).ready(function(){new e(t("#dateLineContainer")).init()});var e=function(t){this.container=t,this.line=t.find(".date_line"),this.dateStart=Date.parse(t.attr("data-datestart")),this.dateEnd=Date.parse(t.attr("data-dateend")),this.currentDate=Date.now()};e.prototype.init=function(){this.setWidth()},e.prototype.getDateDelta=function(){var t=this.dateStart,e=this.dateEnd,n=this.currentDate,o=e-t,i=n-t,a=100*i/o;return console.log(a),a},e.prototype.setWidth=function(){var t=this.calculateWidth();this.line.css("width",t)},e.prototype.calculateWidth=function(){return this.getDateDelta()+"%"}}(jQuery),function(t){t(document).ready(function(){var e=t(".helper");e.find(".helper_close").on("click",function(t){e.slideToggle("fast"),t.preventDefault()})})}(jQuery),function(t){t(document).ready(function(){function e(e){var o=e.attr("href"),i=t(o),a=n(i);t("body").animate({scrollTop:a},800),t("#mainNav").slideToggle()}function n(t){var e=t.offset().top-325;return console.log(e),e}!function(){var n=t(".scroll_link");n.on("click",function(t){t.preventDefault(),e(n)})}()})}(jQuery),function(t){function e(t,e){return"error"==e?'<div class="alert alert-error"><p class="black">'+t+"</p></div>":'<div class="alert alert-success"><p class="black">'+t+"</p></div>"}var n=!1;t(document).ready(function(){function o(t,e,o){if(n)return e.find("response").html("<p>Необходимо дождаться ответа предыдущего запроса</p>"),!1;e.find('input[type="submit"]').attr("disabled","disabled").val("Подождите"),e.find(".response").html(""),n=!0}function i(o,i,a,r){if(console.log(arguments),o.success){var c=t("#stepSuccess");if(null!=(c=t(c.val())))t("#registrationModal").modal("hide"),c.modal("show");else{var s=e(o.data.message,"success");r.find('input[type="submit"]').prop("disabled",!1).val("Готово")}}else{var s=e(o.data.message,"error");r.find('input[type="submit"]').prop("disabled",!1).val("Отправить")}r.find(".response").html(s),o.data.redirect&&(window.location.href=o.data.redirect),n=!1}var a=t(".userform"),r={dataType:"json",beforeSubmit:o,success:i,error:function(t){console.log(arguments)},url:ajax_var.url};a.ajaxForm(r),t(".logout").click(function(e){if(e.preventDefault(),n)return!1;var o=t(this);t.ajax({type:"POST",url:"admin-ajax.php",dataType:"json",data:"action=logout_me&nonce="+t(this).data("nonce"),beforeSend:function(t){o.text("Подождите"),n=!0},success:function(t){t.success?(o.text("Выходим"),window.location.reload(!0)):alert(t.data.message)},error:function(t,e,n){console.log(arguments)},complete:function(t){n=!1}})})})}(jQuery),function(t){t(document).ready(function(){var e={successSendProject:t("#successSendProject")};t(".wpuf-form-add").submit(function(t){e.successSendProject.modal("show")})})}(jQuery),function(t){function e(t,e){e.on("click",function(){t.slideToggle()}),t.find(".nav_close").on("click",function(e){t.slideToggle(),e.preventDefault()})}t(document).ready(function(){e(t("#mainNav"),t("#navToggle"))})}(jQuery),function(t){function e(){var e=t("#pagePreloader");e.find(".spinner").fadeOut(),e.delay(350).fadeOut("slow")}t(window).on("load",function(){e()})}(jQuery),function(t){t(document).ready(function(){e.init()});var e={};e.nominationKey="nomination",e.dataAttr="data-filter",e.buttonsNominationClass="nomination_filter_button",e.galleryItemClass="filterable",e.init=function(){this.initButton(t("."+this.buttonsNominationClass))},e.initButton=function(e){var n=this;e.click(function(e){e.preventDefault(),filter=t(this).attr(n.dataAttr),elementList=t("."+n.galleryItemClass),n.filterContent(filter,elementList,n.nominationKey)})},e.filterContent=function(e,n,o){e=e.toLowerCase(),n.each(function(n,i){elemAttr=t(this).attr("data-"+o),elemAttr=elemAttr.toLowerCase(),elemAttr!=e&&t(this).hide()}),console.log("filter is done: "+e)},e.removeFilter=function(e){e.each(function(e,n){t(this).show()})}}(jQuery),function(t){t(document).ready(function(){function e(){n.scrollTop()>400?o.show("fast"):o.hide("fast")}var n=t("body"),o=t(".top_link");o.on("click",function(t){t.preventDefault(),n.animate({scrollTop:0},800)}),window.onscroll=function(){e()}})}(jQuery),function(t){t(document).ready(function(){t('[data-toggle="tooltip"]').tooltip()})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcm91c2VsLmpzIiwiY29udGFjdC1mb3JtLmpzIiwiY3VzdG9tX2Zvcm0uanMiLCJkYXRlX2xpbmVfY2FsY3VsYXRlLmpzIiwiaGVscGVyLmpzIiwibGluay1zY3JvbGwuanMiLCJsb2dpbi5qcyIsIm1vZGFscy5qcyIsIm5hdi5qcyIsInByZWxvYWRlci5qcyIsInByb2plY3RfZmlsdGVyLmpzIiwic2Nyb2xsLmpzIiwidG9vbHRpcC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInNsaWNrIiwiY2VudGVyUGFkZGluZyIsImNlbnRlck1vZGUiLCJzbGlkZXNUb1Nob3ciLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJqUXVlcnkiLCJzdWJtaXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9ybURhdGEiLCJ0aGlzIiwic2VyaWFsaXplIiwiYWN0aW9uIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJ3aW5kb3ciLCJ3cF9kYXRhIiwiYWpheF91cmwiLCJkYXRhIiwic3VjY2VzcyIsIm1vZGFsIiwiJGxvZ2luRmllbGQiLCIkcGFzc3dvcmRGaWVsZCIsIiRyZXBlYXRQYXNzd29yZEZpZWxkIiwiYXR0ciIsInRleHQiLCIkY2F0ZWdvcnlMaXN0IiwiY2hpbGRyZW4iLCJEYXRlTGluZSIsImluaXQiLCIkZWxlbWVudENvbnRhaW5lciIsImNvbnRhaW5lciIsImxpbmUiLCJmaW5kIiwiZGF0ZVN0YXJ0IiwiRGF0ZSIsInBhcnNlIiwiZGF0ZUVuZCIsImN1cnJlbnREYXRlIiwibm93IiwicHJvdG90eXBlIiwic2V0V2lkdGgiLCJnZXREYXRlRGVsdGEiLCJzdGFydCIsImVuZCIsImN1cnJlbnQiLCJzdGFydERlbHRhIiwiY3VycmVudERlbHRhIiwiZGVsdGEiLCJjb25zb2xlIiwibG9nIiwid2lkdGgiLCJjYWxjdWxhdGVXaWR0aCIsImNzcyIsIiRoZWxwZXIiLCJvbiIsInNsaWRlVG9nZ2xlIiwibWFrZVNjcm9sbExpbmsiLCIkbGluayIsImhyZWYiLCIkZWxUYXJnZXQiLCJzY3JvbGwiLCJnZXRTY3JvbGwiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiJGVsIiwiJHNjcm9sbCIsIm9mZnNldCIsInRvcCIsIiRzY3JvbGxMaW5rIiwiYnVpbGRNZXNzYWdlIiwibWVzc2FnZSIsImFqYXhHbyIsInJlcUdvIiwiZm9ybSIsIm9wdGlvbnMiLCJodG1sIiwidmFsIiwicmVxQ29tZSIsInN0YXR1c1RleHQiLCJ4aHIiLCJhcmd1bWVudHMiLCJuZXh0U3RlcE1vZGFsIiwicmVzcG9uc2UiLCJwcm9wIiwicmVkaXJlY3QiLCJsb2NhdGlvbiIsInVzZXJGb3JtIiwiYXJncyIsImRhdGFUeXBlIiwiYmVmb3JlU3VibWl0IiwiZXJyb3IiLCJhamF4X3ZhciIsImFqYXhGb3JtIiwiY2xpY2siLCJsaW5rIiwiYmVmb3JlU2VuZCIsInJlbG9hZCIsImFsZXJ0IiwiYWpheE9wdGlvbnMiLCJ0aHJvd25FcnJvciIsImNvbXBsZXRlIiwiTW9kYWxzIiwic3VjY2Vzc1NlbmRQcm9qZWN0IiwiaW5pdE5hdiIsIiRuYXYiLCIkdG9nZ2xlQnRuIiwiaW5pdFByZWxvYWRlciIsIiRwcmVsb2FkZXIiLCJmYWRlT3V0IiwiZGVsYXkiLCJGaWx0ZXIiLCJub21pbmF0aW9uS2V5IiwiZGF0YUF0dHIiLCJidXR0b25zTm9taW5hdGlvbkNsYXNzIiwiZ2FsbGVyeUl0ZW1DbGFzcyIsImluaXRCdXR0b24iLCJidXR0b25zIiwic2VsZiIsImZpbHRlciIsImVsZW1lbnRMaXN0IiwiZmlsdGVyQ29udGVudCIsImV4cCIsImF0dHJWYWwiLCJ0b0xvd2VyQ2FzZSIsImVhY2giLCJrZXkiLCJ2YWx1ZSIsImVsZW1BdHRyIiwiaGlkZSIsInJlbW92ZUZpbHRlciIsInNob3ciLCJpbml0VG9wTGluayIsIiRib2R5IiwiJHRvcExpbmsiLCJvbnNjcm9sbCIsInRvb2x0aXAiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEdBRUFBLEVBQUFDLFVBQUFDLE1BQUEsV0FDQUYsRUFBQSxpQkFFQUcs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b3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oICQgKSB7XHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICB2YXIgc2xpZGVyID0gJCgnI2NlbnRlclNsaWRlcicpO1xyXG5cclxuICAgICAgICBzbGlkZXIuc2xpY2soe1xyXG4gICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICcwcHgnLFxyXG4gICAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDUsXHJcbiAgICAgICAgICAgIHByZXZBcnJvdzogJzxkaXYgY2xhc3M9XCJhcnJvdyBsZWZ0XCI+PGkgY2xhc3M9XCJzb2NpYWxfYXJyb3cgc29jaWFsX2Fycm93LWFycm93X2xlZnRcIj48L2k+PC9kaXY+JyxcclxuICAgICAgICAgICAgbmV4dEFycm93OiAnPGRpdiBjbGFzcz1cImFycm93IHJpZ2h0XCI+PGkgY2xhc3M9XCJzb2NpYWxfYXJyb3cgc29jaWFsX2Fycm93LWFycm93X3JpZ2h0XCI+PC9pPjwvZGl2PicsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbn0pKGpRdWVyeSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDA3LjA0LjIwMTcuXHJcbiAqL1xyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICQoJyNjb250YWN0Rm9ybScpLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgIHZhciBmb3JtRGF0YSA9ICQodGhpcykuc2VyaWFsaXplKCk7XHJcbiAgICAgICAgICAgdmFyIGFjdGlvbiA9IGZvcm1EYXRhWydhY3Rpb24nXTtcclxuXHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIHVybDogd2luZG93LndwX2RhdGEuYWpheF91cmwgKyAnPycgKyBhY3Rpb24sXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciAkY29udGFjdE1vZGFsID0gJCgnI2NvbnRhY3RNb2RhbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICRjb250YWN0TW9kYWwubW9kYWwoJ3Nob3cnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMDUuMDQuMjAxNy5cclxuICovXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIGxvZ2luTGFiZWwgPSAnRW1haWwnLFxyXG4gICAgICAgICAgICBwYXNzTGFiZWwgPSAn0J/QsNGA0L7Qu9GMJyxcclxuICAgICAgICAgICAgcmVwZWF0UGFzc0xhYmVsID0gJ9Cf0L7QstGC0L7RgNC40YLQtSDQv9Cw0YDQvtC70YwnO1xyXG5cclxuICAgICAgIHZhciAkbG9naW5GaWVsZCA9ICQoJyN3cHVmLXVzZXJfbG9naW4nKSxcclxuICAgICAgICAgICAkcGFzc3dvcmRGaWVsZCA9ICQoJyN3cHVmLXVzZXJfcGFzcycpLFxyXG4gICAgICAgICAgICRyZXBlYXRQYXNzd29yZEZpZWxkID0gJCgnI3Bhc3MyJyk7XHJcblxyXG5cclxuICAgICAgICAkbG9naW5GaWVsZC5hdHRyKCdwbGFjZWhvbGRlcicsIGxvZ2luTGFiZWwpO1xyXG4gICAgICAgICRwYXNzd29yZEZpZWxkLmF0dHIoJ3BsYWNlaG9sZGVyJywgcGFzc0xhYmVsKTtcclxuICAgICAgICAkcmVwZWF0UGFzc3dvcmRGaWVsZC5hdHRyKCdwbGFjZWhvbGRlcicsIHJlcGVhdFBhc3NMYWJlbCk7XHJcblxyXG4gICAgICAgIC8vIHZhciAkcmVnRm9ybSA9ICQoJy5yZWdfZm9ybScpLmZpbmQoJ2Zvcm0nKSxcclxuICAgICAgICAvLyAgICAgJGluZm9Nb2RhbCA9ICQoJyNpbmZvUmVnaXN0cmF0aW9uJyksXHJcbiAgICAgICAgLy8gICAgICRyZWdpc3RyYXRpb25Nb2RhbCA9ICQoJyNyZWdpc3RyYXRpb25Nb2RhbCcpO1xyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gJHJlZ0Zvcm0ub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vICAgICAkcmVnaXN0cmF0aW9uTW9kYWwubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAvLyAgICAgJGluZm9Nb2RhbC5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHZhciAkcGRmRmllbGQgPSAkKCcjd3B1Zi1fX19fX19fX19fX19fX19fX19fcGRmLXBpY2tmaWxlcycpLFxyXG4gICAgICAgICAgICBwZGZGaWVsZExhYmVsID0gJ9CX0LDQs9GA0YPQt9C40YLRjCDRgNCw0LHQvtGC0YMg0LIgcGRmJztcclxuXHJcbiAgICAgICAgJHBkZkZpZWxkLnRleHQocGRmRmllbGRMYWJlbCk7XHJcblxyXG4gICAgICAgIHZhciAkdGh1bWJGaWVsZCA9ICQoJyN3cHVmLWZlYXR1cmVkX2ltYWdlLXBpY2tmaWxlcycpLFxyXG4gICAgICAgICAgICB0aHVtYkZpZWxkTGFiZWwgPSAn0JfQsNCz0YDRg9C30LjRgtGMINC/0YDQtdCy0YzRjiDQsiBqcGcnO1xyXG5cclxuICAgICAgICAkdGh1bWJGaWVsZC50ZXh0KHRodW1iRmllbGRMYWJlbCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgJGNhdGVnb3J5TGlzdCA9ICQoJy53cHVmX2NhdGVnb3J5X3NlbGVjdF8zNTNfMzUyIHNlbGVjdCcpLFxyXG4gICAgICAgIGNhdGVnb3J5TGFiZWwgPSAn0JrQsNGC0LXQs9C+0YDQuNGPJztcclxuXHJcbiAgICAkY2F0ZWdvcnlMaXN0ID0gJGNhdGVnb3J5TGlzdC5jaGlsZHJlbignOmZpcnN0Jyk7XHJcbiAgICAkY2F0ZWdvcnlMaXN0LnRleHQoY2F0ZWdvcnlMYWJlbCk7XHJcblxyXG5cclxuXHJcbn0pKGpRdWVyeSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAxMi4wNS4yMDE3LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCQpIHtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG5cclxuXHJcbiAgICAgICAgdmFyIGRhdGVMaW5lID0gbmV3IERhdGVMaW5lKCQoJyNkYXRlTGluZUNvbnRhaW5lcicpKTtcclxuICAgICAgICBkYXRlTGluZS5pbml0KCk7XHJcblxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7anF1ZXJ5fSAkZWxlbWVudENvbnRhaW5lclxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKi9cclxuICB2YXIgRGF0ZUxpbmUgPSBmdW5jdGlvbigkZWxlbWVudENvbnRhaW5lcikge1xyXG4gICAgICB0aGlzLmNvbnRhaW5lciA9ICRlbGVtZW50Q29udGFpbmVyO1xyXG4gICAgICB0aGlzLmxpbmUgPSAkZWxlbWVudENvbnRhaW5lci5maW5kKCcuZGF0ZV9saW5lJyk7XHJcbiAgICAgIHRoaXMuZGF0ZVN0YXJ0ID0gIERhdGUucGFyc2UoJGVsZW1lbnRDb250YWluZXIuYXR0cignZGF0YS1kYXRlc3RhcnQnKSk7XHJcbiAgICAgIHRoaXMuZGF0ZUVuZCA9IERhdGUucGFyc2UoJGVsZW1lbnRDb250YWluZXIuYXR0cignZGF0YS1kYXRlZW5kJykpO1xyXG4gICAgICB0aGlzLmN1cnJlbnREYXRlID0gRGF0ZS5ub3coKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBEYXRlTGluZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc2V0V2lkdGgoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBEYXRlTGluZS5wcm90b3R5cGUuZ2V0RGF0ZURlbHRhID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5kYXRlU3RhcnQ7XHJcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMuZGF0ZUVuZDtcclxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuY3VycmVudERhdGU7XHJcblxyXG4gICAgICAgIHZhciBzdGFydERlbHRhID0gZW5kIC0gc3RhcnQ7XHJcbiAgICAgICAgdmFyIGN1cnJlbnREZWx0YSA9IGN1cnJlbnQgLSBzdGFydDtcclxuICAgICAgICB2YXIgZGVsdGEgPSAoY3VycmVudERlbHRhICogMTAwKSAvIHN0YXJ0RGVsdGE7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGRlbHRhKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRlbHRhO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBEYXRlTGluZS5wcm90b3R5cGUuc2V0V2lkdGggPSBmdW5jdGlvbigpIHtcclxuICAgICAgIHZhciB3aWR0aCA9IHRoaXMuY2FsY3VsYXRlV2lkdGgoKTtcclxuXHJcbiAgICAgICAgdGhpcy5saW5lLmNzcygnd2lkdGgnLCB3aWR0aCk7XHJcbiAgICB9O1xyXG5cclxuICAgIERhdGVMaW5lLnByb3RvdHlwZS5jYWxjdWxhdGVXaWR0aCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBkZWx0YSA9IHRoaXMuZ2V0RGF0ZURlbHRhKCk7XHJcbiAgICAgICByZXR1cm4gZGVsdGEgKyAnJSc7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG59KShqUXVlcnkpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAyNC4wMy4yMDE3LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgIHZhciAkaGVscGVyID0gJCgnLmhlbHBlcicpO1xyXG4gICAgICB2YXIgJGNsb3NlVG9nZ2xlID0gJGhlbHBlci5maW5kKCcuaGVscGVyX2Nsb3NlJyk7XHJcblxyXG4gICAgICAgICRjbG9zZVRvZ2dsZS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICRoZWxwZXIuc2xpZGVUb2dnbGUoJ2Zhc3QnKTtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDA3LjA0LjIwMTcuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCAkICkge1xyXG4gICAgXHJcbiAgICBcclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICBpbml0U2Nyb2xsTGluaygpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRTY3JvbGxMaW5rKCkge1xyXG4gICAgICAgICAgICB2YXIgJHNjcm9sbExpbmsgPSAkKCcuc2Nyb2xsX2xpbmsnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRzY3JvbGxMaW5rLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbWFrZVNjcm9sbExpbmsoJHNjcm9sbExpbmspO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0ge2pRdWVyeX0gJGxpbmtcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBtYWtlU2Nyb2xsTGluaygkbGluaykge1xyXG4gICAgICAgICAgICB2YXIgaHJlZiA9ICRsaW5rLmF0dHIoJ2hyZWYnKTtcclxuICAgICAgICAgICAgdmFyICRlbFRhcmdldCA9ICQoaHJlZik7XHJcbiAgICAgICAgICAgIHZhciBzY3JvbGwgPSBnZXRTY3JvbGwoJGVsVGFyZ2V0KTtcclxuICAgICAgICAgICAgdmFyICRib2R5ID0gJCgnYm9keScpO1xyXG4gICAgICAgICAgICAkYm9keS5hbmltYXRlKHtzY3JvbGxUb3A6IHNjcm9sbH0sIDgwMCk7XHJcbiAgICAgICAgICAgICQoJyNtYWluTmF2Jykuc2xpZGVUb2dnbGUoKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcGFyYW0ge2pRdWVyeX0gJGVsXHJcbiAgICAgICAgICogQHJldHVybnMge0ludGVnZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0U2Nyb2xsKCRlbCkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB2YXIgJHNjcm9sbCA9ICRlbC5vZmZzZXQoKS50b3AgLSAzMjU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY3JvbGwpO1xyXG4gICAgICAgICAgICByZXR1cm4gJHNjcm9sbDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG59KShqUXVlcnkpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMjguMDMuMjAxNy5cclxuICovXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcbiAgICB2YXIgYWpheEdvID0gZmFsc2U7XHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHZhciB1c2VyRm9ybSA9ICQoJy51c2VyZm9ybScpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByZXFHbyhkYXRhLCBmb3JtLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGlmIChhamF4R28pIHtcclxuICAgICAgICAgICAgICAgIGZvcm0uZmluZCgncmVzcG9uc2UnKS5odG1sKCc8cD7QndC10L7QsdGF0L7QtNC40LzQviDQtNC+0LbQtNCw0YLRjNGB0Y8g0L7RgtCy0LXRgtCwINC/0YDQtdC00YvQtNGD0YnQtdCz0L4g0LfQsNC/0YDQvtGB0LA8L3A+Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwic3VibWl0XCJdJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKS52YWwoJ9Cf0L7QtNC+0LbQtNC40YLQtScpO1xyXG4gICAgICAgICAgICBmb3JtLmZpbmQoJy5yZXNwb25zZScpLmh0bWwoJycpO1xyXG4gICAgICAgICAgICBhamF4R28gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiByZXFDb21lKGRhdGEsIHN0YXR1c1RleHQsIHhociwgZm9ybSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG5leHRTdGVwTW9kYWwgPSAkKCcjc3RlcFN1Y2Nlc3MnKTtcclxuICAgICAgICAgICAgICAgIG5leHRTdGVwTW9kYWwgPSAkKG5leHRTdGVwTW9kYWwudmFsKCkpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dFN0ZXBNb2RhbCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3JlZ2lzdHJhdGlvbk1vZGFsJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0U3RlcE1vZGFsLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IGJ1aWxkTWVzc2FnZShkYXRhLmRhdGEubWVzc2FnZSwgJ3N1Y2Nlc3MnKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0nKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS52YWwoJ9CT0L7RgtC+0LLQvicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gYnVpbGRNZXNzYWdlKGRhdGEuZGF0YS5tZXNzYWdlLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpLnZhbCgn0J7RgtC/0YDQsNCy0LjRgtGMJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9ybS5maW5kKCcucmVzcG9uc2UnKS5odG1sKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5yZWRpcmVjdCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkYXRhLmRhdGEucmVkaXJlY3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYWpheEdvID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgYXJncyA9IHtcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgYmVmb3JlU3VibWl0OiByZXFHbyxcclxuICAgICAgICAgICAgc3VjY2VzczogcmVxQ29tZSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVybDogYWpheF92YXIudXJsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB1c2VyRm9ybS5hamF4Rm9ybShhcmdzKTtcclxuXHJcbiAgICAgICAgJCgnLmxvZ291dCcpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAoYWpheEdvKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBsaW5rID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgIHVybDogJ2FkbWluLWFqYXgucGhwJyxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiAnYWN0aW9uPWxvZ291dF9tZSZub25jZT0nICsgJCh0aGlzKS5kYXRhKCdub25jZScpLFxyXG4gICAgICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsudGV4dCgn0J/QvtC00L7QttC00LjRgtC1Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYWpheEdvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rLnRleHQoJ9CS0YvRhdC+0LTQuNC8Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBhamF4T3B0aW9ucywgdGhyb3duRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWpheEdvID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGJ1aWxkTWVzc2FnZShtZXNzYWdlLCB0eXBlKSB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gJ2Vycm9yJykge1xyXG5cclxuICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWVycm9yXCI+PHAgY2xhc3M9XCJibGFja1wiPicgKyBtZXNzYWdlICsgJzwvcD48L2Rpdj4nO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPjxwIGNsYXNzPVwiYmxhY2tcIj4nICsgbWVzc2FnZSArICc8L3A+PC9kaXY+JztcclxuICAgIH1cclxuXHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMjkuMDMuMjAxNy5cclxuICovXHJcbihmdW5jdGlvbiggJCApIHtcclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgTW9kYWxzID0ge1xyXG4gICAgICAgICAgICAnc3VjY2Vzc1NlbmRQcm9qZWN0JzogJCgnI3N1Y2Nlc3NTZW5kUHJvamVjdCcpXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgdmFyICRjcmVhdGVQcm9qZWN0Rm9ybSA9ICQoJy53cHVmLWZvcm0tYWRkJyk7XHJcblxyXG4gICAgICAgICRjcmVhdGVQcm9qZWN0Rm9ybS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgTW9kYWxzLnN1Y2Nlc3NTZW5kUHJvamVjdC5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDI0LjAzLjIwMTcuXHJcbiAqL1xyXG5cclxuXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICBpbml0TmF2KCQoJyNtYWluTmF2JyksICQoJyNuYXZUb2dnbGUnKSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gJG5hdlxyXG4gICAgICogQHBhcmFtICR0b2dnbGVCdG5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gaW5pdE5hdigkbmF2LCAkdG9nZ2xlQnRuKSB7XHJcblxyXG4gICAgICAkdG9nZ2xlQnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICRuYXYuc2xpZGVUb2dnbGUoKTtcclxuXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgJGNsb3NlQnRuID0gJG5hdi5maW5kKCcubmF2X2Nsb3NlJyk7XHJcblxyXG4gICAgICAgJGNsb3NlQnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gICAgICAgICAgICRuYXYuc2xpZGVUb2dnbGUoKTtcclxuICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSAkbmF2XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHNsaWRlTmF2KCRuYXYpIHtcclxuICAgICAgICAkbmF2LnNsaWRlVG9nZ2xlKCk7XHJcbiAgICB9XHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMDQuMDQuMjAxNy5cclxuICovXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcblxyXG4gICAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaW5pdFByZWxvYWRlcigpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGluaXRQcmVsb2FkZXIoKSB7XHJcbiAgICAgICAgdmFyICRwcmVsb2FkZXIgPSAkKCcjcGFnZVByZWxvYWRlcicpLFxyXG4gICAgICAgICAgICAkc3Bpbm5lciA9ICRwcmVsb2FkZXIuZmluZCgnLnNwaW5uZXInKTtcclxuXHJcbiAgICAgICAgJHNwaW5uZXIuZmFkZU91dCgpO1xyXG4gICAgICAgICRwcmVsb2FkZXIuZGVsYXkoMzUwKS5mYWRlT3V0KCdzbG93Jyk7XHJcbiAgICB9XHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMDIuMDUuMjAxNy5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIEZpbHRlci5pbml0KCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgdmFyIEZpbHRlciA9IHt9O1xyXG5cclxuICAgIEZpbHRlci5ub21pbmF0aW9uS2V5ID0gJ25vbWluYXRpb24nO1xyXG4gICAgRmlsdGVyLmRhdGFBdHRyID0gJ2RhdGEtZmlsdGVyJztcclxuICAgIEZpbHRlci5idXR0b25zTm9taW5hdGlvbkNsYXNzID0gJ25vbWluYXRpb25fZmlsdGVyX2J1dHRvbic7XHJcbiAgICBGaWx0ZXIuZ2FsbGVyeUl0ZW1DbGFzcyA9ICdmaWx0ZXJhYmxlJztcclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIEZpbHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdEJ1dHRvbigkKCcuJyArIHRoaXMuYnV0dG9uc05vbWluYXRpb25DbGFzcykpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gYnV0dG9uc1xyXG4gICAgICovXHJcbiAgICBGaWx0ZXIuaW5pdEJ1dHRvbiA9IGZ1bmN0aW9uKGJ1dHRvbnMpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICBidXR0b25zLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgIGZpbHRlciA9ICQodGhpcykuYXR0cihzZWxmLmRhdGFBdHRyKTtcclxuXHJcbiAgICAgICAgICBlbGVtZW50TGlzdCA9ICQoJy4nICsgc2VsZi5nYWxsZXJ5SXRlbUNsYXNzKTtcclxuICAgICAgICAgIHNlbGYuZmlsdGVyQ29udGVudChmaWx0ZXIsIGVsZW1lbnRMaXN0LCBzZWxmLm5vbWluYXRpb25LZXkpO1xyXG5cclxuICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gZXhwXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudExpc3RcclxuICAgICAqIEBwYXJhbSBhdHRyVmFsXHJcbiAgICAgKi9cclxuICAgIEZpbHRlci5maWx0ZXJDb250ZW50ID0gZnVuY3Rpb24oZXhwLCBlbGVtZW50TGlzdCwgYXR0clZhbCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBleHAgPSBleHAudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgZWxlbWVudExpc3QuZWFjaChmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGVsZW1BdHRyID0gJCh0aGlzKS5hdHRyKCdkYXRhLScgKyBhdHRyVmFsKTtcclxuICAgICAgICAgICAgZWxlbUF0dHIgPSBlbGVtQXR0ci50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICBpZiAoZWxlbUF0dHIgIT0gZXhwKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdmaWx0ZXIgaXMgZG9uZTogJyArIGV4cCk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBlbGVtZW50TGlzdFxyXG4gICAgICovXHJcbiAgICBGaWx0ZXIucmVtb3ZlRmlsdGVyID0gZnVuY3Rpb24oZWxlbWVudExpc3QpIHtcclxuICAgICAgICBcclxuICAgICAgICBlbGVtZW50TGlzdC5lYWNoKGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgJCh0aGlzKS5zaG93KCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbn0pKGpRdWVyeSk7XHJcbiIsIihmdW5jdGlvbiggJCApIHtcclxuXHJcbiAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgdmFyICRib2R5ID0gJCgnYm9keScpO1xyXG4gICAgICAgdmFyICR0b3BMaW5rID0gJCgnLnRvcF9saW5rJyk7XHJcblxyXG4gICAgICAgJHRvcExpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAkYm9keS5hbmltYXRlKHtzY3JvbGxUb3A6IDB9LCA4MDApO1xyXG5cclxuICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICB3aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBpbml0VG9wTGluaygpO1xyXG4gICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgLyoqXHJcbiAgICAgICAgKiBcclxuICAgICAgICAqL1xyXG4gICAgICAgZnVuY3Rpb24gaW5pdFRvcExpbmsoKSB7XHJcbiAgICAgICAgICAgaWYgKCRib2R5LnNjcm9sbFRvcCgpID4gNDAwKSB7XHJcbiAgICAgICAgICAgICAgICR0b3BMaW5rLnNob3coJ2Zhc3QnKTtcclxuICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAkdG9wTGluay5oaWRlKCdmYXN0Jyk7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgfVxyXG5cclxuXHJcbiAgIH0pO1xyXG5cclxuXHJcblxyXG59KShqUXVlcnkpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAzMC4wMy4yMDE3LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgICAgICAkKCdbZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJdJykudG9vbHRpcCgpO1xyXG4gICAgfSk7XHJcblxyXG59KShqUXVlcnkpO1xyXG4iXX0=
