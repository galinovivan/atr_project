!function(t){t(document).ready(function(){t("#centerSlider").slick({centerPadding:"0px",centerMode:!0,slidesToShow:5,prevArrow:'<div class="arrow left"><i class="social_arrow social_arrow-arrow_left"></i></div>',nextArrow:'<div class="arrow right"><i class="social_arrow social_arrow-arrow_right"></i></div>'})})}(jQuery),function(t){t(document).ready(function(){t("#contactForm").submit(function(e){e.preventDefault();var n=t(this).serialize();n.action;t.ajax({type:"POST",url:window.wp_data.ajax_url,data:n,success:function(){t("#contactModal").modal("show")}})})})}(jQuery),function(t){t(document).ready(function(){var e=document.documentElement.lang;if("ru-RU"==e)var n="Email",o="Пароль",i="Повторите пароль";else if("en-US"==e){var n="Email",o="Password",i="repeat password";t("#pass1").attr("placeholder",o),t("#last_name").attr("placeholder","Name"),t(".auth_form .wpuf-form li input[type=submit]").val("Registration")}var a=t("#wpuf-user_login"),r=t("#wpuf-user_pass"),c=t("#pass2");if(a.attr("placeholder",n),r.attr("placeholder",o),c.attr("placeholder",i),"ru-RU"==e)var u="Загрузить превью в jpg",s="Загрузить работу в pdf";else if("en-US"==e)var u="Download preview in jpg",s="Download the work in pdf";t("#wpuf-___________________pdf-pickfiles").text(s),t("#wpuf-featured_image-pickfiles").text(u)});var e=t(".wpuf_category_select_353_352 select"),n=document.documentElement.lang;if("ru-RU"==n)var o="Категория";else if("en-US"==n)var o="Category";e=e.children(":first"),e.text(o)}(jQuery),function(t){t(document).ready(function(){currentLang=document.documentElement.lang;var e={};e.finalist="Finalists 2016",e.students="students",e.graduate="Graduates",e.single="single",e.multiple="group",e.interior="INTERIOR OF APARTMENT",e.pavilon="PAVILION / ARBOR",e.busStation="Bus station",e.cityOnTheWater="Sity on the Water",e.nomination="Nomination",e.numbersOfPartners="Number of partners","en-US"==currentLang&&(console.log(t(".wpuf_category_select_353_352 option:nth-of-type(2)")),t(".wpuf_category_select_353_352 option:nth-of-type(2)").text(e.finalist))})}(jQuery),function(t){t(document).ready(function(){new e(t("#dateLineContainer")).init()});var e=function(e){this.container=e,this.line=e.find(".date_line"),this.dateStart=Date.parse(e.attr("data-datestart")),this.dateEnd=Date.parse(e.attr("data-dateend")),this.currentDate=Date.now(),this.mobileParentHeight=276,this.mobileLine=t(".date_line_mobile"),this.mobileWidth="767"};e.prototype.init=function(){return this.isMobile()?(this.setMobileHeight(),!0):(this.setWidth(),!0)},e.prototype.getDateDelta=function(){var t=this.dateStart,e=this.dateEnd,n=this.currentDate,o=e-t,i=n-t,a=100*i/o;return console.log(a),a},e.prototype.isMobile=function(){return t(window).width()<this.mobileWidth},e.prototype.setWidth=function(){var t=this.calculateWidth();this.line.css("width",t)},e.prototype.calculateWidth=function(){return this.getDateDelta()+"%"},e.prototype.setMobileHeight=function(){var t=this.calculateMobileHeight();console.log(t),this.mobileLine.css("height",t)},e.prototype.calculateMobileHeight=function(){var t=this.getDateDelta(),e=this.mobileParentHeight;return Math.floor(e*(t/100))+"px"}}(jQuery),function(t){t(document).ready(function(){var e=t(".filter_field"),n=t(".gallery_list");e.click(function(e){e.preventDefault();var o=t(this).attr("data-filter"),i=t(this).attr("data-terms"),a={action:"myfilter",filter_nomination_query:o,terms:i};t.ajax({url:window.wp_data.ajax_url,data:a,type:"POST",beforeSend:function(t){n.find(".sort_preloader").show()},success:function(t){n.find(".sort_preloader").hide(),n.html(t)}})})})}(jQuery),function(t){t(document).ready(function(){var e=t(".helper"),n=e.find(".helper_close");t("#helperToggle").on("click",function(t){e.slideToggle("fast"),t.preventDefault()}),n.on("click",function(t){e.slideToggle("fast"),t.preventDefault()})})}(jQuery),function(t){t(document).ready(function(){function e(e){var o=e.attr("href"),i=t(o),a=n(i);t("body").animate({scrollTop:a},800),t("#mainNav").slideToggle()}function n(t){var e=t.offset().top-325;return console.log(e),e}!function(){var n=t(".scroll_link");n.on("click",function(t){t.preventDefault(),e(n)})}()})}(jQuery),function(t){function e(t,e){return"error"==e?'<div class="alert alert-error"><p class="black">'+t+"</p></div>":'<div class="alert alert-success"><p class="black">'+t+"</p></div>"}var n=!1;t(document).ready(function(){function o(t,e,o){if(n)return e.find("response").html("<p>Необходимо дождаться ответа предыдущего запроса</p>"),!1;e.find('input[type="submit"]').attr("disabled","disabled").val("Подождите"),e.find(".response").html(""),n=!0}function i(o,i,a,r){if(console.log(arguments),o.success){var c=t("#stepSuccess");if(null!=(c=t(c.val())))t("#registrationModal").modal("hide"),c.modal("show");else{var u=e(o.data.message,"success");r.find('input[type="submit"]').prop("disabled",!1).val("Готово")}}else{var u=e(o.data.message,"error");r.find('input[type="submit"]').prop("disabled",!1).val("Отправить")}r.find(".response").html(u),o.data.redirect&&(window.location.href=o.data.redirect),n=!1}var a=t(".userform"),r={dataType:"json",beforeSubmit:o,success:i,error:function(t){console.log(arguments)},url:ajax_var.url};a.ajaxForm(r),t(".logout").click(function(e){if(e.preventDefault(),n)return!1;var o=t(this);t.ajax({type:"POST",url:"admin-ajax.php",dataType:"json",data:"action=logout_me&nonce="+t(this).data("nonce"),beforeSend:function(t){o.text("Подождите"),n=!0},success:function(t){t.success?(o.text("Выходим"),window.location.reload(!0)):alert(t.data.message)},error:function(t,e,n){console.log(arguments)},complete:function(t){n=!1}})})})}(jQuery),function(t){t(document).ready(function(){var e={successSendProject:t("#successSendProject")};t(".wpuf-form-add").submit(function(t){e.successSendProject.modal("show")})})}(jQuery),function(t){function e(t,e){e.on("click",function(){t.slideToggle()}),t.find(".nav_close").on("click",function(e){t.slideToggle(),e.preventDefault()})}t(document).ready(function(){e(t("#mainNav"),t("#navToggle"))})}(jQuery),function(t){function e(){var e=t("#pagePreloader");e.find(".spinner").fadeOut(),e.delay(350).fadeOut("slow")}t(window).on("load",function(){e()})}(jQuery),function(t){t(document).ready(function(){function e(){n.scrollTop()>400?o.show("fast"):o.hide("fast")}var n=t("body"),o=t(".top_link");o.on("click",function(t){t.preventDefault(),n.animate({scrollTop:0},800)}),window.onscroll=function(){e()}})}(jQuery),function(t){t(document).ready(function(){var e=t(".sort_field"),n=t(".gallery_list");e.click(function(e){e.preventDefault();var o=t(this).attr("data-sort"),i=t(this).attr("data-terms"),a={action:"myfilter",sort_type:o,terms:i};t.ajax({url:window.wp_data.ajax_url,data:a,type:"POST",beforeSend:function(t){n.find(".sort_preloader").show()},success:function(t){n.find(".sort_preloader").hide(),n.html(t)}})})})}(jQuery),function(t){t(document).ready(function(){t('[data-toggle="tooltip"]').tooltip()})}(jQuery),function(t){t(document).ready(function(){t("#updateUserInfo").submit(function(e){e.preventDefault();var n=t("#userId").val(),o=t("#userUrl").val(),i=t("#userName").val(),a=t("#formAction").val(),r=t("#currentLang").val(),c={action:a,user_id:n,user_url:o,user_name:i,current_lang:r};t.post(ajax_var,c,function(e){var n=t("#userMessages");n.text(e),n.slideToggle()})})})}(jQuery),function(t){t(document).ready(function(){function e(t){yaCounter44245474.reachGoal(t,function(){console.log("Send event data to "+t)})}t("#topActionForUnloggined").on("click",function(t){e("topHelperHereButton")}),t(".reg_form").find("form").submit(function(){e("registrationForm")}),t("#buttonLearnMore").click(function(){e("buttonLearnMore")}),t("#buttonRegistrationOnButtom").click(function(){e("bottomRegistration")}),t(".wpcf7-form").click(function(){e("bottomContactForm")}),t("#buttonHouse").click(function(){e("buttonHouse")}),t("#ButtonCityOntheWater").click(function(){e("cityOnTheWaterNomination")}),t("#buttonAppartaments").click(function(){e("buttonApartamentsNomination")}),t("#buttonBusStation").click(function(){e("buttonBusStationNomination")})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcm91c2VsLmpzIiwiY29udGFjdC1mb3JtLmpzIiwiY3VzdG9tX2Zvcm0uanMiLCJkYXRlX2xpbmVfY2FsY3VsYXRlLmpzIiwiZmlsdGVyLmpzIiwiaGVscGVyLmpzIiwibGluay1zY3JvbGwuanMiLCJsb2dpbi5qcyIsIm1vZGFscy5qcyIsIm5hdi5qcyIsInByZWxvYWRlci5qcyIsInNjcm9sbC5qcyIsInNvcnQtaGFuZGxlci5qcyIsInRvb2x0aXAuanMiLCJ1cGRhdGVfdXNlci5qcyIsInlhbmRleC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInNsaWNrIiwiY2VudGVyUGFkZGluZyIsImNlbnRlck1vZGUiLCJzbGlkZXNUb1Nob3ciLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJqUXVlcnkiLCJzdWJtaXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9ybURhdGEiLCJ0aGlzIiwic2VyaWFsaXplIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJ3aW5kb3ciLCJ3cF9kYXRhIiwiYWpheF91cmwiLCJkYXRhIiwic3VjY2VzcyIsIm1vZGFsIiwibGFuZyIsImRvY3VtZW50RWxlbWVudCIsImxvZ2luTGFiZWwiLCJwYXNzTGFiZWwiLCJyZXBlYXRQYXNzTGFiZWwiLCJhdHRyIiwidmFsIiwiJGxvZ2luRmllbGQiLCIkcGFzc3dvcmRGaWVsZCIsIiRyZXBlYXRQYXNzd29yZEZpZWxkIiwidGh1bWJGaWVsZExhYmVsIiwicGRmRmllbGRMYWJlbCIsInRleHQiLCIkY2F0ZWdvcnlMaXN0IiwiY3VycmVudExhbmciLCJjYXRlZ29yeUxhYmVsIiwiY2hpbGRyZW4iLCJTZWxlY3QiLCJmaW5hbGlzdCIsInN0dWRlbnRzIiwiZ3JhZHVhdGUiLCJzaW5nbGUiLCJtdWx0aXBsZSIsImludGVyaW9yIiwicGF2aWxvbiIsImJ1c1N0YXRpb24iLCJjaXR5T25UaGVXYXRlciIsIm5vbWluYXRpb24iLCJudW1iZXJzT2ZQYXJ0bmVycyIsImNvbnNvbGUiLCJsb2ciLCJEYXRlTGluZSIsImluaXQiLCIkZWxlbWVudENvbnRhaW5lciIsImNvbnRhaW5lciIsImxpbmUiLCJmaW5kIiwiZGF0ZVN0YXJ0IiwiRGF0ZSIsInBhcnNlIiwiZGF0ZUVuZCIsImN1cnJlbnREYXRlIiwibm93IiwibW9iaWxlUGFyZW50SGVpZ2h0IiwibW9iaWxlTGluZSIsIm1vYmlsZVdpZHRoIiwicHJvdG90eXBlIiwiaXNNb2JpbGUiLCJzZXRNb2JpbGVIZWlnaHQiLCJzZXRXaWR0aCIsImdldERhdGVEZWx0YSIsInN0YXJ0IiwiZW5kIiwiY3VycmVudCIsInN0YXJ0RGVsdGEiLCJjdXJyZW50RGVsdGEiLCJkZWx0YSIsIndpZHRoIiwiY2FsY3VsYXRlV2lkdGgiLCJjc3MiLCJoZWlnaHQiLCJjYWxjdWxhdGVNb2JpbGVIZWlnaHQiLCJwYXJlbnRIZWlnaHQiLCJNYXRoIiwiZmxvb3IiLCJmaWx0ZXJGaWVsZCIsImdhbGxlcnlMaXN0IiwiY2xpY2siLCJmaWx0ZXJRdWVyeSIsInRlcm1zIiwicmVzcG9uc2VEYXRhIiwiYWN0aW9uIiwiZmlsdGVyX25vbWluYXRpb25fcXVlcnkiLCJiZWZvcmVTZW5kIiwieGhyIiwic2hvdyIsImhpZGUiLCJodG1sIiwiJGhlbHBlciIsIiRjbG9zZVRvZ2dsZSIsIm9uIiwic2xpZGVUb2dnbGUiLCJtYWtlU2Nyb2xsTGluayIsIiRsaW5rIiwiaHJlZiIsIiRlbFRhcmdldCIsInNjcm9sbCIsImdldFNjcm9sbCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCIkZWwiLCIkc2Nyb2xsIiwib2Zmc2V0IiwidG9wIiwiJHNjcm9sbExpbmsiLCJidWlsZE1lc3NhZ2UiLCJtZXNzYWdlIiwiYWpheEdvIiwicmVxR28iLCJmb3JtIiwib3B0aW9ucyIsInJlcUNvbWUiLCJzdGF0dXNUZXh0IiwiYXJndW1lbnRzIiwibmV4dFN0ZXBNb2RhbCIsInJlc3BvbnNlIiwicHJvcCIsInJlZGlyZWN0IiwibG9jYXRpb24iLCJ1c2VyRm9ybSIsImFyZ3MiLCJkYXRhVHlwZSIsImJlZm9yZVN1Ym1pdCIsImVycm9yIiwiYWpheF92YXIiLCJhamF4Rm9ybSIsImxpbmsiLCJyZWxvYWQiLCJhbGVydCIsImFqYXhPcHRpb25zIiwidGhyb3duRXJyb3IiLCJjb21wbGV0ZSIsIk1vZGFscyIsInN1Y2Nlc3NTZW5kUHJvamVjdCIsImluaXROYXYiLCIkbmF2IiwiJHRvZ2dsZUJ0biIsImluaXRQcmVsb2FkZXIiLCIkcHJlbG9hZGVyIiwiZmFkZU91dCIsImRlbGF5IiwiaW5pdFRvcExpbmsiLCIkYm9keSIsIiR0b3BMaW5rIiwib25zY3JvbGwiLCJzb3J0RmllbGQiLCJzb3J0VHlwZSIsInNvcnRfdHlwZSIsInRvb2x0aXAiLCJ1c2VySWQiLCJ1c2VyVXJsIiwidXNlck5hbWUiLCJmb3JtQWN0aW9uIiwidXNlcl9pZCIsInVzZXJfdXJsIiwidXNlcl9uYW1lIiwiY3VycmVudF9sYW5nIiwicG9zdCIsIiR1c2VyTWVzc2FnZSIsInNlbmREYXRhVG9ZYW5kZXhNZXRyaWNhIiwiZXZlbnRJZCIsInlhQ291bnRlcjQ0MjQ1NDc0IiwicmVhY2hHb2FsIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxHQUVBQSxFQUFBQyxVQUFBQyxNQUFBLFdBQ0FGLEVBQUEsaUJBQ0FHLE9BQ0FDLGNBQUEsTUFDQUMsWUFBQSxFQUNBQyxhQUFBLEVBQ0FDLFVBQUEscUZBQ0FDLFVBQUEsNEZBSUFDLFFDVkEsU0FBQVQsR0FFQUEsRUFBQUMsVUFBQUMsTUFBQSxXQUVBRixFQUFBLGdCQUFBVSxPQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLGdCQUNBLElBQUFDLEdBQUFiLEVBQUFjLE1BQUFDLFdBQ0FGLEdBQUEsTUFFQWIsR0FBQWdCLE1BQ0FDLEtBQUEsT0FDQUMsSUFBQUMsT0FBQUMsUUFBQUMsU0FDQUMsS0FBQVQsRUFDQVUsUUFBQSxXQUNBdkIsRUFBQSxpQkFDQXdCLE1BQUEsZ0JBUUFmLFFDdkJBLFNBQUFULEdBRUFBLEVBQUFDLFVBQUFDLE1BQUEsV0FDQSxHQUFBdUIsR0FBQXhCLFNBQUF5QixnQkFB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QSw4QkFHQTlLLEVBQUEsdUJBQ0E0RixNQUFBLFdBQ0FrRixFQUFBLGlDQUdBOUssRUFBQSxxQkFDQTRGLE1BQUEsV0FDQWtGLEVBQUEsbUNBYUFySyIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgdmFyIHNsaWRlciA9ICQoJyNjZW50ZXJTbGlkZXInKTtcclxuICAgICAgICBzbGlkZXIuc2xpY2soe1xyXG4gICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICcwcHgnLFxyXG4gICAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDUsXHJcbiAgICAgICAgICAgIHByZXZBcnJvdzogJzxkaXYgY2xhc3M9XCJhcnJvdyBsZWZ0XCI+PGkgY2xhc3M9XCJzb2NpYWxfYXJyb3cgc29jaWFsX2Fycm93LWFycm93X2xlZnRcIj48L2k+PC9kaXY+JyxcclxuICAgICAgICAgICAgbmV4dEFycm93OiAnPGRpdiBjbGFzcz1cImFycm93IHJpZ2h0XCI+PGkgY2xhc3M9XCJzb2NpYWxfYXJyb3cgc29jaWFsX2Fycm93LWFycm93X3JpZ2h0XCI+PC9pPjwvZGl2PicsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbn0pKGpRdWVyeSk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAwNy4wNC4yMDE3LlxuICovXG4oZnVuY3Rpb24oICQgKSB7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgICAkKCcjY29udGFjdEZvcm0nKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgIHZhciBmb3JtRGF0YSA9ICQodGhpcykuc2VyaWFsaXplKCk7XG4gICAgICAgICAgIHZhciBhY3Rpb24gPSBmb3JtRGF0YVsnYWN0aW9uJ107XG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgdXJsOiB3aW5kb3cud3BfZGF0YS5hamF4X3VybCxcbiAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRjb250YWN0TW9kYWwgPSAkKCcjY29udGFjdE1vZGFsJyk7XG4gICAgICAgICAgICAgICAgICAgICRjb250YWN0TW9kYWwubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgIH0pO1xuXG5cbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDA1LjA0LjIwMTcuXG4gKi9cbihmdW5jdGlvbiggJCApIHtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIHZhciBsYW5nID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lmxhbmc7XG5cbiAgICBpZiAobGFuZyA9PSAncnUtUlUnKSB7XG4gICAgICAgIHZhciBsb2dpbkxhYmVsID0gJ0VtYWlsJyxcbiAgICAgICAgICAgIHBhc3NMYWJlbCA9ICfQn9Cw0YDQvtC70YwnLFxuICAgICAgICAgICAgcmVwZWF0UGFzc0xhYmVsID0gJ9Cf0L7QstGC0L7RgNC40YLQtSDQv9Cw0YDQvtC70YwnO1xuICAgIH0gZWxzZSBpZiAobGFuZyA9PSAnZW4tVVMnKSB7XG4gICAgICAgIHZhciBsb2dpbkxhYmVsID0gJ0VtYWlsJyxcbiAgICAgICAgICAgIHBhc3NMYWJlbCA9ICdQYXNzd29yZCcsXG4gICAgICAgICAgICByZXBlYXRQYXNzTGFiZWwgPSAncmVwZWF0IHBhc3N3b3JkJztcbiAgICAgICAgJCgnI3Bhc3MxJykuYXR0cigncGxhY2Vob2xkZXInLCBwYXNzTGFiZWwpO1xuICAgICAgICAkKCcjbGFzdF9uYW1lJykuYXR0cigncGxhY2Vob2xkZXInLCAnTmFtZScpO1xuICAgICAgICAkKCcuYXV0aF9mb3JtIC53cHVmLWZvcm0gbGkgaW5wdXRbdHlwZT1zdWJtaXRdJykudmFsKCdSZWdpc3RyYXRpb24nKTtcbiAgICB9XG5cblxuICAgICAgIHZhciAkbG9naW5GaWVsZCA9ICQoJyN3cHVmLXVzZXJfbG9naW4nKSxcbiAgICAgICAgICAgJHBhc3N3b3JkRmllbGQgPSAkKCcjd3B1Zi11c2VyX3Bhc3MnKSxcbiAgICAgICAgICAgJHJlcGVhdFBhc3N3b3JkRmllbGQgPSAkKCcjcGFzczInKTtcblxuXG4gICAgICAgICRsb2dpbkZpZWxkLmF0dHIoJ3BsYWNlaG9sZGVyJywgbG9naW5MYWJlbCk7XG4gICAgICAgICRwYXNzd29yZEZpZWxkLmF0dHIoJ3BsYWNlaG9sZGVyJywgcGFzc0xhYmVsKTtcbiAgICAgICAgJHJlcGVhdFBhc3N3b3JkRmllbGQuYXR0cigncGxhY2Vob2xkZXInLCByZXBlYXRQYXNzTGFiZWwpO1xuXG4gICAgICAgIC8vIHZhciAkcmVnRm9ybSA9ICQoJy5yZWdfZm9ybScpLmZpbmQoJ2Zvcm0nKSxcbiAgICAgICAgLy8gICAgICRpbmZvTW9kYWwgPSAkKCcjaW5mb1JlZ2lzdHJhdGlvbicpLFxuICAgICAgICAvLyAgICAgJHJlZ2lzdHJhdGlvbk1vZGFsID0gJCgnI3JlZ2lzdHJhdGlvbk1vZGFsJyk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICRyZWdGb3JtLm9uKCdzdWJtaXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gICAgICRyZWdpc3RyYXRpb25Nb2RhbC5tb2RhbCgnaGlkZScpO1xuICAgICAgICAvLyAgICAgJGluZm9Nb2RhbC5tb2RhbCgnc2hvdycpO1xuICAgICAgICAvLyB9KTtcblxuXG4gICAgICAgIGlmIChsYW5nID09ICdydS1SVScpIHtcblxuICAgICAgICAgICAgdmFyIHRodW1iRmllbGRMYWJlbCA9ICfQl9Cw0LPRgNGD0LfQuNGC0Ywg0L/RgNC10LLRjNGOINCyIGpwZyc7XG4gICAgICAgICAgICB2YXIgcGRmRmllbGRMYWJlbCA9ICfQl9Cw0LPRgNGD0LfQuNGC0Ywg0YDQsNCx0L7RgtGDINCyIHBkZic7XG5cblxuICAgICAgICB9IGVsc2UgaWYgKGxhbmcgPT0gJ2VuLVVTJykge1xuICAgICAgICAgICAgdmFyIHRodW1iRmllbGRMYWJlbCA9ICdEb3dubG9hZCBwcmV2aWV3IGluIGpwZyc7XG4gICAgICAgICAgICB2YXIgcGRmRmllbGRMYWJlbCA9ICdEb3dubG9hZCB0aGUgd29yayBpbiBwZGYnO1xuICAgICAgICB9XG5cblxuICAgICAgICB2YXIgJHBkZkZpZWxkID0gJCgnI3dwdWYtX19fX19fX19fX19fX19fX19fX3BkZi1waWNrZmlsZXMnKTtcblxuXG4gICAgICAgICRwZGZGaWVsZC50ZXh0KHBkZkZpZWxkTGFiZWwpO1xuXG4gICAgICAgIHZhciAkdGh1bWJGaWVsZCA9ICQoJyN3cHVmLWZlYXR1cmVkX2ltYWdlLXBpY2tmaWxlcycpO1xuXG5cbiAgICAgICAgJHRodW1iRmllbGQudGV4dCh0aHVtYkZpZWxkTGFiZWwpO1xuICAgIH0pO1xuXG4gICAgdmFyICRjYXRlZ29yeUxpc3QgPSAkKCcud3B1Zl9jYXRlZ29yeV9zZWxlY3RfMzUzXzM1MiBzZWxlY3QnKTtcblxuICAgIHZhciBjdXJyZW50TGFuZyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nO1xuXG4gICAgaWYgKGN1cnJlbnRMYW5nID09ICdydS1SVScpIHtcbiAgICAgICAgdmFyIGNhdGVnb3J5TGFiZWwgPSAn0JrQsNGC0LXQs9C+0YDQuNGPJztcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRMYW5nID09ICdlbi1VUycpIHtcbiAgICAgICAgdmFyIGNhdGVnb3J5TGFiZWwgPSAnQ2F0ZWdvcnknO1xuICAgIH1cblxuICAgICRjYXRlZ29yeUxpc3QgPSAkY2F0ZWdvcnlMaXN0LmNoaWxkcmVuKCc6Zmlyc3QnKTtcbiAgICAkY2F0ZWdvcnlMaXN0LnRleHQoY2F0ZWdvcnlMYWJlbCk7XG5cblxuXG5cblxuXG5cblxufSkoalF1ZXJ5KTtcbihmdW5jdGlvbigkKSB7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgY3VycmVudExhbmcgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZztcblxuICAgICAgICB2YXIgU2VsZWN0ID0ge307XG4gICAgICAgIFNlbGVjdC5maW5hbGlzdCA9ICdGaW5hbGlzdHMgMjAxNic7XG4gICAgICAgIFNlbGVjdC5zdHVkZW50cyA9ICdzdHVkZW50cyc7XG4gICAgICAgIFNlbGVjdC5ncmFkdWF0ZSA9ICdHcmFkdWF0ZXMnO1xuICAgICAgICBTZWxlY3Quc2luZ2xlID0gJ3NpbmdsZSc7XG4gICAgICAgIFNlbGVjdC5tdWx0aXBsZSA9ICdncm91cCc7XG4gICAgICAgIFNlbGVjdC5pbnRlcmlvciA9ICdJTlRFUklPUiBPRiBBUEFSVE1FTlQnO1xuICAgICAgICBTZWxlY3QucGF2aWxvbiA9ICdQQVZJTElPTiAvIEFSQk9SJztcbiAgICAgICAgU2VsZWN0LmJ1c1N0YXRpb24gPSAnQnVzIHN0YXRpb24nO1xuICAgICAgICBTZWxlY3QuY2l0eU9uVGhlV2F0ZXIgPSAnU2l0eSBvbiB0aGUgV2F0ZXInO1xuICAgICAgICBTZWxlY3Qubm9taW5hdGlvbiA9ICdOb21pbmF0aW9uJztcbiAgICAgICAgU2VsZWN0Lm51bWJlcnNPZlBhcnRuZXJzID0gJ051bWJlciBvZiBwYXJ0bmVycyc7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRMYW5nID09ICdlbi1VUycpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCQoJy53cHVmX2NhdGVnb3J5X3NlbGVjdF8zNTNfMzUyIG9wdGlvbjpudGgtb2YtdHlwZSgyKScpKTtcbiAgICAgICAgICAgICQoJy53cHVmX2NhdGVnb3J5X3NlbGVjdF8zNTNfMzUyIG9wdGlvbjpudGgtb2YtdHlwZSgyKScpLnRleHQoU2VsZWN0LmZpbmFsaXN0KTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuXG59KShqUXVlcnkpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAxMi4wNS4yMDE3LlxuICovXG4oZnVuY3Rpb24oJCkge1xuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblxuXG4gICAgICAgIHZhciBkYXRlTGluZSA9IG5ldyBEYXRlTGluZSgkKCcjZGF0ZUxpbmVDb250YWluZXInKSk7XG4gICAgICAgIGRhdGVMaW5lLmluaXQoKTtcblxuXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7anF1ZXJ5fSAkZWxlbWVudENvbnRhaW5lclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICB2YXIgRGF0ZUxpbmUgPSBmdW5jdGlvbigkZWxlbWVudENvbnRhaW5lcikge1xuICAgICAgdGhpcy5jb250YWluZXIgPSAkZWxlbWVudENvbnRhaW5lcjtcbiAgICAgIHRoaXMubGluZSA9ICRlbGVtZW50Q29udGFpbmVyLmZpbmQoJy5kYXRlX2xpbmUnKTtcbiAgICAgIHRoaXMuZGF0ZVN0YXJ0ID0gIERhdGUucGFyc2UoJGVsZW1lbnRDb250YWluZXIuYXR0cignZGF0YS1kYXRlc3RhcnQnKSk7XG4gICAgICB0aGlzLmRhdGVFbmQgPSBEYXRlLnBhcnNlKCRlbGVtZW50Q29udGFpbmVyLmF0dHIoJ2RhdGEtZGF0ZWVuZCcpKTtcbiAgICAgIHRoaXMuY3VycmVudERhdGUgPSBEYXRlLm5vdygpO1xuICAgICAgdGhpcy5tb2JpbGVQYXJlbnRIZWlnaHQgPSAyNzY7XG4gICAgICB0aGlzLm1vYmlsZUxpbmUgPSAkKCcuZGF0ZV9saW5lX21vYmlsZScpO1xuICAgICAgdGhpcy5tb2JpbGVXaWR0aCA9ICc3NjcnO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBEYXRlTGluZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRXaWR0aCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRNb2JpbGVIZWlnaHQoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgRGF0ZUxpbmUucHJvdG90eXBlLmdldERhdGVEZWx0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmRhdGVTdGFydDtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMuZGF0ZUVuZDtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmN1cnJlbnREYXRlO1xuICAgICAgICB2YXIgc3RhcnREZWx0YSA9IGVuZCAtIHN0YXJ0O1xuICAgICAgICB2YXIgY3VycmVudERlbHRhID0gY3VycmVudCAtIHN0YXJ0O1xuICAgICAgICB2YXIgZGVsdGEgPSAoY3VycmVudERlbHRhICogMTAwKSAvIHN0YXJ0RGVsdGE7XG5cbiAgICAgICAgY29uc29sZS5sb2coZGVsdGEpO1xuXG4gICAgICAgIHJldHVybiBkZWx0YTtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBEYXRlTGluZS5wcm90b3R5cGUuaXNNb2JpbGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQod2luZG93KS53aWR0aCgpIDwgdGhpcy5tb2JpbGVXaWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBEYXRlTGluZS5wcm90b3R5cGUuc2V0V2lkdGggPSBmdW5jdGlvbigpIHtcbiAgICAgICB2YXIgd2lkdGggPSB0aGlzLmNhbGN1bGF0ZVdpZHRoKCk7XG5cbiAgICAgICAgdGhpcy5saW5lLmNzcygnd2lkdGgnLCB3aWR0aCk7XG4gICAgfTtcblxuICAgIERhdGVMaW5lLnByb3RvdHlwZS5jYWxjdWxhdGVXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGVsdGEgPSB0aGlzLmdldERhdGVEZWx0YSgpO1xuICAgICAgIHJldHVybiBkZWx0YSArICclJztcbiAgICB9O1xuXG5cbiAgICBEYXRlTGluZS5wcm90b3R5cGUuc2V0TW9iaWxlSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmNhbGN1bGF0ZU1vYmlsZUhlaWdodCgpO1xuICAgICAgICBjb25zb2xlLmxvZyhoZWlnaHQpO1xuICAgICAgICB0aGlzLm1vYmlsZUxpbmUuY3NzKCdoZWlnaHQnLCBoZWlnaHQpO1xuICAgIH07XG5cbiAgICBEYXRlTGluZS5wcm90b3R5cGUuY2FsY3VsYXRlTW9iaWxlSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkZWx0YSA9IHRoaXMuZ2V0RGF0ZURlbHRhKCk7XG4gICAgICAgIHZhciBwYXJlbnRIZWlnaHQgPSB0aGlzLm1vYmlsZVBhcmVudEhlaWdodDtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguZmxvb3IocGFyZW50SGVpZ2h0ICogKGRlbHRhIC8gMTAwKSk7XG5cbiAgICAgICAgcmV0dXJuIGhlaWdodCArICdweCc7XG4gICAgfTtcblxuXG5cbn0pKGpRdWVyeSk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHJvb3Qgb24gMjkuMDUuMTcuXG4gKi9cblxuKGZ1bmN0aW9uKCQpIHtcblxuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIGZpbHRlckZpZWxkID0gJCgnLmZpbHRlcl9maWVsZCcpO1xuICAgICAgICB2YXIgZ2FsbGVyeUxpc3QgPSAkKCcuZ2FsbGVyeV9saXN0Jyk7XG4gICAgICAgIGZpbHRlckZpZWxkLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyIGZpbHRlclF1ZXJ5ID0gJCh0aGlzKS5hdHRyKCdkYXRhLWZpbHRlcicpO1xuICAgICAgICAgICAgdmFyIHRlcm1zID0gJCh0aGlzKS5hdHRyKCdkYXRhLXRlcm1zJyk7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2VEYXRhID0ge1xuICAgICAgICAgICAgICAgICdhY3Rpb24nOiAnbXlmaWx0ZXInLFxuICAgICAgICAgICAgICAgICdmaWx0ZXJfbm9taW5hdGlvbl9xdWVyeSc6IGZpbHRlclF1ZXJ5LFxuICAgICAgICAgICAgICAgICd0ZXJtcyc6IHRlcm1zXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6IHdpbmRvdy53cF9kYXRhLmFqYXhfdXJsLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24gKHhocikge1xuICAgICAgICAgICAgICAgICAgICBnYWxsZXJ5TGlzdC5maW5kKCcuc29ydF9wcmVsb2FkZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBnYWxsZXJ5TGlzdC5maW5kKCcuc29ydF9wcmVsb2FkZXInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGdhbGxlcnlMaXN0Lmh0bWwoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICB9KTtcblxuICAgIH0pXG5cblxufSkoalF1ZXJ5KTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMjQuMDMuMjAxNy5cbiAqL1xuKGZ1bmN0aW9uKCAkICkge1xuXG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgdmFyICRoZWxwZXIgPSAkKCcuaGVscGVyJyk7XG4gICAgICB2YXIgJGNsb3NlVG9nZ2xlID0gJGhlbHBlci5maW5kKCcuaGVscGVyX2Nsb3NlJyk7XG4gICAgICB2YXIgJGhlbHBlclRvZ2dsZSA9ICQoJyNoZWxwZXJUb2dnbGUnKTtcblxuICAgICAgJGhlbHBlclRvZ2dsZS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgJGhlbHBlci5zbGlkZVRvZ2dsZSgnZmFzdCcpO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIH0pO1xuXG4gICAgICAgICRjbG9zZVRvZ2dsZS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAkaGVscGVyLnNsaWRlVG9nZ2xlKCdmYXN0Jyk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KTtcblxuXG4gICAgfSk7XG5cblxufSkoalF1ZXJ5KTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMDcuMDQuMjAxNy5cbiAqL1xuXG4oZnVuY3Rpb24oICQgKSB7XG4gICAgXG4gICAgXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgICAgaW5pdFNjcm9sbExpbmsoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGluaXRTY3JvbGxMaW5rKCkge1xuICAgICAgICAgICAgdmFyICRzY3JvbGxMaW5rID0gJCgnLnNjcm9sbF9saW5rJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICRzY3JvbGxMaW5rLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIG1ha2VTY3JvbGxMaW5rKCRzY3JvbGxMaW5rKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2pRdWVyeX0gJGxpbmtcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG1ha2VTY3JvbGxMaW5rKCRsaW5rKSB7XG4gICAgICAgICAgICB2YXIgaHJlZiA9ICRsaW5rLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgICAgIHZhciAkZWxUYXJnZXQgPSAkKGhyZWYpO1xuICAgICAgICAgICAgdmFyIHNjcm9sbCA9IGdldFNjcm9sbCgkZWxUYXJnZXQpO1xuICAgICAgICAgICAgdmFyICRib2R5ID0gJCgnYm9keScpO1xuICAgICAgICAgICAgJGJvZHkuYW5pbWF0ZSh7c2Nyb2xsVG9wOiBzY3JvbGx9LCA4MDApO1xuICAgICAgICAgICAgJCgnI21haW5OYXYnKS5zbGlkZVRvZ2dsZSgpO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogXG4gICAgICAgICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxcbiAgICAgICAgICogQHJldHVybnMge0ludGVnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRTY3JvbGwoJGVsKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgdmFyICRzY3JvbGwgPSAkZWwub2Zmc2V0KCkudG9wIC0gMzI1O1xuICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY3JvbGwpO1xuICAgICAgICAgICAgcmV0dXJuICRzY3JvbGw7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgXG4gICAgfSk7XG4gICAgXG4gICAgXG4gICAgXG59KShqUXVlcnkpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAyOC4wMy4yMDE3LlxuICovXG4oZnVuY3Rpb24oICQgKSB7XG5cbiAgICB2YXIgYWpheEdvID0gZmFsc2U7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgdXNlckZvcm0gPSAkKCcudXNlcmZvcm0nKTtcblxuICAgICAgICBmdW5jdGlvbiByZXFHbyhkYXRhLCBmb3JtLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAoYWpheEdvKSB7XG4gICAgICAgICAgICAgICAgZm9ybS5maW5kKCdyZXNwb25zZScpLmh0bWwoJzxwPtCd0LXQvtCx0YXQvtC00LjQvNC+INC00L7QttC00LDRgtGM0YHRjyDQvtGC0LLQtdGC0LAg0L/RgNC10LTRi9C00YPRidC10LPQviDQt9Cw0L/RgNC+0YHQsDwvcD4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpLnZhbCgn0J/QvtC00L7QttC00LjRgtC1Jyk7XG4gICAgICAgICAgICBmb3JtLmZpbmQoJy5yZXNwb25zZScpLmh0bWwoJycpO1xuICAgICAgICAgICAgYWpheEdvID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiByZXFDb21lKGRhdGEsIHN0YXR1c1RleHQsIHhociwgZm9ybSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcblxuICAgICAgICAgICAgICAgIHZhciBuZXh0U3RlcE1vZGFsID0gJCgnI3N0ZXBTdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgbmV4dFN0ZXBNb2RhbCA9ICQobmV4dFN0ZXBNb2RhbC52YWwoKSk7XG5cblxuICAgICAgICAgICAgICAgIGlmIChuZXh0U3RlcE1vZGFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3JlZ2lzdHJhdGlvbk1vZGFsJykubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFN0ZXBNb2RhbC5tb2RhbCgnc2hvdycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IGJ1aWxkTWVzc2FnZShkYXRhLmRhdGEubWVzc2FnZSwgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwic3VibWl0XCJdJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSkudmFsKCfQk9C+0YLQvtCy0L4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IGJ1aWxkTWVzc2FnZShkYXRhLmRhdGEubWVzc2FnZSwgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwic3VibWl0XCJdJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSkudmFsKCfQntGC0L/RgNCw0LLQuNGC0YwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvcm0uZmluZCgnLnJlc3BvbnNlJykuaHRtbChyZXNwb25zZSk7XG4gICAgICAgICAgICBpZiAoZGF0YS5kYXRhLnJlZGlyZWN0KSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkYXRhLmRhdGEucmVkaXJlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhamF4R28gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhcmdzID0ge1xuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGJlZm9yZVN1Ym1pdDogcmVxR28sXG4gICAgICAgICAgICBzdWNjZXNzOiByZXFDb21lLFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVybDogYWpheF92YXIudXJsXG4gICAgICAgIH07XG4gICAgICAgIHVzZXJGb3JtLmFqYXhGb3JtKGFyZ3MpO1xuXG4gICAgICAgICQoJy5sb2dvdXQnKS5jbGljayhmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKGFqYXhHbykgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgdmFyIGxpbmsgPSAkKHRoaXMpO1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnYWRtaW4tYWpheC5waHAnLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgZGF0YTogJ2FjdGlvbj1sb2dvdXRfbWUmbm9uY2U9JyArICQodGhpcykuZGF0YSgnbm9uY2UnKSxcbiAgICAgICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmsudGV4dCgn0J/QvtC00L7QttC00LjRgtC1Jyk7XG4gICAgICAgICAgICAgICAgICAgIGFqYXhHbyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsudGV4dCgn0JLRi9GF0L7QtNC40LwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIGFqYXhPcHRpb25zLCB0aHJvd25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWpheEdvID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICB9KTtcblxuXG5cbiAgICB9KTtcblxuXG4gICAgZnVuY3Rpb24gYnVpbGRNZXNzYWdlKG1lc3NhZ2UsIHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT0gJ2Vycm9yJykge1xuXG4gICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZXJyb3JcIj48cCBjbGFzcz1cImJsYWNrXCI+JyArIG1lc3NhZ2UgKyAnPC9wPjwvZGl2Pic7XG5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1zdWNjZXNzXCI+PHAgY2xhc3M9XCJibGFja1wiPicgKyBtZXNzYWdlICsgJzwvcD48L2Rpdj4nO1xuICAgIH1cblxuXG59KShqUXVlcnkpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAyOS4wMy4yMDE3LlxuICovXG4oZnVuY3Rpb24oICQgKSB7XG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIE1vZGFscyA9IHtcbiAgICAgICAgICAgICdzdWNjZXNzU2VuZFByb2plY3QnOiAkKCcjc3VjY2Vzc1NlbmRQcm9qZWN0JylcbiAgICAgICAgfTtcblxuXG4gICAgICAgdmFyICRjcmVhdGVQcm9qZWN0Rm9ybSA9ICQoJy53cHVmLWZvcm0tYWRkJyk7XG5cbiAgICAgICAgJGNyZWF0ZVByb2plY3RGb3JtLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgTW9kYWxzLnN1Y2Nlc3NTZW5kUHJvamVjdC5tb2RhbCgnc2hvdycpO1xuICAgICAgICB9KTtcblxuXG4gICAgfSk7XG5cblxuXG59KShqUXVlcnkpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG1hc3RlciBvbiAyNC4wMy4yMDE3LlxuICovXG5cblxuKGZ1bmN0aW9uKCAkICkge1xuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgICAgICBpbml0TmF2KCQoJyNtYWluTmF2JyksICQoJyNuYXZUb2dnbGUnKSk7XG5cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSAkbmF2XG4gICAgICogQHBhcmFtICR0b2dnbGVCdG5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0TmF2KCRuYXYsICR0b2dnbGVCdG4pIHtcblxuICAgICAgJHRvZ2dsZUJ0bi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICRuYXYuc2xpZGVUb2dnbGUoKTtcblxuICAgICAgfSk7XG5cbiAgICAgICAgdmFyICRjbG9zZUJ0biA9ICRuYXYuZmluZCgnLm5hdl9jbG9zZScpO1xuXG4gICAgICAgJGNsb3NlQnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgICAgJG5hdi5zbGlkZVRvZ2dsZSgpO1xuICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gJG5hdlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNsaWRlTmF2KCRuYXYpIHtcbiAgICAgICAgJG5hdi5zbGlkZVRvZ2dsZSgpO1xuICAgIH1cblxufSkoalF1ZXJ5KTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBtYXN0ZXIgb24gMDQuMDQuMjAxNy5cbiAqL1xuKGZ1bmN0aW9uKCAkICkge1xuXG5cbiAgICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaW5pdFByZWxvYWRlcigpO1xuICAgIH0pO1xuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0UHJlbG9hZGVyKCkge1xuICAgICAgICB2YXIgJHByZWxvYWRlciA9ICQoJyNwYWdlUHJlbG9hZGVyJyksXG4gICAgICAgICAgICAkc3Bpbm5lciA9ICRwcmVsb2FkZXIuZmluZCgnLnNwaW5uZXInKTtcblxuICAgICAgICAkc3Bpbm5lci5mYWRlT3V0KCk7XG4gICAgICAgICRwcmVsb2FkZXIuZGVsYXkoMzUwKS5mYWRlT3V0KCdzbG93Jyk7XG4gICAgfVxuXG59KShqUXVlcnkpO1xuIiwiKGZ1bmN0aW9uKCAkICkge1xuXG4gICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICB2YXIgJGJvZHkgPSAkKCdib2R5Jyk7XG4gICAgICAgdmFyICR0b3BMaW5rID0gJCgnLnRvcF9saW5rJyk7XG5cbiAgICAgICAkdG9wTGluay5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICRib2R5LmFuaW1hdGUoe3Njcm9sbFRvcDogMH0sIDgwMCk7XG5cbiAgICAgICB9KTtcblxuXG4gICAgICAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgIGluaXRUb3BMaW5rKCk7XG4gICAgICAgfTtcblxuXG4gICAgICAgLyoqXG4gICAgICAgICogXG4gICAgICAgICovXG4gICAgICAgZnVuY3Rpb24gaW5pdFRvcExpbmsoKSB7XG4gICAgICAgICAgIGlmICgkYm9keS5zY3JvbGxUb3AoKSA+IDQwMCkge1xuICAgICAgICAgICAgICAgJHRvcExpbmsuc2hvdygnZmFzdCcpO1xuICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgJHRvcExpbmsuaGlkZSgnZmFzdCcpO1xuICAgICAgICAgICB9XG4gICAgICAgfVxuXG5cbiAgIH0pO1xuXG5cblxufSkoalF1ZXJ5KTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgcm9vdCBvbiAyOS4wNS4xNy5cbiAqL1xuXG4oZnVuY3Rpb24oJCkge1xuXG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgc29ydEZpZWxkID0gJCgnLnNvcnRfZmllbGQnKTtcbiAgICAgIHZhciBnYWxsZXJ5TGlzdCA9ICQoJy5nYWxsZXJ5X2xpc3QnKTtcbiAgICAgIHNvcnRGaWVsZC5jbGljayhmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdmFyIHNvcnRUeXBlID0gJCh0aGlzKS5hdHRyKCdkYXRhLXNvcnQnKTtcbiAgICAgICAgICB2YXIgdGVybXMgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtdGVybXMnKTtcbiAgICAgICAgICB2YXIgcmVzcG9uc2VEYXRhID0ge1xuICAgICAgICAgICAgICAnYWN0aW9uJzogJ215ZmlsdGVyJyxcbiAgICAgICAgICAgICAgJ3NvcnRfdHlwZSc6IHNvcnRUeXBlLFxuICAgICAgICAgICAgICAndGVybXMnOiB0ZXJtc1xuICAgICAgICAgIH07XG4gICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgdXJsOiB3aW5kb3cud3BfZGF0YS5hamF4X3VybCxcbiAgICAgICAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICh4aHIpIHtcbiAgICAgICAgICAgICAgICAgIGdhbGxlcnlMaXN0LmZpbmQoJy5zb3J0X3ByZWxvYWRlcicpLnNob3coKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgIGdhbGxlcnlMaXN0LmZpbmQoJy5zb3J0X3ByZWxvYWRlcicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgIGdhbGxlcnlMaXN0Lmh0bWwoZGF0YSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuXG4gICAgICB9KTtcblxuICB9KVxuXG5cbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDMwLjAzLjIwMTcuXG4gKi9cblxuKGZ1bmN0aW9uKCAkICkge1xuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKCk7XG4gICAgfSk7XG5cbn0pKGpRdWVyeSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgbWFzdGVyIG9uIDE2LjA1LjIwMTcuXG4gKi9cbihmdW5jdGlvbiggJCApIHtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciAkZm9ybSA9ICQoJyN1cGRhdGVVc2VySW5mbycpO1xuXG4gICAgICAgICRmb3JtLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdmFyIHVzZXJJZCA9ICQoJyN1c2VySWQnKS52YWwoKTtcbiAgICAgICAgICAgIHZhciB1c2VyVXJsID0gJCgnI3VzZXJVcmwnKS52YWwoKTtcbiAgICAgICAgICAgIHZhciB1c2VyTmFtZSA9ICQoJyN1c2VyTmFtZScpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGZvcm1BY3Rpb24gPSAkKCcjZm9ybUFjdGlvbicpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRMYW5nID0gJCgnI2N1cnJlbnRMYW5nJykudmFsKCk7XG5cbiAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZvcm1BY3Rpb24sXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgICAgIHVzZXJfdXJsOiB1c2VyVXJsLFxuICAgICAgICAgICAgICAgIHVzZXJfbmFtZTogdXNlck5hbWUsXG4gICAgICAgICAgICAgICAgY3VycmVudF9sYW5nOiBjdXJyZW50TGFuZ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJC5wb3N0KGFqYXhfdmFyLCBmb3JtRGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHVzZXJNZXNzYWdlID0gJCgnI3VzZXJNZXNzYWdlcycpO1xuXG4gICAgICAgICAgICAgICAgJHVzZXJNZXNzYWdlLnRleHQocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICR1c2VyTWVzc2FnZS5zbGlkZVRvZ2dsZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG5cblxuXG5cblxuXG5cblxuICAgIH0pO1xuXG5cblxuXG5cblxuXG59KShqUXVlcnkpOyIsIi8qKlxuICogQ3JlYXRlZCBieSByb290IG9uIDAxLjA2LjE3LlxuICovXG4oZnVuY3Rpb24oJCkge1xuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHRvcEhlbHBlckJ1dHRvbiA9ICQoJyN0b3BBY3Rpb25Gb3JVbmxvZ2dpbmVkJyk7XG4gICAgICAgIHRvcEhlbHBlckJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHNlbmREYXRhVG9ZYW5kZXhNZXRyaWNhKCd0b3BIZWxwZXJIZXJlQnV0dG9uJyk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbkZvcm0gPSAkKCcucmVnX2Zvcm0nKS5maW5kKCdmb3JtJyk7XG4gICAgICAgIHJlZ2lzdHJhdGlvbkZvcm0uc3VibWl0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VuZERhdGFUb1lhbmRleE1ldHJpY2EoJ3JlZ2lzdHJhdGlvbkZvcm0nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGJ1dHRvbkxlYXJuTW9yZSA9ICQoJyNidXR0b25MZWFybk1vcmUnKTtcbiAgICAgICAgYnV0dG9uTGVhcm5Nb3JlLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBzZW5kRGF0YVRvWWFuZGV4TWV0cmljYSgnYnV0dG9uTGVhcm5Nb3JlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBidXR0b21SZWdpc3RyYXRpb25CdXR0b24gPSAkKCcjYnV0dG9uUmVnaXN0cmF0aW9uT25CdXR0b20nKTtcbiAgICAgICAgYnV0dG9tUmVnaXN0cmF0aW9uQnV0dG9uLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBzZW5kRGF0YVRvWWFuZGV4TWV0cmljYSgnYm90dG9tUmVnaXN0cmF0aW9uJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBib3R0b21Db250YWN0Rm9ybSA9ICQoJy53cGNmNy1mb3JtJyk7XG5cbiAgICAgICAgYm90dG9tQ29udGFjdEZvcm0uY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgIHNlbmREYXRhVG9ZYW5kZXhNZXRyaWNhKCdib3R0b21Db250YWN0Rm9ybScpO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIHZhciBob3VzZU5vbWluYXRpb25CdXR0b24gPSAkKCcjYnV0dG9uSG91c2UnKTtcbiAgICAgICAgaG91c2VOb21pbmF0aW9uQnV0dG9uLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBzZW5kRGF0YVRvWWFuZGV4TWV0cmljYSgnYnV0dG9uSG91c2UnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNpdHlPblRoZVdhdGVyTm9taW5hdGlvbiA9ICQoJyNCdXR0b25DaXR5T250aGVXYXRlcicpO1xuICAgICAgICBjaXR5T25UaGVXYXRlck5vbWluYXRpb24uY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgIHNlbmREYXRhVG9ZYW5kZXhNZXRyaWNhKCdjaXR5T25UaGVXYXRlck5vbWluYXRpb24nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGFwcGFydGFtZW50c05vbWluYXRpb24gPSAkKCcjYnV0dG9uQXBwYXJ0YW1lbnRzJyk7XG4gICAgICAgIGFwcGFydGFtZW50c05vbWluYXRpb24uY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgIHNlbmREYXRhVG9ZYW5kZXhNZXRyaWNhKCdidXR0b25BcGFydGFtZW50c05vbWluYXRpb24nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGJ1dHRvbkJ1c1N0YXRpb24gPSAkKCcjYnV0dG9uQnVzU3RhdGlvbicpO1xuICAgICAgICBidXR0b25CdXNTdGF0aW9uLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBzZW5kRGF0YVRvWWFuZGV4TWV0cmljYSgnYnV0dG9uQnVzU3RhdGlvbk5vbWluYXRpb24nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAgKiBAcGFyYW0gZXZlbnRJZFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc2VuZERhdGFUb1lhbmRleE1ldHJpY2EoZXZlbnRJZCkge1xuICAgICAgICAgICAgIHlhQ291bnRlcjQ0MjQ1NDc0LnJlYWNoR29hbChldmVudElkLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2VuZCBldmVudCBkYXRhIHRvICcgKyBldmVudElkKTtcbiAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoalF1ZXJ5KTtcbiJdfQ==
